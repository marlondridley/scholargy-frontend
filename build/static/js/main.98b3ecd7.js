/*! For license information please see main.98b3ecd7.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),P(o,t,a,"",function(e){return e})):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(i=e[c],c);l+=P(i,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=P(i=i.value,t,a,u=s+C(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(829)),s=r(n(736));class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let i;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(i=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(i="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new s.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}}t.default=o},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,R(_);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(c)&&a(c),x(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,j=null,E=-1,N=5,C=-1;function P(){return!(t.unstable_now()-C<N)}function T(){if(null!==j){var e=t.unstable_now();C=e;var n=!0;try{n=j(!0,e)}finally{n?S():(k=!1,j=null)}}else k=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=T,S=function(){A.postMessage(null)}}else S=function(){v(T,0)};function R(e){j=e,k||(k=!0,S())}function L(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,L(w,s-o))):(e.sortIndex=i,n(c,e),m||p||(m=!0,R(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(630)),s=r(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,a;let o=null,i=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(i="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const a=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(o={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,l=null,c=406,u="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(i=[],o=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(a=null===o||void 0===o?void 0:o.details)||void 0===a?void 0:a.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&this.shouldThrowOnError)throw new s.default(o)}return{error:o,data:i,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(286));class s extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const i=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(i,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=s},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>o,Request:()=>i,Response:()=>l,default:()=>s,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,s=r.fetch.bind(r),o=r.Headers,i=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,U=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(ws){var t=ws.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var M=!1;function B(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(ys){var r=ys}Reflect.construct(e,[],t)}else{try{t.call()}catch(ys){r=ys}e.call(t.prototype)}else{try{throw Error()}catch(ys){r=ys}e()}}catch(ys){if(ys&&r&&"string"===typeof ys.stack){for(var a=ys.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function F(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case j:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return W(e(t))}catch(ws){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Ps){return e.body}}function J(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,Se=null;function ke(e){if(e=ya(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),we(e.stateNode,e.type,t))}}function je(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ee(){if(_e){var e=_e,t=Se;if(Se=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Pe=!1;function Te(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==_e||null!==Se)&&(Ce(),Ee())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ae=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(xs){Ae=!1}function Le(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(Cs){this.onError(Cs)}}var Ie=!1,De=null,Ue=!1,ze=null,Me={onError:function(e){Ie=!0,De=e}};function Be(e,t,n,r,a,s,o,i,l){Ie=!1,De=null,Le.apply(Me,arguments)}function Fe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Fe(e)!==e)throw Error(s(188))}function Ve(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Je=a.unstable_requestPaint,Ye=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,Xe=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,rt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/it|0)|0},ot=Math.log,it=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=ut(i):0!==(s&=o)&&(r=ut(s))}else 0!==(o=n&~a)?r=ut(o):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,_t,St,kt,jt=!1,Et=[],Nt=null,Ct=null,Pt=null,Tt=new Map,Ot=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function It(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=va(e.target);if(null!==t){var n=Fe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ut(e)&&n.delete(t)}function Mt(){jt=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==Pt&&Ut(Pt)&&(Pt=null),Tt.forEach(zt),Ot.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Ft(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Ct&&Bt(Ct,e),null!==Pt&&Bt(Pt,e),Tt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Dt(n),null===n.blockedOn&&At.shift()}var Wt=x.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var a=yt,s=Wt.transition;Wt.transition=null;try{yt=1,$t(e,t,n,r)}finally{yt=a,Wt.transition=s}}function qt(e,t,n,r){var a=yt,s=Wt.transition;Wt.transition=null;try{yt=4,$t(e,t,n,r)}finally{yt=a,Wt.transition=s}}function $t(e,t,n,r){if(Ht){var a=Kt(e,t,n,r);if(null===a)Hr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Nt=It(Nt,e,t,n,r,a),!0;case"dragenter":return Ct=It(Ct,e,t,n,r,a),!0;case"mouseover":return Pt=It(Pt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,It(Tt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Ot.set(s,It(Ot.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var s=ya(a);if(null!==s&&xt(s),null===(s=Kt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Kt(e,t,n,r){if(Gt=null,null!==(e=va(e=xe(r))))if(null===(t=Fe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case Xe:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Zt=null;function Xt(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,sn,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=U({},ln,{view:0,detail:0}),dn=rn(un),hn=U({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,sn=e.screenY-on.screenY):sn=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=rn(hn),pn=rn(U({},hn,{dataTransfer:0})),mn=rn(U({},un,{relatedTarget:0})),gn=rn(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),bn=rn(U({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function kn(){return Sn}var jn=U({},un,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=rn(jn),Nn=rn(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(U({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=rn(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=rn(Tn),An=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var In=u&&"TextEvent"in window&&!Ln,Dn=u&&(!Rn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),zn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){je(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,$n=null;function Gn(e){Ur(e,0)}function Kn(e){if(G(ba(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Qn;if(u){var Zn="oninput"in document;if(!Zn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Zn="function"===typeof Xn.oninput}Qn=Zn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",tr),$n=qn=null)}function tr(e){if("value"===e.propertyName&&Kn($n)){var t=[];Vn(t,$n,e,xe(e)),Te(Gn,t)}}function nr(e,t,n){"focusin"===e?(er(),$n=n,(qn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn($n)}function ar(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(_s){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=cr(n,s);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ir(vr,r)||(vr=r,0<(r=qr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Sr={};function kr(e){if(_r[e])return _r[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var jr=kr("animationend"),Er=kr("animationiteration"),Nr=kr("animationstart"),Cr=kr("transitionend"),Pr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Tr.length;Ar++){var Rr=Tr[Ar];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(jr,"onAnimationEnd"),Or(Er,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(Be.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var u=De;Ie=!1,De=null,Ue||(Ue=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Dr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Dr(a,i,c),s=l}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Mr(t,!1,e),Mr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Mr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var a=Vt;break;case 4:a=qt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=va(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Te(function(){var r=s,a=xe(n),o=[];e:{var i=Pr.get(e);if(void 0!==i){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case jr:case Er:case Nr:l=gn;break;case Cr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Vr(p,m,f)))),d)break;p=p.return}0<u.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=Fe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?i:ba(l),f=null==c?i:ba(c),(i=new u(m,p+"leave",l,n,a)).target=d,i.relatedTarget=f,m=null,va(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=$r(f))p++;for(f=0,m=h;m;m=$r(m))f++;for(;0<p-f;)u=$r(u),p--;for(;0<f-p;)h=$r(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=$r(u),h=$r(h)}u=null}else u=null;null!==l&&Gr(o,i,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(i=r?ba(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Jn;else if(Hn(i))if(Yn)g=sr;else{g=rr;var v=nr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ar);switch(g&&(g=g(e,r))?Vn(o,g,n,a):(v&&v(e,i,r),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=r?ba(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(o,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,a)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?Mn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(y=Xt()):(Qt="value"in(Yt=a)?Yt.value:Yt.textContent,Fn=!0)),0<(v=qr(r,b)).length&&(b=new bn(b,e,null,n,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Rn&&Mn(e,t)?(e=Xt(),Zt=Qt=Yt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Ur(o,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Oe(e,n))&&r.unshift(Vr(e,s,a)),null!=(s=Oe(e,t))&&r.push(Vr(e,s,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Oe(n,s))&&o.unshift(Vr(n,l,i)):a||null!=(l=Oe(n,s))&&o.push(Vr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Jr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var Xr=null,ea=null;function ta(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,ra="function"===typeof clearTimeout?clearTimeout:void 0,aa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof aa?function(e){return aa.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout(function(){throw e})}function ia(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ft(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),da="__reactFiber$"+ua,ha="__reactProps$"+ua,fa="__reactContainer$"+ua,pa="__reactEvents$"+ua,ma="__reactListeners$"+ua,ga="__reactHandles$"+ua;function va(e){var t=e[da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[da]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[da])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[da]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[ha]||null}var wa=[],_a=-1;function Sa(e){return{current:e}}function ka(e){0>_a||(e.current=wa[_a],wa[_a]=null,_a--)}function ja(e,t){_a++,wa[_a]=e.current,e.current=t}var Ea={},Na=Sa(Ea),Ca=Sa(!1),Pa=Ea;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){ka(Ca),ka(Na)}function Ra(e,t,n){if(Na.current!==Ea)throw Error(s(168));ja(Na,t),ja(Ca,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return U({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Pa=Na.current,ja(Na,e),ja(Ca,Ca.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=La(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,ka(Ca),ka(Na),ja(Na,e)):ka(Ca),ja(Ca,n)}var Ua=null,za=!1,Ma=!1;function Ba(e){null===Ua?Ua=[e]:Ua.push(e)}function Fa(){if(!Ma&&null!==Ua){Ma=!0;var e=0,t=yt;try{var n=Ua;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ua=null,za=!1}catch(a){throw null!==Ua&&(Ua=Ua.slice(e+1)),$e(Ze,Fa),a}finally{yt=t,Ma=!1}}return null}var Wa=[],Ha=0,Va=null,qa=0,$a=[],Ga=0,Ka=null,Ja=1,Ya="";function Qa(e,t){Wa[Ha++]=qa,Wa[Ha++]=Va,Va=e,qa=t}function Za(e,t,n){$a[Ga++]=Ja,$a[Ga++]=Ya,$a[Ga++]=Ka,Ka=e;var r=Ja;e=Ya;var a=32-st(r)-1;r&=~(1<<a),n+=1;var s=32-st(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ja=1<<32-st(t)+a|n<<a|r,Ya=s+e}else Ja=1<<s|n<<a|r,Ya=e}function Xa(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function es(e){for(;e===Va;)Va=Wa[--Ha],Wa[Ha]=null,qa=Wa[--Ha],Wa[Ha]=null;for(;e===Ka;)Ka=$a[--Ga],$a[Ga]=null,Ya=$a[--Ga],$a[Ga]=null,Ja=$a[--Ga],$a[Ga]=null}var ts=null,ns=null,rs=!1,as=null;function ss(e,t){var n=Wc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ts=e,ns=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ts=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Ja,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Wc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ts=e,ns=null,!0);default:return!1}}function is(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(rs){var t=ns;if(t){var n=t;if(!os(e,t)){if(is(e))throw Error(s(418));t=la(n.nextSibling);var r=ts;t&&os(e,t)?ss(r,n):(e.flags=-4097&e.flags|2,rs=!1,ts=e)}}else{if(is(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ts=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ts=e}function us(e){if(e!==ts)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ta(e.type,e.memoizedProps)),t&&(t=ns)){if(is(e))throw ds(),Error(s(418));for(;t;)ss(e,t),t=la(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ns=la(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ns=null}}else ns=ts?la(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=ns;e;)e=la(e.nextSibling)}function hs(){ns=ts=null,rs=!1}function ps(e){null===as?as=[e]:as.push(e)}var gs=x.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ss(e){return(0,e._init)(e._payload)}function ks(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&Ss(s)===t.type)?((r=a(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=$c(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case _:return(t=Jc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=$c(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case _:return n.key===a?u(e,t,n,r):null;case A:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||I(n))return null!==a?null:d(e,t,n,r,null);bs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,a,null);bs(t,r)}return null}function m(a,s,i,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,i[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===i.length)return n(a,d),rs&&Qa(a,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(a,i[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return rs&&Qa(a,m),c}for(d=r(a,d);m<i.length;m++)null!==(g=p(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),rs&&Qa(a,m),c}function g(a,i,l,c){var u=I(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=i,g=i=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),i=o(b,i,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),rs&&Qa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return rs&&Qa(a,g),u}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),rs&&Qa(a,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=a(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Ss(c)===u.type){n(r,u.sibling),(s=a(u,o.props)).ref=vs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=$c(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=qc(o.type,o.key,o.props,null,r.mode,l)).ref=vs(r,s,o),l.return=r,r=l)}return i(r);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Jc(o,r.mode,l)).return=r,r=s}return i(r);case A:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(I(o))return g(r,s,o,l);bs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Kc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var js=ks(!0),Ts=ks(!1),As=Sa(null),Rs=null,Ls=null,Is=null;function Ds(){Is=Ls=Rs=null}function Us(e){var t=As.current;ka(As),e._currentValue=t}function zs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ms(e,t){Rs=e,Is=Ls=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ti=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:t,next:null},null===Ls){if(null===Rs)throw Error(s(308));Ls=e,Rs.dependencies={lanes:0,firstContext:e}}else Ls=Ls.next=e;return t}var Fs=null;function Ws(e){null===Fs?Fs=[e]:Fs.push(e)}function Hs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ws(t)):(n.next=a.next,a.next=n),t.interleaved=n,Vs(e,r)}function Vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qs=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Js(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Vs(e,n)}return null===(a=r.interleaved)?(t.next=t,Ws(r)):(t.next=a.next,a.next=t),r.interleaved=t,Vs(e,n)}function Ys(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zs(e,t,n,r){var a=e.updateQueue;qs=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(o=0,u=c=l=null,i=s;;){var h=i.lane,f=i.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=U({},d,h);break e;case 2:qs=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Gl|=o,e.lanes=o,e.memoizedState=d}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var eo={},to=Sa(eo),ro=Sa(eo),ao=Sa(eo);function so(e){if(e===eo)throw Error(s(174));return e}function oo(e,t){switch(ja(ao,t),ja(ro,e),ja(to,eo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(to),ja(to,t)}function io(){ka(to),ka(ro),ka(ao)}function lo(e){so(ao.current);var t=so(to.current),n=le(t,e.type);t!==n&&(ja(ro,e),ja(to,n))}function co(e){ro.current===e&&(ka(to),ka(ro))}var uo=Sa(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=[];function po(){for(var e=0;e<fo.length;e++)fo[e]._workInProgressVersionPrimary=null;fo.length=0}var mo=x.ReactCurrentDispatcher,go=x.ReactCurrentBatchConfig,vo=0,yo=null,bo=null,xo=null,wo=!1,_o=!1,So=0,ko=0;function jo(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function No(e,t,n,r,a,o){if(vo=o,yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mo.current=null===e||null===e.memoizedState?ui:di,e=n(r,a),_o){o=0;do{if(_o=!1,So=0,25<=o)throw Error(s(301));o+=1,xo=bo=null,t.updateQueue=null,mo.current=hi,e=n(r,a)}while(_o)}if(mo.current=ci,t=null!==bo&&null!==bo.next,vo=0,xo=bo=yo=null,wo=!1,t)throw Error(s(300));return e}function Co(){var e=0!==So;return So=0,e}function Po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?yo.memoizedState=xo=e:xo=xo.next=e,xo}function To(){if(null===bo){var e=yo.alternate;e=null!==e?e.memoizedState:null}else e=bo.next;var t=null===xo?yo.memoizedState:xo.next;if(null!==t)xo=t,bo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(bo=e).memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},null===xo?yo.memoizedState=xo=e:xo=xo.next=e}return xo}function Oo(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=bo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((vo&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=r):c=c.next=h,yo.lanes|=d,Gl|=d}u=u.next}while(null!==u&&u!==o);null===c?i=r:c.next=l,or(r,t.memoizedState)||(Ti=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,yo.lanes|=o,Gl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);or(o,t.memoizedState)||(Ti=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Lo(){}function Io(e,t){var n=yo,r=To(),a=t(),o=!or(r.memoizedState,a);if(o&&(r.memoizedState=a,Ti=!0),r=r.queue,Go(zo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==xo&&1&xo.memoizedState.tag){if(n.flags|=2048,Wo(9,Uo.bind(null,n,r,a,t),void 0,null),null===Bl)throw Error(s(349));0!==(30&vo)||Do(n,t,a)}return a}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yo.updateQueue)?(t={lastEffect:null,stores:null},yo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Uo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Bo(e)}function zo(e,t,n){return n(function(){Mo(t)&&Bo(e)})}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(_s){return!0}}function Bo(e){var t=Vs(e,1);null!==t&&fc(t,e,1,-1)}function Fo(e){var t=Po();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,yo,e),[t.memoizedState,e]}function Wo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=yo.updateQueue)?(t={lastEffect:null,stores:null},yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ho(){return To().memoizedState}function Vo(e,t,n,r){var a=Po();yo.flags|=e,a.memoizedState=Wo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var a=To();r=void 0===r?null:r;var s=void 0;if(null!==bo){var o=bo.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(a.memoizedState=Wo(t,n,s,r))}yo.flags|=e,a.memoizedState=Wo(1|t,n,s,r)}function $o(e,t){return Vo(8390656,8,e,t)}function Go(e,t){return qo(2048,8,e,t)}function Ko(e,t){return qo(4,2,e,t)}function Jo(e,t){return qo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Yo.bind(null,t,e),n)}function Zo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ei(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ti(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,Ti=!0),e.memoizedState=n):(or(n,t)||(n=pt(),yo.lanes|=n,Gl|=n,e.baseState=!0),t)}function ni(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=go.transition;go.transition={};try{e(!1),t()}finally{yt=n,go.transition=r}}function ri(){return To().memoizedState}function ai(e,t,n){var r=hc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oi(e))ii(t,n);else if(null!==(n=Hs(e,t,n,r))){fc(n,e,r,dc()),li(n,t,r)}}function si(e,t,n){var r=hc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oi(e))ii(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,or(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ws(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(ys){}null!==(n=Hs(e,t,a,r))&&(fc(n,e,r,a=dc()),li(n,t,r))}}function oi(e){var t=e.alternate;return e===yo||null!==t&&t===yo}function ii(e,t){_o=wo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function li(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ci={readContext:Bs,useCallback:jo,useContext:jo,useEffect:jo,useImperativeHandle:jo,useInsertionEffect:jo,useLayoutEffect:jo,useMemo:jo,useReducer:jo,useRef:jo,useState:jo,useDebugValue:jo,useDeferredValue:jo,useTransition:jo,useMutableSource:jo,useSyncExternalStore:jo,useId:jo,unstable_isNewReconciler:!1},ui={readContext:Bs,useCallback:function(e,t){return Po().memoizedState=[e,void 0===t?null:t],e},useContext:Bs,useEffect:$o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Po();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Po();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ai.bind(null,yo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Po().memoizedState=e},useState:Fo,useDebugValue:Zo,useDeferredValue:function(e){return Po().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=ni.bind(null,e[1]),Po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yo,a=Po();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Bl)throw Error(s(349));0!==(30&vo)||Do(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,$o(zo.bind(null,r,o,e),[e]),r.flags|=2048,Wo(9,Uo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Po(),t=Bl.identifierPrefix;if(rs){var n=Ya;t=":"+t+"R"+(n=(Ja&~(1<<32-st(Ja)-1)).toString(32)+n),0<(n=So++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},di={readContext:Bs,useCallback:Xo,useContext:Bs,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Jo,useMemo:ei,useReducer:Ao,useRef:Ho,useState:function(){return Ao(Oo)},useDebugValue:Zo,useDeferredValue:function(e){return ti(To(),bo.memoizedState,e)},useTransition:function(){return[Ao(Oo)[0],To().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Io,useId:ri,unstable_isNewReconciler:!1},hi={readContext:Bs,useCallback:Xo,useContext:Bs,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Jo,useMemo:ei,useReducer:Ro,useRef:Ho,useState:function(){return Ro(Oo)},useDebugValue:Zo,useDeferredValue:function(e){var t=To();return null===bo?t.memoizedState=e:ti(t,bo.memoizedState,e)},useTransition:function(){return[Ro(Oo)[0],To().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Io,useId:ri,unstable_isNewReconciler:!1};function fi(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function pi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mi={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dc(),a=hc(e),s=Ks(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Js(e,s,a))&&(fc(t,e,a,r),Ys(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dc(),a=hc(e),s=Ks(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Js(e,s,a))&&(fc(t,e,a,r),Ys(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dc(),r=hc(e),a=Ks(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Js(e,a,r))&&(fc(t,e,r,n),Ys(t,e,r))}};function gi(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(a,s))}function vi(e,t,n){var r=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=Bs(s):(a=Oa(t)?Pa:Na.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Ea),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function yi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function bi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},$s(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Bs(s):(s=Oa(t)?Pa:Na.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(pi(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&mi.enqueueReplaceState(a,a.state,null),Zs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function xi(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(Ns){a="\nError generating stack: "+Ns.message+"\n"+Ns.stack}return{value:e,source:t,stack:a,digest:null}}function wi(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function _i(e,t){try{console.error(t.value)}catch(ws){setTimeout(function(){throw ws})}}var Si="function"===typeof WeakMap?WeakMap:Map;function ki(e,t,n){(n=Ks(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tc||(tc=!0,nc=r),_i(0,t)},n}function ji(e,t,n){(n=Ks(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){_i(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){_i(0,t),"function"!==typeof r&&(null===rc?rc=new Set([this]):rc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ei(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Dc.bind(null,e,t,n),t.then(e,e))}function Ni(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ci(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ks(-1,1)).tag=2,Js(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Pi=x.ReactCurrentOwner,Ti=!1;function Oi(e,t,n,r){t.child=null===e?Ts(t,null,n,r):js(t,e.child,n,r)}function Ai(e,t,n,r,a){n=n.render;var s=t.ref;return Ms(t,a),r=No(e,t,n,r,s,a),n=Co(),null===e||Ti?(rs&&n&&Xa(t),t.flags|=1,Oi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tl(e,t,a))}function Ri(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Hc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Li(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(o,r)&&e.ref===t.ref)return tl(e,t,a)}return t.flags|=1,(e=Vc(s,r)).ref=t.ref,e.return=t,t.child=e}function Li(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(ir(s,r)&&e.ref===t.ref){if(Ti=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,tl(e,t,a);0!==(131072&e.flags)&&(Ti=!0)}}return Ui(e,t,n,r,a)}function Ii(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ja(Vl,Hl),Hl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ja(Vl,Hl),Hl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ja(Vl,Hl),Hl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ja(Vl,Hl),Hl|=r;return Oi(e,t,a,n),t.child}function Di(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ui(e,t,n,r,a){var s=Oa(n)?Pa:Na.current;return s=Ta(t,s),Ms(t,a),n=No(e,t,n,r,s,a),r=Co(),null===e||Ti?(rs&&r&&Xa(t),t.flags|=1,Oi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tl(e,t,a))}function zi(e,t,n,r,a){if(Oa(n)){var s=!0;Ia(t)}else s=!1;if(Ms(t,a),null===t.stateNode)el(e,t),vi(t,n,r),bi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Bs(c):c=Ta(t,c=Oa(n)?Pa:Na.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&yi(t,o,r,c),qs=!1;var h=t.memoizedState;o.state=h,Zs(t,r,o,a),l=t.memoizedState,i!==r||h!==l||Ca.current||qs?("function"===typeof u&&(pi(t,n,u,r),l=t.memoizedState),(i=qs||gi(t,n,i,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Gs(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:fi(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Bs(l):l=Ta(t,l=Oa(n)?Pa:Na.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&yi(t,o,r,l),qs=!1,h=t.memoizedState,o.state=h,Zs(t,r,o,a);var p=t.memoizedState;i!==d||h!==p||Ca.current||qs?("function"===typeof f&&(pi(t,n,f,r),p=t.memoizedState),(c=qs||gi(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mi(e,t,n,r,s,a)}function Mi(e,t,n,r,a,s){Di(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Da(t,n,!1),tl(e,t,s);r=t.stateNode,Pi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=js(t,e.child,null,s),t.child=js(t,null,i,s)):Oi(e,t,i,s),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function Bi(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),oo(e,t.containerInfo)}function Fi(e,t,n,r,a){return hs(),ps(a),t.flags|=256,Oi(e,t,n,r),t.child}var Wi,Hi,Vi,qi,$i={dehydrated:null,treeContext:null,retryLane:0};function Gi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ki(e,t,n){var r,a=t.pendingProps,o=uo.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ja(uo,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Gc(l,a,0,null),e=$c(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gi(n),t.memoizedState=$i,e):Ji(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Yi(e,t,i,r=wi(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Gc({mode:"visible",children:r.children},a,0,null),(o=$c(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&js(t,e.child,null,i),t.child.memoizedState=Gi(i),t.memoizedState=$i,o);if(0===(1&t.mode))return Yi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Yi(e,t,i,r=wi(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),Ti||l){if(null!==(r=Bl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Vs(e,a),fc(r,e,a,-1))}return Ec(),Yi(e,t,i,r=wi(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=zc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ns=la(a.nextSibling),ts=t,rs=!0,as=null,null!==e&&($a[Ga++]=Ja,$a[Ga++]=Ya,$a[Ga++]=Ka,Ja=e.id,Ya=e.overflow,Ka=t),t=Ji(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Vc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Vc(r,i):(i=$c(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Gi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=$i,a}return e=(i=e.child).sibling,a=Vc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ji(e,t){return(t=Gc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Yi(e,t,n,r){return null!==r&&ps(r),js(t,e.child,null,n),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),zs(e.return,t,n)}function Zi(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Xi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Oi(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,n,t);else if(19===e.tag)Qi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ja(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Zi(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ho(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Zi(t,!0,n,null,s);break;case"together":Zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function nl(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var r=t.pendingProps;switch(es(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rl(t),null;case 1:case 17:return Oa(t.type)&&Aa(),rl(t),null;case 3:return r=t.stateNode,io(),ka(Ca),ka(Na),po(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==as&&(vc(as),as=null))),Hi(e,t),rl(t),null;case 5:co(t);var a=so(ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Vi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=so(to.current),us(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[da]=t,r[ha]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)zr(Lr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":$(r),X(r,o,!0);break;case"textarea":$(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[da]=t,e[ha]=r,Wi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)zr(Lr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":Y(e,r),a=J(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=U({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":$(e),X(e,r,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return rl(t),null;case 6:if(e&&null!=t.stateNode)qi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=so(ao.current),so(to.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[da]=t,(o=r.nodeValue!==n)&&null!==(e=ts))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[da]=t,t.stateNode=r}return rl(t),null;case 13:if(ka(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,o=!1;else if(o=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[da]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),o=!1}else null!==as&&(vc(as),as=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===ql&&(ql=3):Ec())),null!==t.updateQueue&&(t.flags|=4),rl(t),null);case 4:return io(),Hi(e,t),null===e&&Fr(t.stateNode.containerInfo),rl(t),null;case 10:return Us(t.type._context),rl(t),null;case 19:if(ka(uo),null===(o=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)nl(o,!1);else{if(0!==ql||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ho(e))){for(t.flags|=128,nl(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ja(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Xl&&(t.flags|=128,r=!0,nl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ho(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),nl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return rl(t),null}else 2*Ye()-o.renderingStartTime>Xl&&1073741824!==n&&(t.flags|=128,r=!0,nl(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,ja(uo,r?1&n|2:1&n),t):(rl(t),null);case 22:case 23:return _c(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Hl)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function sl(e,t){switch(es(t),t.tag){case 1:return Oa(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ka(Ca),ka(Na),po(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return co(t),null;case 13:if(ka(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(uo),null;case 4:return io(),null;case 10:return Us(t.type._context),null;case 22:case 23:return _c(),null;default:return null}}Wi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Hi=function(){},Vi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,so(to.current);var s,o=null;switch(n){case"input":a=J(e,a),r=J(e,r),o=[];break;case"select":a=U({},a,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},qi=function(e,t,n,r){n!==r&&(t.flags|=4)};var ol=!1,il=!1,ll="function"===typeof WeakSet?WeakSet:Set,cl=null;function ul(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(_s){Ic(e,t,_s)}else n.current=null}function dl(e,t,n){try{n()}catch(_s){Ic(e,t,_s)}}var hl=!1;function fl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&dl(t,n,s)}a=a.next}while(a!==r)}}function pl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ml(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function gl(e){var t=e.alternate;null!==t&&(e.alternate=null,gl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[da],delete t[ha],delete t[pa],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||vl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}var wl=null,_l=!1;function Sl(e,t,n){for(n=n.child;null!==n;)kl(e,t,n),n=n.sibling}function kl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(Es){}switch(n.tag){case 5:il||ul(n,t);case 6:var r=wl,a=_l;wl=null,Sl(e,t,n),_l=a,null!==(wl=r)&&(_l?(e=wl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):wl.removeChild(n.stateNode));break;case 18:null!==wl&&(_l?(e=wl,n=n.stateNode,8===e.nodeType?ia(e.parentNode,n):1===e.nodeType&&ia(e,n),Ft(e)):ia(wl,n.stateNode));break;case 4:r=wl,a=_l,wl=n.stateNode.containerInfo,_l=!0,Sl(e,t,n),wl=r,_l=a;break;case 0:case 11:case 14:case 15:if(!il&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&dl(n,t,o),a=a.next}while(a!==r)}Sl(e,t,n);break;case 1:if(!il&&(ul(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Es){Ic(n,t,Es)}Sl(e,t,n);break;case 21:Sl(e,t,n);break;case 22:1&n.mode?(il=(r=il)||null!==n.memoizedState,Sl(e,t,n),il=r):Sl(e,t,n);break;default:Sl(e,t,n)}}function jl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ll),t.forEach(function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function El(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:wl=l.stateNode,_l=!1;break e;case 3:case 4:wl=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===wl)throw Error(s(160));kl(o,i,a),wl=null,_l=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(ys){Ic(a,t,ys)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(El(t,e),Cl(e),4&r){try{fl(3,e,e.return),pl(3,e)}catch(fs){Ic(e,e.return,fs)}try{fl(5,e,e.return)}catch(fs){Ic(e,e.return,fs)}}break;case 1:El(t,e),Cl(e),512&r&&null!==n&&ul(n,n.return);break;case 5:if(El(t,e),Cl(e),512&r&&null!==n&&ul(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(fs){Ic(e,e.return,fs)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),ye(l,i);var u=ye(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?me(a,h):"dangerouslySetInnerHTML"===d?ue(a,h):"children"===d?de(a,h):b(a,d,h,u)}switch(l){case"input":Z(a,o);break;case"textarea":se(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(fs){Ic(e,e.return,fs)}}break;case 6:if(El(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(fs){Ic(e,e.return,fs)}}break;case 3:if(El(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(fs){Ic(e,e.return,fs)}break;case 4:default:El(t,e),Cl(e);break;case 13:El(t,e),Cl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Zl=Ye())),4&r&&jl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(il=(u=il)||d,El(t,e),il=u):El(t,e),Cl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(cl=e,d=e.child;null!==d;){for(h=cl=d;null!==cl;){switch(p=(f=cl).child,f.tag){case 0:case 11:case 14:case 15:fl(4,f,f.return);break;case 1:ul(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(fs){Ic(r,n,fs)}}break;case 5:ul(f,f.return);break;case 22:if(null!==f.memoizedState){Al(h);continue}}null!==p?(p.return=f,cl=p):Al(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(fs){Ic(e,e.return,fs)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(fs){Ic(e,e.return,fs)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:El(t,e),Cl(e),4&r&&jl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(vl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),xl(e,yl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;bl(e,yl(e),o);break;default:throw Error(s(161))}}catch(Os){Ic(e,e.return,Os)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Pl(e,t,n){cl=e,Tl(e,t,n)}function Tl(e,t,n){for(var r=0!==(1&e.mode);null!==cl;){var a=cl,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||ol;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||il;i=ol;var c=il;if(ol=o,(il=l)&&!c)for(cl=a;null!==cl;)l=(o=cl).child,22===o.tag&&null!==o.memoizedState?Rl(a):null!==l?(l.return=o,cl=l):Rl(a);for(;null!==s;)cl=s,Tl(s,t,n),s=s.sibling;cl=a,ol=i,il=c}Ol(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,cl=s):Ol(e)}}function Ol(e){for(;null!==cl;){var t=cl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:il||pl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!il)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:fi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Xs(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xs(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ft(h)}}}break;default:throw Error(s(163))}il||512&t.flags&&ml(t)}catch(ms){Ic(t,t.return,ms)}}if(t===e){cl=null;break}if(null!==(n=t.sibling)){n.return=t.return,cl=n;break}cl=t.return}}function Al(e){for(;null!==cl;){var t=cl;if(t===e){cl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,cl=n;break}cl=t.return}}function Rl(e){for(;null!==cl;){var t=cl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pl(4,t)}catch(Os){Ic(t,n,Os)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(Os){Ic(t,a,Os)}}var s=t.return;try{ml(t)}catch(Os){Ic(t,s,Os)}break;case 5:var o=t.return;try{ml(t)}catch(Os){Ic(t,o,Os)}}}catch(Os){Ic(t,t.return,Os)}if(t===e){cl=null;break}var i=t.sibling;if(null!==i){i.return=t.return,cl=i;break}cl=t.return}}var Ll,Il=Math.ceil,Dl=x.ReactCurrentDispatcher,Ul=x.ReactCurrentOwner,zl=x.ReactCurrentBatchConfig,Ml=0,Bl=null,Fl=null,Wl=0,Hl=0,Vl=Sa(0),ql=0,$l=null,Gl=0,Kl=0,Jl=0,Yl=null,Ql=null,Zl=0,Xl=1/0,ec=null,tc=!1,nc=null,rc=null,ac=!1,sc=null,oc=0,ic=0,lc=null,cc=-1,uc=0;function dc(){return 0!==(6&Ml)?Ye():-1!==cc?cc:cc=Ye()}function hc(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Wl?Wl&-Wl:null!==gs.transition?(0===uc&&(uc=pt()),uc):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function fc(e,t,n,r){if(50<ic)throw ic=0,lc=null,Error(s(185));gt(e,n,r),0!==(2&Ml)&&e===Bl||(e===Bl&&(0===(2&Ml)&&(Kl|=n),4===ql&&yc(e,Wl)),pc(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(Xl=Ye()+500,za&&Fa()))}function pc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-st(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=ht(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=dt(e,e===Bl?Wl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){za=!0,Ba(e)}(bc.bind(null,e)):Ba(bc.bind(null,e)),sa(function(){0===(6&Ml)&&Fa()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=Xe;break;case 16:default:n=et;break;case 536870912:n=nt}n=Bc(n,mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mc(e,t){if(cc=-1,uc=0,0!==(6&Ml))throw Error(s(327));var n=e.callbackNode;if(Rc()&&e.callbackNode!==n)return null;var r=dt(e,e===Bl?Wl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Nc(e,r);else{t=r;var a=Ml;Ml|=2;var o=jc();for(Bl===e&&Wl===t||(ec=null,Xl=Ye()+500,Sc(e,t));;)try{Pc();break}catch(Es){kc(e,Es)}Ds(),Dl.current=o,Ml=a,null!==Fl?t=0:(Bl=null,Wl=0,t=ql)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=gc(e,a))),1===t)throw n=$l,Sc(e,0),yc(e,r),pc(e,Ye()),n;if(6===t)yc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Nc(e,r))&&(0!==(o=ft(e))&&(r=o,t=gc(e,o))),1===t))throw n=$l,Sc(e,0),yc(e,r),pc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ac(e,Ql,ec);break;case 3:if(yc(e,r),(130023424&r)===r&&10<(t=Zl+500-Ye())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){dc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Ac.bind(null,e,Ql,ec),t);break}Ac(e,Ql,ec);break;case 4:if(yc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-st(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=na(Ac.bind(null,e,Ql,ec),r);break}Ac(e,Ql,ec);break;default:throw Error(s(329))}}}return pc(e,Ye()),e.callbackNode===n?mc.bind(null,e):null}function gc(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(Sc(e,t).flags|=256),2!==(e=Nc(e,t))&&(t=Ql,Ql=n,null!==t&&vc(t)),e}function vc(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function yc(e,t){for(t&=~Jl,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(0!==(6&Ml))throw Error(s(327));Rc();var t=dt(e,0);if(0===(1&t))return pc(e,Ye()),null;var n=Nc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=gc(e,r))}if(1===n)throw n=$l,Sc(e,0),yc(e,t),pc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Ql,ec),pc(e,Ye()),null}function xc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Xl=Ye()+500,za&&Fa())}}function wc(e){null!==sc&&0===sc.tag&&0===(6&Ml)&&Rc();var t=Ml;Ml|=1;var n=zl.transition,r=yt;try{if(zl.transition=null,yt=1,e)return e()}finally{yt=r,zl.transition=n,0===(6&(Ml=t))&&Fa()}}function _c(){Hl=Vl.current,ka(Vl)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ra(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(es(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:io(),ka(Ca),ka(Na),po();break;case 5:co(r);break;case 4:io();break;case 13:case 19:ka(uo);break;case 10:Us(r.type._context);break;case 22:case 23:_c()}n=n.return}if(Bl=e,Fl=e=Vc(e.current,null),Wl=Hl=t,ql=0,$l=null,Jl=Kl=Gl=0,Ql=Yl=null,null!==Fs){for(t=0;t<Fs.length;t++)if(null!==(r=(n=Fs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Fs=null}return e}function kc(e,t){for(;;){var n=Fl;try{if(Ds(),mo.current=ci,wo){for(var r=yo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}wo=!1}if(vo=0,xo=bo=yo=null,_o=!1,So=0,Ul.current=null,null===n||null===n.return){ql=1,$l=t,Fl=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Wl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ni(i);if(null!==p){p.flags&=-257,Ci(p,i,l,0,t),1&p.mode&&Ei(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){Ei(o,u,t),Ec();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=Ni(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ci(v,i,l,0,t),ps(xi(c,l));break e}}o=c=xi(c,l),4!==ql&&(ql=2),null===Yl?Yl=[o]:Yl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Qs(o,ki(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===rc||!rc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Qs(o,ji(o,l,t));break e}}o=o.return}while(null!==o)}Oc(n)}catch(x){t=x,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function jc(){var e=Dl.current;return Dl.current=ci,null===e?ci:e}function Ec(){0!==ql&&3!==ql&&2!==ql||(ql=4),null===Bl||0===(268435455&Gl)&&0===(268435455&Kl)||yc(Bl,Wl)}function Nc(e,t){var n=Ml;Ml|=2;var r=jc();for(Bl===e&&Wl===t||(ec=null,Sc(e,t));;)try{Cc();break}catch(a){kc(e,a)}if(Ds(),Ml=n,Dl.current=r,null!==Fl)throw Error(s(261));return Bl=null,Wl=0,ql}function Cc(){for(;null!==Fl;)Tc(Fl)}function Pc(){for(;null!==Fl&&!Ke();)Tc(Fl)}function Tc(e){var t=Ll(e.alternate,e,Hl);e.memoizedProps=e.pendingProps,null===t?Oc(e):Fl=t,Ul.current=null}function Oc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=al(n,t,Hl)))return void(Fl=n)}else{if(null!==(n=sl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return ql=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===ql&&(ql=5)}function Ac(e,t,n){var r=yt,a=zl.transition;try{zl.transition=null,yt=1,function(e,t,n,r){do{Rc()}while(null!==sc);if(0!==(6&Ml))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Bl&&(Fl=Bl=null,Wl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ac||(ac=!0,Bc(et,function(){return Rc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=zl.transition,zl.transition=null;var i=yt;yt=1;var l=Ml;Ml|=4,Ul.current=null,function(e,t){if(Xr=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(no){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=i),f===o&&++d===r&&(c=i),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ea={focusedElem:e,selectionRange:n},Ht=!1,cl=t;null!==cl;)if(e=(t=cl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,cl=e;else for(;null!==cl;){t=cl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:fi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(no){Ic(t,t.return,no)}if(null!==(e=t.sibling)){e.return=t.return,cl=e;break}cl=t.return}m=hl,hl=!1}(e,n),Nl(n,e),fr(ea),Ht=!!Xr,ea=Xr=null,e.current=n,Pl(n,e,a),Je(),Ml=l,yt=i,zl.transition=o}else e.current=n;if(ac&&(ac=!1,sc=e,oc=a),o=e.pendingLanes,0===o&&(rc=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),pc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(tc)throw tc=!1,e=nc,nc=null,e;0!==(1&oc)&&0!==e.tag&&Rc(),o=e.pendingLanes,0!==(1&o)?e===lc?ic++:(ic=0,lc=e):ic=0,Fa()}(e,t,n,r)}finally{zl.transition=a,yt=r}return null}function Rc(){if(null!==sc){var e=bt(oc),t=zl.transition,n=yt;try{if(zl.transition=null,yt=16>e?16:e,null===sc)var r=!1;else{if(e=sc,sc=null,oc=0,0!==(6&Ml))throw Error(s(331));var a=Ml;for(Ml|=4,cl=e.current;null!==cl;){var o=cl,i=o.child;if(0!==(16&cl.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(cl=u;null!==cl;){var d=cl;switch(d.tag){case 0:case 11:case 15:fl(8,d,o)}var h=d.child;if(null!==h)h.return=d,cl=h;else for(;null!==cl;){var f=(d=cl).sibling,p=d.return;if(gl(d),d===u){cl=null;break}if(null!==f){f.return=p,cl=f;break}cl=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}cl=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,cl=i;else e:for(;null!==cl;){if(0!==(2048&(o=cl).flags))switch(o.tag){case 0:case 11:case 15:fl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,cl=y;break e}cl=o.return}}var b=e.current;for(cl=b;null!==cl;){var x=(i=cl).child;if(0!==(2064&i.subtreeFlags)&&null!==x)x.return=i,cl=x;else e:for(i=b;null!==cl;){if(0!==(2048&(l=cl).flags))try{switch(l.tag){case 0:case 11:case 15:pl(9,l)}}catch(_){Ic(l,l.return,_)}if(l===i){cl=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,cl=w;break e}cl=l.return}}if(Ml=a,Fa(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(_){}r=!0}return r}finally{yt=n,zl.transition=t}}return!1}function Lc(e,t,n){e=Js(e,t=ki(0,t=xi(n,t),1),1),t=dc(),null!==e&&(gt(e,1,t),pc(e,t))}function Ic(e,t,n){if(3===e.tag)Lc(e,e,n);else for(;null!==t;){if(3===t.tag){Lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===rc||!rc.has(r))){t=Js(t,e=ji(t,e=xi(n,e),1),1),e=dc(),null!==t&&(gt(t,1,e),pc(t,e));break}}t=t.return}}function Dc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dc(),e.pingedLanes|=e.suspendedLanes&n,Bl===e&&(Wl&n)===n&&(4===ql||3===ql&&(130023424&Wl)===Wl&&500>Ye()-Zl?Sc(e,0):Jl|=n),pc(e,t)}function Uc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=dc();null!==(e=Vs(e,t))&&(gt(e,t,n),pc(e,n))}function zc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Uc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Uc(e,n)}function Bc(e,t){return $e(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wc(e,t,n,r){return new Fc(e,t,n,r)}function Hc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var n=e.alternate;return null===n?((n=Wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Hc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case S:return $c(n.children,a,o,t);case k:i=8,a|=8;break;case j:return(e=Wc(12,n,t,2|a)).elementType=j,e.lanes=o,e;case P:return(e=Wc(13,n,t,a)).elementType=P,e.lanes=o,e;case T:return(e=Wc(19,n,t,a)).elementType=T,e.lanes=o,e;case R:return Gc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:i=10;break e;case N:i=9;break e;case C:i=11;break e;case O:i=14;break e;case A:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Wc(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function $c(e,t,n,r){return(e=Wc(7,e,r,t)).lanes=n,e}function Gc(e,t,n,r){return(e=Wc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return(e=Wc(6,e,null,t)).lanes=n,e}function Jc(e,t,n){return(t=Wc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,a,s,o,i,l){return e=new Yc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Wc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(s),e}function Zc(e){if(!e)return Ea;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oa(n))return La(e,n,t)}return t}function Xc(e,t,n,r,a,s,o,i,l){return(e=Qc(n,r,!0,e,0,s,0,i,l)).context=Zc(null),n=e.current,(s=Ks(r=dc(),a=hc(n))).callback=void 0!==t&&null!==t?t:null,Js(n,s,a),e.current.lanes=a,gt(e,a,r),pc(e,r),e}function eu(e,t,n,r){var a=t.current,s=dc(),o=hc(a);return n=Zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ks(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Js(a,t,o))&&(fc(e,a,o,s),Ys(e,a,o)),o}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}Ll=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)Ti=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ti=!1,function(e,t,n){switch(t.tag){case 3:Bi(t),hs();break;case 5:lo(t);break;case 1:Oa(t.type)&&Ia(t);break;case 4:oo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ja(As,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ja(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ki(e,t,n):(ja(uo,1&uo.current),null!==(e=tl(e,t,n))?e.sibling:null);ja(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Xi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ja(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ii(e,t,n)}return tl(e,t,n)}(e,t,n);Ti=0!==(131072&e.flags)}else Ti=!1,rs&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var a=Ta(t,Na.current);Ms(t,n),a=No(null,t,r,e,a,n);var o=Co();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(o=!0,Ia(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,$s(t),a.updater=mi,t.stateNode=a,a._reactInternals=t,bi(t,r,e,n),t=Mi(null,t,r,!0,o,n)):(t.tag=0,rs&&o&&Xa(t),Oi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Hc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=fi(r,e),a){case 0:t=Ui(null,t,r,e,n);break e;case 1:t=zi(null,t,r,e,n);break e;case 11:t=Ai(null,t,r,e,n);break e;case 14:t=Ri(null,t,r,fi(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ui(e,t,r,a=t.elementType===r?a:fi(r,a),n);case 1:return r=t.type,a=t.pendingProps,zi(e,t,r,a=t.elementType===r?a:fi(r,a),n);case 3:e:{if(Bi(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Gs(e,t),Zs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fi(e,t,r,n,a=xi(Error(s(423)),t));break e}if(r!==a){t=Fi(e,t,r,n,a=xi(Error(s(424)),t));break e}for(ns=la(t.stateNode.containerInfo.firstChild),ts=t,rs=!0,as=null,n=Ts(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===a){t=tl(e,t,n);break e}Oi(e,t,r,n)}t=t.child}return t;case 5:return lo(t),null===e&&ls(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ta(r,a)?i=null:null!==o&&ta(r,o)&&(t.flags|=32),Di(e,t),Oi(e,t,i,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Ki(e,t,n);case 4:return oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=js(t,null,r,n):Oi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ai(e,t,r,a=t.elementType===r?a:fi(r,a),n);case 7:return Oi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,ja(As,r._currentValue),r._currentValue=i,null!==o)if(or(o.value,i)){if(o.children===a.children&&!Ca.current){t=tl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ks(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),zs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),zs(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}Oi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ms(t,n),r=r(a=Bs(a)),t.flags|=1,Oi(e,t,r,n),t.child;case 14:return a=fi(r=t.type,t.pendingProps),Ri(e,t,r,a=fi(r.type,a),n);case 15:return Li(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:fi(r,a),el(e,t),t.tag=1,Oa(r)?(e=!0,Ia(t)):e=!1,Ms(t,n),vi(t,r,a),bi(t,r,a,n),Mi(null,t,r,!0,e,n);case 19:return Xi(e,t,n);case 22:return Ii(e,t,n)}throw Error(s(156,t.tag))};var au="function"===typeof reportError?reportError:function(e){console.error(e)};function su(e){this._internalRoot=e}function ou(e){this._internalRoot=e}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function lu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cu(){}function uu(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=tu(o);i.call(e)}}eu(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=tu(o);s.call(e)}}var o=Xc(t,r,e,0,null,!1,0,"",cu);return e._reactRootContainer=o,e[fa]=o.current,Fr(8===e.nodeType?e.parentNode:e),wc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=tu(l);i.call(e)}}var l=Qc(e,0,!1,null,0,!1,0,"",cu);return e._reactRootContainer=l,e[fa]=l.current,Fr(8===e.nodeType?e.parentNode:e),wc(function(){eu(t,l,n,r)}),l}(n,t,e,a,r);return tu(o)}ou.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));eu(e,t,null,null)},ou.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;wc(function(){eu(null,e,null,null)}),t[fa]=null}},ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Dt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),pc(t,Ye()),0===(6&Ml)&&(Xl=Ye()+500,Fa()))}break;case 13:wc(function(){var t=Vs(e,1);if(null!==t){var n=dc();fc(t,e,1,n)}}),ru(e,1)}},wt=function(e){if(13===e.tag){var t=Vs(e,134217728);if(null!==t)fc(t,e,134217728,dc());ru(e,134217728)}},_t=function(e){if(13===e.tag){var t=hc(e),n=Vs(e,t);if(null!==n)fc(n,e,t,dc());ru(e,t)}},St=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(s(90));G(r),Z(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=xc,Ce=wc;var du={usingClientEntryPoint:!1,Events:[ya,ba,xa,je,Ee,xc]},hu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fu={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{rt=pu.inject(fu),at=pu}catch(xs){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=du,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!iu(e))throw Error(s(299));var n=!1,r="",a=au;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Fr(8===e.nodeType?e.parentNode:e),new su(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return wc(e)},t.hydrate=function(e,t,n){if(!lu(t))throw Error(s(200));return uu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!iu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=au;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Xc(t,null,e,1,null!=n?n:null,a,0,o,i),e[fa]=t.current,Fr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ou(t)},t.render=function(e,t,n){if(!lu(t))throw Error(s(200));return uu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!lu(e))throw Error(s(40));return!!e._reactRootContainer&&(wc(function(){uu(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=xc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return uu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=s},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let s=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer","count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(210));t.PostgrestClient=a.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const o=r(n(736));t.PostgrestFilterBuilder=o.default;const i=r(n(374));t.PostgrestTransformBuilder=i.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,a=n(43),s=n.t(a,2),o=n(391),i=n(950),l=n.t(i,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:o=!1}=a,i=s.history,l=r.Pop,h=null,g=v();function v(){return(i.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:x.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,i.replaceState(c({},i.state,{idx:g}),""));let x={get action(){return l},get location(){return e(s,i)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),h=e,()=>{s.removeEventListener(u,y),h=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let a=p(x.location,e,t);n&&n(a,e),g=v()+1;let c=f(a,g),u=x.createHref(a);try{i.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}o&&h&&h({action:l,location:x.location,delta:1})},replace:function(e,t){l=r.Replace;let a=p(x.location,e,t);n&&n(a,e),g=v();let s=f(a,g),c=x.createHref(a);i.replaceState(s,"",c),o&&h&&h({action:l,location:x.location,delta:0})},go:e=>i.go(e)};return x}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let a=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==a)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let i=0;null==o&&i<s.length;++i){let e=R(a);o=O(s[i],e,r)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let i=M([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),w(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:T(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))a(e,t,r);else a(e,t)}),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let o=_(r.join("/")),i=[];return i.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,k=3,j=2,E=1,N=10,C=-2,P=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=C),t&&(r+=j),n.filter(e=>!P(e)).reduce((e,t)=>e+(S.test(t)?k:""===t?E:N),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",o=[];for(let i=0;i<r.length;++i){let e=r[i],l=i===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:M([s,u.pathname]),pathnameBase:B(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function U(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function z(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=g(e):(a=c({},e),d(!a.pathname||!a.pathname.includes("?"),I("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),I("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),I("#","search","hash",a)));let s,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)s=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:W(a)}}(a,s),u=i&&"/"!==i&&i.endsWith("/"),h=(o||"."===i)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],q=(new Set(V),["get",...V]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}const G=a.createContext(null);const K=a.createContext(null);const J=a.createContext(null);const Y=a.createContext(null);const Q=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=a.createContext(null);function X(){return null!=a.useContext(Y)}function ee(){return X()||d(!1),a.useContext(Y).location}function te(e){a.useContext(J).static||a.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=a.useContext(Q);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=a.useRef(!1);return te(()=>{n.current=!0}),a.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,$({fromRouteId:t},a)))},[e,t])}():function(){X()||d(!1);let e=a.useContext(G),{basename:t,future:n,navigator:r}=a.useContext(J),{matches:s}=a.useContext(Q),{pathname:o}=ee(),i=JSON.stringify(U(s,n.v7_relativeSplatPath)),l=a.useRef(!1);return te(()=>{l.current=!0}),a.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=z(n,JSON.parse(i),o,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,i,o,e])}()}function re(){let{matches:e}=a.useContext(Q),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(J),{matches:s}=a.useContext(Q),{pathname:o}=ee(),i=JSON.stringify(U(s,r.v7_relativeSplatPath));return a.useMemo(()=>z(e,JSON.parse(i),o,"path"===n),[e,i,o,n])}function se(e,t,n,s){X()||d(!1);let{navigator:o}=a.useContext(J),{matches:i}=a.useContext(Q),l=i[i.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let x=ue(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,s);return t&&x?a.createElement(Y.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function oe(){let e=function(){var e;let t=a.useContext(Z),n=pe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const ie=a.createElement(oe,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Q.Provider,{value:this.props.routeContext},a.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(Q.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,r,s)=>{let o,d=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,c&&(u<0&&0===s?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,s+1)),g=()=>{let t;return t=o?h:d?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=a.useContext(G);return t||d(!1),t}function pe(e){let t=a.useContext(K);return t||d(!1),t}function me(e){let t=function(){let e=a.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;X()||d(!1);let{future:o,static:i}=a.useContext(J),{matches:l}=a.useContext(Q),{pathname:c}=ee(),u=ne(),h=z(t,U(l,o.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return a.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function be(e){d(!1)}function xe(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:i,static:l=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:u,navigator:i,static:l,future:$({v7_relativeSplatPath:!1},c)}),[u,c,i,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,b=a.useMemo(()=>{let e=L(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:o}},[u,f,p,m,v,y,o]);return null==b?null:a.createElement(J.Provider,{value:h},a.createElement(Y.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return se(_e(t),n)}new Promise(()=>{});a.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,_e(e.props.children,s));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=_e(e.props.children,s)),n.push(o)}),n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Si){}new Map;const Ee=s.startTransition;l.flushSync,s.useId;function Ne(e){let{basename:t,children:n,future:r,window:s}=e,o=a.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),v(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return p("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,i)));let l=o.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=a.useCallback(e=>{d&&Ee?Ee(()=>u(e)):u(e)},[u,d]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>ve(r),[r]),a.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=a.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=ke(e,je),{basename:g}=a.useContext(J),v=!1;if("string"===typeof u&&Pe.test(u)&&(n=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Si){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||d(!1);let{basename:r,navigator:s}=a.useContext(J),{hash:o,pathname:i,search:l}=ae(e,{relative:n}),c=i;return"/"!==r&&(c="/"===i?r:M([r,i])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ae(e,{relative:i});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,o,i,l])}(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return a.createElement("a",Se({},p,{href:n||y,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Oe,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));class Re extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Le extends Re{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ie extends Re{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class De extends Re{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ue;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Ue||(Ue={}));var ze=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};class Me{constructor(e){let{headers:t={},customFetch:r,region:a=Ue.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return ze(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let o={},{region:i}=t;i||(i=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;i&&"any"!==i&&(o["x-region"]=i,l.searchParams.set("forceFunctionRegion",i)),s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(o["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:c}).catch(e=>{throw new Le(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Ie(u);if(!u.ok)throw new De(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof De||r instanceof Ie?r.context:void 0}}})}}var Be=n(980);const{PostgrestClient:Fe,PostgrestQueryBuilder:We,PostgrestFilterBuilder:He,PostgrestTransformBuilder:Ve,PostgrestBuilder:qe,PostgrestError:$e}=Be;const Ge=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Ke="realtime-js/".concat("2.15.1"),Je=1e4;var Ye,Qe,Ze,Xe,et,tt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ye||(Ye={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Qe||(Qe={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Ze||(Ze={})),function(e){e.websocket="websocket"}(Xe||(Xe={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(et||(et={}));class nt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+r));s+=r;const i=n.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:o,event:i,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class rt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(tt||(tt={}));const at=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=st(a,e,t,r),n),{})},st=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,o=n[e];return s&&!r.includes(s)?ot(s,o):it(o)},ot=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return dt(t,n)}switch(e){case tt.bool:return lt(t);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return ct(t);case tt.json:case tt.jsonb:return ut(t);case tt.timestamp:return ht(t);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:default:return it(t)}},it=e=>e,lt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ct=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ut=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},dt=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(co){r=a?a.split(","):[]}return r.map(e=>ot(t,e))}return e},ht=e=>"string"===typeof e?e.replace(" ","T"):e,ft=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class pt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Je;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mt,gt,vt,yt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(mt||(mt={}));class bt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bt.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=bt.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=bt.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),o={},i={};return this.map(a,(e,t)=>{s[e]||(i[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(o[e]=s),l.length>0&&(i[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:i},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(gt||(gt={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(vt||(vt={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(yt||(yt={}));class xt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new pt(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new rt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Qe.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new bt(this),this.broadcastEndpointURL=ft(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params,i=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[vt.PRESENCE]&&this.bindings[vt.PRESENCE].length>0,c={},u={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:i,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(yt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:o,schema:i,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==o||u.schema!==i||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Qe.errored,void(null===e||void 0===e||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(yt.SUBSCRIBED))}null===e||void 0===e||e(yt.SUBSCRIBED)}).receive("error",t=>{this.state=Qe.errored,null===e||void 0===e||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Qe.joined&&e===vt.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{const{event:s,payload:o}=e,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Qe.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new pt(this,Ze.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new pt(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=Ze;if(n&&[o,i,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,o,i,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(i=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&xt.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=at(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=at(e.columns,e.old_record)),t}}const wt=()=>{},_t=25e3,St=10,kt=100,jt=[1e3,2e3,5e3,1e4];class Et{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Je,this.transport=null,this.heartbeatIntervalMs=_t,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wt,this.ref=0,this.reconnectTimer=null,this.logger=wt,this.conn=null,this.sendBuffer=[],this.serializer=new nt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Xe.websocket),this.httpEndpoint=ft(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ge.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ye.connecting:return et.Connecting;case Ye.open:return et.Open;case Ye.closing:return et.Closing;default:return et.Closed}}isConnected(){return this.connectionState()===et.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new xt("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},kt);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Ke};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Ze.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Si){this.log("error","error in ".concat(e," callback"),Si)}})}catch(Si){this.log("error","error triggering ".concat(e," callbacks"),Si)}}_setupReconnectionTimer(){this.reconnectTimer=new rt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},St)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,o,i,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Je,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:_t,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>jt[e-1]||1e4,this.encode=null!==(i=null===e||void 0===e?void 0:e.encode)&&void 0!==i?i:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Nt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Pt extends Nt{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tt extends Nt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ot=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};const At=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Rt=e=>{if(Array.isArray(e))return e.map(e=>Rt(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Rt(r)}),t};var Lt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};const It=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dt=(e,t,r)=>Lt(void 0,void 0,void 0,function*(){const a=yield Ot(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Pt(It(n),r,a))}).catch(e=>{t(new Tt(It(e),e))}):t(new Tt(It(e),e))}),Ut=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function zt(e,t,n,r,a,s){return Lt(this,void 0,void 0,function*(){return new Promise((o,i)=>{e(n,Ut(t,r,a,s)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>Dt(e,i,r))})})}function Mt(e,t,n,r){return Lt(this,void 0,void 0,function*(){return zt(e,"GET",t,n,r)})}function Bt(e,t,n,r,a){return Lt(this,void 0,void 0,function*(){return zt(e,"POST",t,r,a,n)})}function Ft(e,t,n,r,a){return Lt(this,void 0,void 0,function*(){return zt(e,"PUT",t,r,a,n)})}function Wt(e,t,n,r,a){return Lt(this,void 0,void 0,function*(){return zt(e,"DELETE",t,r,a,n)})}var Ht=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};const Vt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=At(r)}uploadOrUpdate(e,t,n,r){return Ht(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},qt),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const i=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),i&&a.append("metadata",this.encodeMetadata(i)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),i&&a.append("metadata",this.encodeMetadata(i))):(a=n,o["cache-control"]="max-age=".concat(s.cacheControl),o["content-type"]=s.contentType,i&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(i)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Ft:Bt)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:o},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Ht(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+"/object/upload/sign/".concat(s));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:qt.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield Ft(this.fetch,o.toString(),e,{headers:s})).Key},error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}createSignedUploadUrl(e,t){return Ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Bt(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Nt("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ht(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Ht(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Bt(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Ht(this,void 0,void 0,function*(){try{const r=yield Bt(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}download(e,t){return Ht(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Mt(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(Ct(s))return{data:null,error:s};throw s}})}info(e){return Ht(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Mt(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Rt(e),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}exists(e){return Ht(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Lt(this,void 0,void 0,function*(){return zt(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ct(n)&&n instanceof Tt){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let i=r.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(i))}}}remove(e){return Ht(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ht(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Vt),t),{prefix:e||""});return{data:yield Bt(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}listV2(e,t){return Ht(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Bt(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Gt={"X-Client-Info":"storage-js/".concat("2.11.0")};var Kt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};class Jt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},Gt),t),this.fetch=At(n)}listBuckets(){return Kt(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Ct(e))return{data:null,error:e};throw e}})}getBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Kt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Kt(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}}class Yt extends Jt{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new $t(this.url,this.headers,e,this.fetch)}}let Qt="";Qt="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Zt={headers:{"X-Client-Info":"supabase-js-".concat(Qt,"/").concat("2.56.0")}},Xt={schema:"public"},en={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tn={};var nn=n(630),rn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};const an=e=>{let t;return t=e||("undefined"===typeof fetch?nn.default:fetch),function(){return t(...arguments)}},sn=(e,t,n)=>{const r=an(n),a="undefined"===typeof Headers?nn.Headers:Headers;return(n,s)=>rn(void 0,void 0,void 0,function*(){var o;const i=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),r(n,Object.assign(Object.assign({},s),{headers:l}))})};var on=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};const ln="2.71.1",cn=3e4,un=9e4,dn={"X-Client-Info":"gotrue-js/".concat(ln)},hn="X-Supabase-Api-Version",fn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},pn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class mn extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function gn(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class vn extends mn{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class yn extends mn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class bn extends mn{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class xn extends bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class wn extends bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _n extends bn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sn extends bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kn extends bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jn extends bn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function En(e){return gn(e)&&"AuthRetryableFetchError"===e.name}class Nn extends bn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Cn extends bn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tn=" \t\n\r=".split(""),On=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tn.length;t+=1)e[Tn[t].charCodeAt(0)]=-2;for(let t=0;t<Pn.length;t+=1)e[Pn[t].charCodeAt(0)]=t;return e})();function An(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Pn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Pn[e]),t.queuedBits-=6}}function Rn(e,t,n){const r=On[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ln(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)Rn(e.charCodeAt(o),a,s);return t.join("")}function In(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Dn(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}In(r,t)}}function Un(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Rn(e.charCodeAt(a),n,r);return new Uint8Array(t)}function zn(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>An(e,n,r)),An(null,n,r),t.join("")}const Mn=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Bn={tested:!1,writable:!1},Fn=()=>{if(!Mn())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Si){return!1}if(Bn.tested)return Bn.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bn.tested=!0,Bn.writable=!0}catch(Si){Bn.tested=!0,Bn.writable=!1}return Bn.writable};const Wn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Hn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},qn=async(e,t)=>{await e.removeItem(t)};class $n{constructor(){this.promise=new $n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Gn(e){const t=e.split(".");if(3!==t.length)throw new Cn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pn.test(t[n]))throw new Cn("JWT not in base64url format");return{header:JSON.parse(Ln(t[0])),payload:JSON.parse(Ln(t[1])),signature:Un(t[2]),raw:{header:t[0],payload:t[1]}}}function Kn(e){return("0"+e.toString(16)).substr(-2)}async function Jn(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Kn).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Hn(e,"".concat(t,"-code-verifier"),a);const s=await Jn(r);return[s,r===s?"plain":"s256"]}$n.promiseConstructor=Promise;const Qn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Zn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xn(e){if(!Zn.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function er(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function tr(e){return JSON.parse(JSON.stringify(e))}var nr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ar=[502,503,504];async function sr(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new jn(rr(e),0);if(ar.includes(e.status))throw new jn(rr(e),e.status);let r,a;try{r=await e.json()}catch(Si){throw new yn(rr(Si),Si)}const s=function(e){const t=e.headers.get(hn);if(!t)return null;if(!t.match(Qn))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Si){return null}}(e);if(s&&s.getTime()>=fn.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Nn(rr(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new xn}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Nn(rr(r),e.status,r.weak_password.reasons);throw new vn(rr(r),e.status||500,a)}async function or(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[hn]||(s[hn]=fn.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const o=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,s){const o=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let i;try{i=await e(n,Object.assign({},o))}catch(Si){throw console.error(Si),new jn(rr(Si),0)}i.ok||await sr(i);if(null===r||void 0===r?void 0:r.noResolveJson)return i;try{return await i.json()}catch(Si){await sr(Si)}}(e,t,n+i,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ir(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function lr(e){const t=ir(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function cr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ur(e){return{data:e,error:null}}function dr(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,o=nr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},o)},error:null}}function hr(e){return e}const fr=["global","local","others"];var pr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class mr{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Wn(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr[0];if(fr.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(fr.join(", ")));try{return await or(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await or(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:cr})}catch(n){if(gn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=pr(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await or(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:dr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(gn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await or(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:cr})}catch(t){if(gn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await or(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:hr});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(gn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Xn(e);try{return await or(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:cr})}catch(t){if(gn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Xn(e);try{return await or(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:cr})}catch(n){if(gn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Xn(e);try{return await or(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:cr})}catch(n){if(gn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Xn(e.userId);try{const{data:t,error:n}=await or(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(gn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Xn(e.userId),Xn(e.id);try{return{data:await or(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(gn(t))return{data:null,error:t};throw t}}}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vr=!!(globalThis&&Fn()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class yr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class br extends yr{}async function xr(e,t,n){vr&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vr&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw vr&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new br('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(vr)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Si){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Si)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}vr&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{vr&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Si){"undefined"!==typeof self&&(self.globalThis=self)}}();const wr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _r(e,t,n){return await n()}const Sr={};class kr{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kr.nextInstanceID,kr.nextInstanceID+=1,this.instanceID>0&&Mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},wr),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new mr({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Wn(r.fetch),this.lock=r.lock||_r,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Mn()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=xr:this.lock=_r,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Fn()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gr(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=gr(this.memoryStorage)),Mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Si){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Si)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Sr[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Sr[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(ln,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Si){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Mn()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return gn(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return gn(t)?{error:t}:{error:new yn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await or(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ir}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(gn(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Yn(this.storage,this.storageKey)),a=await or(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},xform:ir})}else{if(!("phone"in e))throw new _n("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:o}=e;a=await or(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:ir})}}const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(gn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await or(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:lr})}else{if(!("phone"in e))throw new _n("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await or(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:lr})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new wn}}catch(t){if(gn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,a,s,o,i,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(Mn())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await or(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:zn(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ir});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new wn}}catch(m){if(gn(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Vn(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await or(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ir});if(await qn(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new wn}}catch(a){if(gn(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,o=await or(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ir}),{data:i,error:l}=o;return l?{data:{user:null,session:null},error:l}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l}):{data:{user:null,session:null},error:new wn}}catch(t){if(gn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Yn(this.storage,this.storageKey));const{error:i}=await or(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:i}=await or(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i}}throw new _n("You must provide either an email or phone number.")}catch(o){if(gn(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:o}=await or(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:ir});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const i=s.session,l=s.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(r){if(gn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Yn(this.storage,this.storageKey)),await or(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:ur})}catch(a){if(gn(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new xn;const{error:r}=await or(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(gn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await or(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:o}=await or(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new _n("You must provide either an email or phone number and a type")}catch(t){if(gn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Si){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Si){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<un;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Vn(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=er()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await or(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:cr}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await or(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:cr}):{data:{user:null},error:new xn}})}catch(t){if(gn(t))return function(e){return gn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await qn(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new xn;const s=r.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await Yn(this.storage,this.storageKey));const{data:l,error:c}=await or(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:s.access_token,xform:cr});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(gn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xn;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=Gn(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(gn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new xn;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(gn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Mn())throw new Sn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new kn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Sn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kn("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:o,expires_at:i,token_type:l}=e;if(!a||!o||!s||!l)throw new Sn("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;i&&(d=parseInt(i));const h=d-c;1e3*h<=cn&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(gn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Vn(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return gn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await qn(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Yn(this.storage,this.storageKey,!0));try{return await or(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(gn(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(gn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await or(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return Mn()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(gn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await or(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(gn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await or(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ir})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&En(t)&&Date.now()+n-a<cn},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(Si){if(!r(a,Si))return void t(Si)}})()}))}catch(a){if(this._debug(t,"error",a),gn(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Mn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Vn(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Vn(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Hn(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:er()}else if(a&&!a.user&&!a.user){const e=await Vn(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await qn(this.storage,this.storageKey+"-user"),await Hn(this.storage,this.storageKey,a)):a.user=er()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<un;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(un,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),En(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new $n;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new xn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),gn(a)){const e={session:null,error:a};return En(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Si){r.push(Si)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Hn(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=tr(e);await Hn(this.storage,this.storageKey,r)}else{const e=tr(t);await Hn(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await qn(this.storage,this.storageKey),await qn(this.storage,this.storageKey+"-code-verifier"),await qn(this.storage,this.storageKey+"-user"),this.userStorage&&await qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mn()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Si){console.error("removing visibilitychange callback failed",Si)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/cn);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(cn,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Si){console.error("Auto refresh tick failed with error. This is likely a transient error.",Si)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Si){if(!(Si.isAcquireTimeout||Si instanceof yr))throw Si;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mn()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Yn(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await or(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(gn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:i,error:l}=await or(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===i||void 0===i?void 0:i.totp)||void 0===r?void 0:r.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),{data:i,error:null})})}catch(t){if(gn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:o}=await or(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(t){if(gn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await or(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(gn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Gn(r.access_token);let o=null;s.aal&&(o=s.aal);let i=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(i="aal2");return{data:{currentLevel:o,nextLevel:i,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await or(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:o,payload:i}}=Gn(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return Dn(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(i))))throw new Cn("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}}}kr.nextInstanceID=0;const jr=kr;class Er extends jr{constructor(e){super(e)}}var Nr=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{l(r.next(e))}catch(Si){s(Si)}}function i(e){try{l(r.throw(e))}catch(Si){s(Si)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})};class Cr{constructor(e,t,n){var r,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(i=e).endsWith("/")?i:i+"/";var i;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:a,auth:s,realtime:o,global:i}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),i),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===i||void 0===i?void 0:i.headers)&&void 0!==r?r:{})}),accessToken:()=>on(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Xt,realtime:tn,auth:Object.assign(Object.assign({},en),{storageKey:c}),global:Zt});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=sn(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Fe(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Yt(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Me(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Nr(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,storageKey:i,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Er({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:i,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Et(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pr="undefined"!==typeof window&&window.__ENV__?{url:window.__ENV__.REACT_APP_SUPABASE_URL,key:window.__ENV__.REACT_APP_SUPABASE_ANON_KEY}:"undefined"!==typeof process?{url:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL,key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY}:{url:null,key:null};console.log("Environment check:",{NODE_ENV:"undefined"!==typeof process?"production":"browser",REACT_APP_SUPABASE_URL:Pr.url?"SET":"NOT SET",REACT_APP_SUPABASE_ANON_KEY:Pr.key?"SET":"NOT SET",REACT_APP_API_URL:"/api"!==("undefined"!==typeof window&&window.__ENV__&&window.__ENV__.REACT_APP_API_URL?window.__ENV__.REACT_APP_API_URL:"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL:"/api")?"SET":"NOT SET"});const Tr=Pr.url,Or=Pr.key;let Ar;Tr&&Or||(console.error("Supabase environment variables not set. Please add REACT_APP_SUPABASE_URL and REACT_APP_SUPABASE_ANON_KEY to your Azure Static Web App environment variables."),console.error("Make sure these are set in Azure Portal > Your Static Web App > Configuration > Application settings"));try{Tr&&Or?(console.log("Creating Supabase client with provided credentials"),Ar=((e,t,n)=>new Cr(e,t,n))(Tr,Or)):(console.warn("Creating mock Supabase client - authentication will not work"),Ar={auth:{getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:async()=>({error:{message:"Supabase not configured"}}),signUp:async()=>({error:{message:"Supabase not configured"}}),signOut:async()=>({error:{message:"Supabase not configured"}}),signInWithOAuth:async()=>({error:{message:"Supabase not configured"}}),resetPasswordForEmail:async()=>({error:{message:"Supabase not configured"}}),signInWithOtp:async()=>({error:{message:"Supabase not configured"}}),verifyOtp:async()=>({error:{message:"Supabase not configured"}})}})}catch(ki){console.error("Failed to create Supabase client:",ki),Ar={auth:{getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:async()=>({error:{message:"Supabase not configured"}}),signUp:async()=>({error:{message:"Supabase not configured"}}),signOut:async()=>({error:{message:"Supabase not configured"}}),signInWithOAuth:async()=>({error:{message:"Supabase not configured"}}),resetPasswordForEmail:async()=>({error:{message:"Supabase not configured"}}),signInWithOtp:async()=>({error:{message:"Supabase not configured"}}),verifyOtp:async()=>({error:{message:"Supabase not configured"}})}}}function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Lr(e){var t=function(e,t){if("object"!=Rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rr(t)?t:t+""}function Ir(e,t,n){return(t=Lr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach(function(t){Ir(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const zr="undefined"!==typeof window&&window.__ENV__&&window.__ENV__.REACT_APP_API_URL?window.__ENV__.REACT_APP_API_URL:"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL:"/api",Mr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const a="".concat(zr).concat(e);let s={"Content-Type":"application/json"};if(n)try{s=await(async()=>{try{const{data:{session:e}}=await Ar.auth.getSession(),t=null===e||void 0===e?void 0:e.access_token;if(!t)throw new Error("Authentication token not found.");return{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}catch(ki){throw console.error("Failed to get auth headers:",ki),new Error("Authentication failed. Please log in again.")}})()}catch(r){throw console.error("Authentication failed:",r),new Error("Authentication required. Please log in again.")}const o=Ur(Ur({},t),{},{headers:Ur(Ur({},s),t.headers),credentials:"omit",mode:"cors"}),i=await fetch(a,o);if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||"HTTP error! status: ".concat(i.status))}return i.json()}catch(ki){if(console.error("API request failed for ".concat(e,":"),ki),ki.message.includes("Failed to fetch")||ki.message.includes("NetworkError"))throw console.warn("Backend appears to be offline. Using fallback data."),new Error("Backend service unavailable. Please ensure the backend is running.");throw ki}},Br=e=>Mr("/institutions/".concat(e)),Fr={async checkUserExists(e){try{const{data:t,error:n}=await Ar.from("users").select("*").eq("email",e).single();if(n&&"PGRST116"!==n.code)throw n;return{exists:!!t,user:t}}catch(ki){return console.error("Error checking user existence:",ki),{exists:!1,user:null}}},async upsertUser(e){try{const{data:t,error:n}=await Ar.from("users").upsert([e],{onConflict:"email"}).select().single();if(n)throw n;return{success:!0,user:t}}catch(ki){return console.error("Error upserting user:",ki),{success:!1,error:ki}}},storeUserInLocalStorage(e){try{var t,n,r;const a={id:e.id,email:e.email,name:e.name||(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name),img_url:e.img_url||(null===(n=e.user_metadata)||void 0===n?void 0:n.avatar_url),req_date:e.req_date||(new Date).toISOString(),provider:(null===(r=e.app_metadata)||void 0===r?void 0:r.provider)||"email",created_at:e.created_at,updated_at:e.updated_at||(new Date).toISOString()};return localStorage.setItem("user",JSON.stringify(a)),!0}catch(ki){return console.error("Error storing user in localStorage:",ki),!1}},getUserFromLocalStorage(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(ki){return console.error("Error getting user from localStorage:",ki),null}},clearUserFromLocalStorage(){try{return localStorage.removeItem("user"),!0}catch(ki){return console.error("Error clearing user from localStorage:",ki),!1}},async handleAuthChange(e,t){if("SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user){const e=t.user,{exists:i,user:l}=await this.checkUserExists(e.email);if(i){var n,r;const t=Ur(Ur({},l),{},{name:(null===(n=e.user_metadata)||void 0===n?void 0:n.full_name)||l.name,img_url:(null===(r=e.user_metadata)||void 0===r?void 0:r.avatar_url)||l.img_url,updated_at:(new Date).toISOString()}),{success:a,user:s}=await this.upsertUser(t);a?(this.storeUserInLocalStorage(s),console.log("User profile updated:",s)):(this.storeUserInLocalStorage(l),console.log("Using existing user profile:",l))}else{var a,s,o;const t={id:e.id,email:e.email,name:(null===(a=e.user_metadata)||void 0===a?void 0:a.full_name)||e.email.split("@")[0],img_url:null===(s=e.user_metadata)||void 0===s?void 0:s.avatar_url,provider:(null===(o=e.app_metadata)||void 0===o?void 0:o.provider)||"email",req_date:(new Date).toISOString(),created_at:e.created_at,updated_at:(new Date).toISOString()},{success:n,user:r}=await this.upsertUser(t);n?(this.storeUserInLocalStorage(r),console.log("New user profile created:",r)):console.error("Failed to create user profile")}}else"SIGNED_OUT"===e&&(this.clearUserFromLocalStorage(),console.log("User signed out, cleared localStorage"))},getCurrentUser(){return this.getUserFromLocalStorage()},async updateUserProfile(e,t){try{const{data:n,error:r}=await Ar.from("users").update(Ur(Ur({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(r)throw r;return this.storeUserInLocalStorage(n),{success:!0,user:n}}catch(ki){return console.error("Error updating user profile:",ki),{success:!1,error:ki}}}};var Wr=n(579);const Hr=(0,a.createContext)(null),Vr=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{const{data:{session:e}}=await Ar.auth.getSession();r(e&&e.user?e.user:null)}catch(ki){console.error("Failed to get initial session:",ki),r(null)}finally{l(!1)}})();const e=async(e,t)=>{console.log("Supabase auth event: ".concat(e),t),await Fr.handleAuthChange(e,t),r(t&&t.user?t.user:null),l(!1)};try{const{data:{subscription:t}}=Ar.auth.onAuthStateChange(e);return()=>t.unsubscribe()}catch(ki){console.error("Failed to set up auth state change listener:",ki),l(!1)}},[]),(0,a.useEffect)(()=>{(async()=>{if(n)try{let r=await(t=n.id,Mr("/profile/".concat(t),{},!0));if(!r){const t={email:n.email,fullName:n.user_metadata&&n.user_metadata.full_name,avatarUrl:n.user_metadata&&n.user_metadata.avatar_url,provider:n.app_metadata&&n.app_metadata.provider||"email",gpa:null,major:null,graduationYear:null};r=await(n.id,e=t,Mr("/profile",{method:"POST",body:JSON.stringify({profileData:e})},!0))}o(r),u(!(!r||!r.gpa))}catch(ki){console.error("Error managing user profile:",ki),o(null),u(!1)}else o(null),u(!1);var e,t})()},[n]);const d={user:n,profile:s,setProfile:o,isProfileComplete:c,setIsProfileComplete:u,loading:i,getUserData:()=>Fr.getUserFromLocalStorage(),signIn:async e=>{try{return await Ar.auth.signInWithPassword(e)}catch(ki){throw console.error("Sign in error:",ki),ki}},signUp:async e=>{try{return await Ar.auth.signUp(Object.assign({},e,{options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}}))}catch(ki){throw console.error("Sign up error:",ki),ki}},signOut:async()=>{try{return await Ar.auth.signOut()}catch(ki){throw console.error("Sign out error:",ki),ki}},signInWithGoogle:async()=>{try{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t={redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{access_type:"offline",prompt:"consent",scope:"email profile openid"}};e&&(t.queryParams.nonce=e);const{data:n,error:r}=await Ar.auth.signInWithOAuth({provider:"google",options:t});if(r)throw console.error("Google OAuth error:",r),r;return{data:n,error:null}}catch(ki){return console.error("Google OAuth failed:",ki),{data:null,error:ki}}}();return t.data&&t.data.session&&null!==(e=t.data.session)&&void 0!==e&&e.provider_token&&(localStorage.setItem("google_access_token",e.provider_token),e.provider_refresh_token&&localStorage.setItem("google_refresh_token",e.provider_refresh_token),e.provider_token,e.provider_refresh_token),t}catch(ki){throw console.error("Google sign in error:",ki),ki}var e},resetPasswordForEmail:async e=>{try{return await Ar.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password/confirm")})}catch(ki){throw console.error("Reset password error:",ki),ki}},signInWithOtp:async e=>{try{return await Ar.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1}})}catch(ki){throw console.error("OTP sign in error:",ki),ki}},verifyOtp:async(e,t)=>{try{return await Ar.auth.verifyOtp({email:e,token:t,type:"email"})}catch(ki){throw console.error("OTP verification error:",ki),ki}},updatePassword:async e=>{try{return await Ar.auth.updateUser({password:e})}catch(ki){throw console.error("Update password error:",ki),ki}}};return(0,Wr.jsx)(Hr.Provider,{value:d,children:t})},qr=()=>{const e=(0,a.useContext)(Hr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},$r=()=>{const e=ne();return(0,Wr.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Wr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Wr.jsx)("div",{className:"flex items-center",children:(0,Wr.jsx)(Te,{to:"/dashboard",className:"flex items-center",children:(0,Wr.jsx)("div",{className:"flex-shrink-0",children:(0,Wr.jsx)("h1",{className:"text-xl font-bold text-blue-600",children:"Scholargy"})})})}),(0,Wr.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,Wr.jsx)(Te,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),(0,Wr.jsx)(Te,{to:"/scholarships",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Scholarships"}),(0,Wr.jsx)(Te,{to:"/career-forecaster",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Career Forecaster"}),(0,Wr.jsx)(Te,{to:"/compare-colleges",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Compare Colleges"}),(0,Wr.jsx)(Te,{to:"/matching",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Matching"})]}),(0,Wr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Wr.jsx)(Te,{to:"/profile",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Profile"}),(0,Wr.jsx)("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login")},className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700",children:"Logout"})]})]})})})},Gr=()=>{const e=ee();return(0,Wr.jsxs)("div",{className:"w-64 bg-white shadow-md border-r border-gray-200 flex-col hidden lg:flex",children:[(0,Wr.jsx)("div",{className:"p-6",children:(0,Wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wr.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,Wr.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,Wr.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"Scholargy"})]})}),(0,Wr.jsx)("nav",{className:"flex-1 px-4 py-2 space-y-2",children:[{name:"Dashboard",path:"/dashboard",icon:"\ue05e\u5320"},{name:"Student Profile",path:"/student-profile",icon:"\ue05e\u5074"},{name:"Scholarships",path:"/scholarships",icon:"\ue05e\u96cc"},{name:"StudentVue",path:"/studentvue",icon:"\ue05e\u8feb"},{name:"Compare Colleges",path:"/compare",icon:"\ue05e\u6295"}].map(t=>(0,Wr.jsxs)(Te,{to:t.path,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ".concat(e.pathname===t.path?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:bg-gray-100"),children:[(0,Wr.jsx)("span",{className:"text-xl",children:t.icon}),(0,Wr.jsx)("span",{children:t.name})]},t.name))})]})},Kr=e=>{let{children:t}=e;return(0,Wr.jsxs)("div",{className:"min-h-screen bg-gray-100 font-sans text-gray-800 flex",children:[(0,Wr.jsx)(Gr,{}),(0,Wr.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Wr.jsx)($r,{}),(0,Wr.jsx)("main",{className:"flex-1 p-6 lg:p-8",children:t})]})]})};class Jr extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Wr.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,Wr.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),(0,Wr.jsx)("p",{className:"text-gray-600 mb-4",children:"The application encountered an error and couldn't load properly."}),(0,Wr.jsxs)("div",{className:"space-y-2",children:[(0,Wr.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 mr-2",children:"Refresh Page"}),(0,Wr.jsx)("button",{onClick:()=>window.location.href="/login",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Go to Login"})]}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"If the problem persists, please check your browser console for more details."})]})}):this.props.children}}const Yr=Jr,Qr=e=>{let{closed:t}=e;return(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-500",children:t?(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"}):(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"})})},Zr=()=>{const{signIn:e,signUp:t,signInWithGoogle:n,signInWithOtp:r,verifyOtp:s}=qr(),o=ne(),[i,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[f,p]=(0,a.useState)("signin"),[m,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),[b,x]=(0,a.useState)(""),[w,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>(window.handleSignInWithGoogle=async e=>{x(""),_(!0);try{const{error:t}=await(async e=>{try{const{data:t,error:n}=await Ar.auth.signInWithIdToken({provider:"google",token:e.credential});if(n)throw console.error("Google sign-in error:",n),n;return{data:t,error:null}}catch(t){return console.error("Google sign-in failed:",t),{data:null,error:t}}})(e);if(t)throw t;console.log("Google sign-in successful")}catch(t){x(t.message||"Failed to sign in with Google."),_(!1)}},()=>{delete window.handleSignInWithGoogle}),[]);return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-4xl font-extrabold text-blue-600 mb-2",children:"Scholargy"}),(0,Wr.jsxs)("p",{className:"text-gray-500 mb-8",children:["signin"===f&&"Sign in to your account","signup"===f&&"Create your account","otp"===f&&"Sign in with a one-time code"]}),(0,Wr.jsx)("div",{id:"g_id_onload","data-client_id":{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_CLIENT_ID,"data-context":"signin","data-ux_mode":"popup","data-callback":"handleSignInWithGoogle","data-auto_select":"true","data-itp_support":"true","data-use_fedcm_for_prompt":"true"}),(0,Wr.jsx)("div",{className:"g_id_signin w-full","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left"}),(0,Wr.jsxs)("button",{onClick:async()=>{x(""),_(!0);try{const{data:e,error:t}=await n();if(t)throw t;null!==e&&void 0!==e&&e.url&&(window.location.href=e.url)}catch(e){x(e.message||"Failed to sign in with Google."),_(!1)}},disabled:w,className:"w-full bg-white border border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center justify-center disabled:opacity-50 mt-2",children:[(0,Wr.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[(0,Wr.jsx)("path",{fill:"#4285F4",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),(0,Wr.jsx)("path",{fill:"#34A853",d:"m6.306 14.691 6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"}),(0,Wr.jsx)("path",{fill:"#FBBC05",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),(0,Wr.jsx)("path",{fill:"#EA4335",d:"M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.087 5.571l6.19 5.238C42.012 35.245 44 30.035 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google (Fallback)"]}),(0,Wr.jsxs)("div",{className:"my-6 flex items-center",children:[(0,Wr.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,Wr.jsx)("span",{className:"flex-shrink mx-4 text-gray-400 text-xs",children:"OR"}),(0,Wr.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,Wr.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),x(""),y(""),"otp"===f||(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)?!("otp"!==f&&c.length<6)||(x("Password must be at least 6 characters long."),0):(x("Please enter a valid email address."),0))){_(!0);try{let n;if("signup"===f){if(n=await t({email:i,password:c}),n.error)throw n.error;y("Check your email for a confirmation link to complete registration.")}else if("signin"===f){if(n=await e({email:i,password:c}),n.error)throw n.error}else if("otp"===f)if(d){if(n=await s(i,d),n.error)throw n.error}else{if(n=await r(i),n.error)throw n.error;y("A one-time code has been sent to your email.")}}catch(a){x(a.message||"An unexpected error occurred.")}finally{_(!1)}}},className:"space-y-4",children:[(0,Wr.jsx)("input",{type:"email",placeholder:"Email",value:i,onChange:e=>l(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:"otp"===f&&!!v}),"otp"===f&&v&&(0,Wr.jsx)("input",{type:"text",placeholder:"One-time code",value:d,onChange:e=>h(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),"otp"!==f&&(0,Wr.jsxs)("div",{className:"relative",children:[(0,Wr.jsx)("input",{type:m?"text":"password",placeholder:"Password",value:c,onChange:e=>u(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),(0,Wr.jsx)("button",{type:"button",onClick:()=>g(!m),className:"absolute inset-y-0 right-0 px-3 flex items-center",children:(0,Wr.jsx)(Qr,{closed:!m})})]}),b&&(0,Wr.jsx)("p",{className:"text-red-500 text-sm text-left",children:b}),v&&(0,Wr.jsx)("p",{className:"text-green-500 text-sm text-left",children:v}),(0,Wr.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:w?"Processing...":"signin"===f?"Sign In":"signup"===f?"Sign Up":d?"Verify & Sign In":"Send Code"})]}),(0,Wr.jsxs)("div",{className:"mt-6 text-sm flex justify-between",children:[(0,Wr.jsx)("button",{onClick:()=>{p("signup"===f?"signin":"signup"),y(""),x("")},className:"font-medium text-blue-600 hover:text-blue-500",children:"signup"===f?"Have an account? Sign In":"Don't have an account?"}),(0,Wr.jsx)("button",{onClick:()=>{p("otp"===f?"signin":"otp"),y(""),x("")},className:"font-medium text-blue-600 hover:text-blue-500",children:"otp"===f?"Use Password":"Use one-time code"})]}),(0,Wr.jsx)("div",{className:"mt-4 text-sm",children:(0,Wr.jsx)("button",{onClick:()=>o("/reset-password"),className:"font-medium text-gray-500 hover:text-gray-700",children:"Forgot your password?"})})]})})})};function Xr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ea=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ta=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var na={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ra=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],aa=(0,a.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:c}=e,u=Xr(e,ra);return(0,a.createElement)("svg",Ur(Ur(Ur({ref:t},na),{},{width:r,height:r,stroke:n,strokeWidth:o?24*Number(s)/Number(r):s,className:ta("lucide",i)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),sa=["className"],oa=(e,t)=>{const n=(0,a.forwardRef)((n,r)=>{let{className:s}=n,o=Xr(n,sa);return(0,a.createElement)(aa,Ur({ref:r,iconNode:t,className:ta("lucide-".concat((i=ea(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},o));var i});return n.displayName=ea(e),n},ia=oa("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),la=oa("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ca=oa("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ua=oa("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),da=oa("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ha=oa("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fa=oa("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);async function pa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n;if(!e)return console.warn("No userId provided to getDashboardData"),_a(t);console.log("Fetching dashboard data for userId:",e);try{if(!(await fetch("/health")).ok)throw new Error("Backend health check failed")}catch(r){return console.warn("Backend appears to be offline:",r.message),_a(t)}try{if(!(await fetch("/health")).ok)throw new Error("Backend health check failed")}catch(r){return console.warn("Backend appears to be offline:",r.message),_a(t)}try{if(!(await fetch("/health")).ok)throw new Error("Backend health check failed")}catch(r){return console.warn("Backend appears to be offline:",r.message),_a(t)}const[a,s,o,i]=await Promise.allSettled([ma(e,t),ga(e),va(e,t),ya(e,t)]),l="fulfilled"===a.status?a.value:t,c="fulfilled"===s.status?s.value:[],u="fulfilled"===o.status?o.value:{totalEligibleAmount:0,opportunities:[]},d="fulfilled"===i.status?i.value:"";console.log("Dashboard data fetched:",{hasProfile:!!l,collegeCount:c.length,scholarshipCount:(null===(n=u.opportunities)||void 0===n?void 0:n.length)||0,hasCareerInsights:!!d});const h=await async function(e,t,n){try{const r=await fetch("/api/dashboard/next-steps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentProfile:e,collegeMatches:t,scholarships:n.opportunities||[],userId:null===e||void 0===e?void 0:e.userId})});if(r.ok){const n=await r.json();return{actionPlan:n.nextSteps||[],probabilities:xa(e,t),context:n.context||{}}}}catch(ki){console.warn("Failed to generate AI insights:",ki)}return{actionPlan:wa(e,n),probabilities:xa(e,t),context:{}}}(l,c,u);return{studentProfile:l,topColleges:c,scholarships:u,careerInsights:d,actionPlan:h.actionPlan,admissionProbabilities:h.probabilities,userStats:ba(l),context:h.context}}catch(ki){return console.error("Error fetching dashboard data:",ki),_a(t)}}async function ma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return t;try{console.log("Fetching student profile for userId:",e);const t=await fetch("/api/profile/".concat(e));if(t.ok){const e=await t.json();return console.log("Student profile fetched:",e),e.profile||e}console.warn("Failed to fetch student profile:",t.status,t.statusText)}catch(ki){console.warn("Failed to fetch student profile:",ki)}return null}async function ga(e){try{console.log("Fetching college matches for userId:",e);const n=await fetch("/api/dashboard/top-matches?userId=".concat(e));if(n.ok){var t;const e=await n.json();return console.log("College matches fetched:",(null===(t=e.results)||void 0===t?void 0:t.length)||0,"matches"),e.results||[]}console.warn("Failed to fetch college matches:",n.status,n.statusText)}catch(ki){console.warn("Failed to fetch college matches:",ki)}return[]}async function va(e){try{const t=await fetch("/api/dashboard/scholarship-stats?userId=".concat(e));if(t.ok){const e=await t.json();return{totalEligibleAmount:e.totalEligibleAmount||0,opportunities:e.opportunities||[]}}}catch(ki){console.warn("Failed to fetch scholarships:",ki)}return{totalEligibleAmount:0,opportunities:[]}}async function ya(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return"";try{const e=await fetch("/api/rag/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"What career insights and recommendations can you provide for this student?",context:{studentProfile:t}})});if(e.ok){return(await e.json()).text||""}}catch(ki){console.warn("Failed to fetch career insights:",ki)}return""}function ba(e){if(!e)return{profileScore:0,recommendationLevel:"Incomplete",completionPercentage:0,strengths:[],areasForImprovement:[],gpaPercentile:0,satPercentile:0};const t=["gpa","satScore","gradeLevel","extracurriculars","career_goals"],n=t.filter(t=>{const n=e[t];return n&&""!==n.toString().trim()&&"N/A"!==n}),r=Math.round(n.length/t.length*100);let a=0;if(e.gpa){const t=parseFloat(e.gpa);a+=t>=4?30:t>=3.8?25:t>=3.5?20:t>=3?15:t>=2.5?10:5}if(e.satScore){const t=parseInt(e.satScore);a+=t>=1500?30:t>=1400?25:t>=1300?20:t>=1200?15:t>=1100?10:5}if(e.extracurriculars){const t=e.extracurriculars.split(",").length;a+=Math.min(2*t,20)}e.career_goals&&(a+=20);let s="Incomplete";a>=80?s="Excellent":a>=60?s="Good":a>=40?s="Fair":a>=20&&(s="Needs Improvement");const o=e.gpa?Math.min(Math.round(parseFloat(e.gpa)/4*100),100):0,i=e.satScore?Math.min(Math.round(parseInt(e.satScore)/1600*100),100):0,l=[],c=[];return e.gpa&&parseFloat(e.gpa)>=3.5?l.push("Strong Academic Performance"):c.push("Improve GPA"),e.satScore&&parseInt(e.satScore)>=1300?l.push("High Test Scores"):c.push("Consider SAT/ACT Prep"),e.extracurriculars?l.push("Active in Extracurriculars"):c.push("Add Extracurricular Activities"),e.career_goals?l.push("Clear Career Goals"):c.push("Define Career Goals"),{profileScore:a,recommendationLevel:s,completionPercentage:r,strengths:l,areasForImprovement:c,gpaPercentile:o,satPercentile:i}}function xa(e,t){if(!e||!t||0===t.length)return{};const n={};return t.forEach(t=>{let r=50;if(e.gpa&&t.avgGPA){r+=10*(parseFloat(e.gpa)-t.avgGPA)}else if(e.gpa&&t.admission_rate){const n=parseFloat(e.gpa),a=100*t.admission_rate;r+=n>=4?30:n>=3.8?25:n>=3.5?20:n>=3?15:n>=2.5?10:5,a<10?r-=20:a<25?r-=10:a>80&&(r+=10)}if(e.satScore&&t.avgSAT){r+=(parseInt(e.satScore)-t.avgSAT)/20}else if(e.satScore&&t.sat_scores){const n=parseInt(e.satScore),a=t.sat_scores.average||1200;n>=a+200?r+=20:n>=a+100?r+=15:n>=a?r+=10:n>=a-100?r+=5:r-=10}if(e.extracurriculars){const t=e.extracurriculars.split(",").length;r+=Math.min(2*t,10)}if(e.career_goals&&t.popular_majors){const n=e.career_goals.toLowerCase();t.popular_majors.map(e=>e.toLowerCase()).some(e=>n.includes(e)||e.includes(n))&&(r+=10)}const a=Math.min(Math.max(Math.round(r),5),95);let s="target";s=a>=70?"safety":a>=40?"target":"reach",n[t.unitid||t._id]={probability:a,likelihood:s,factors:{gpa:e.gpa?parseFloat(e.gpa):null,sat:e.satScore?parseInt(e.satScore):null,extracurriculars:e.extracurriculars?e.extracurriculars.split(",").length:0,careerGoals:!!e.career_goals}}}),n}function wa(e,t){const n=[];if(e&&e.gpa?n.push({task:"Complete your college applications early. With your ".concat(e.gpa," GPA, focus on schools where you're a strong candidate."),priority:"high",dueDate:"ASAP"}):n.push({task:"Complete your college applications early to meet deadlines and maximize your chances of admission.",priority:"high",dueDate:"ASAP"}),t&&t.opportunities&&t.opportunities.length>0){const e=t.totalEligibleAmount;n.push({task:"Apply for scholarships immediately. You have access to $".concat(e.toLocaleString()," in potential funding with ").concat(t.opportunities.length," opportunities."),priority:"high",dueDate:"ASAP"})}else n.push({task:"Research and apply for scholarships that match your academic profile and career goals.",priority:"medium",dueDate:"This week"});return!e||e.satScore&&"N/A"!==e.satScore?n.push({task:"Continue building your extracurricular activities and leadership experience to strengthen your applications.",priority:"medium",dueDate:"Ongoing"}):n.push({task:"Register for and prepare for the SAT/ACT to strengthen your college applications.",priority:"medium",dueDate:"Next month"}),n}function _a(e){return{studentProfile:e,topColleges:[],scholarships:{totalEligibleAmount:0,opportunities:[]},careerInsights:"",actionPlan:wa(e,{totalEligibleAmount:0,opportunities:[]}),admissionProbabilities:{},userStats:ba(e),context:{}}}function Sa(e){return!e||isNaN(e)?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function ka(e){if(!e)return null;const t=new Date(e),n=new Date,r=t.getTime()-n.getTime();return Math.ceil(r/864e5)}function ja(e){return e<=7?"text-red-600 bg-red-100":e<=30?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100"}function Ea(e){let{profile:t,stats:n}=e;return t&&n?(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(la,{className:"h-6 w-6 text-purple-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Where am I now?"})]}),(0,Wr.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Wr.jsxs)("div",{className:"flex items-center",children:[(0,Wr.jsx)(ca,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Wr.jsx)("span",{className:"font-semibold text-gray-800",children:"Profile Score"})]}),(0,Wr.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[n.profileScore,"/100"]})]}),(0,Wr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Wr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-1000",style:{width:"".concat(n.profileScore,"%")}})}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:n.recommendationLevel})]}),(0,Wr.jsxs)("div",{className:"flex items-center",children:[(0,Wr.jsx)("div",{className:"bg-blue-100 p-2 rounded-md mr-3",children:(0,Wr.jsx)(ua,{className:"h-5 w-5 text-blue-600"})}),(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsxs)("p",{className:"font-semibold text-gray-800",children:["GPA: ",t.gpa||"N/A"]}),n.gpaPercentile>0&&(0,Wr.jsxs)("p",{className:"text-sm text-gray-600",children:[n.gpaPercentile,"th percentile"]})]})]}),(0,Wr.jsxs)("div",{className:"flex items-center",children:[(0,Wr.jsx)("div",{className:"bg-green-100 p-2 rounded-md mr-3",children:(0,Wr.jsx)(da,{className:"h-5 w-5 text-green-600"})}),(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsxs)("p",{className:"font-semibold text-gray-800",children:["SAT: ",t.satScore||"N/A"]}),n.satPercentile>0&&(0,Wr.jsxs)("p",{className:"text-sm text-gray-600",children:[n.satPercentile,"th percentile"]})]})]}),(0,Wr.jsxs)("div",{className:"flex items-start",children:[(0,Wr.jsx)("div",{className:"bg-orange-100 p-2 rounded-md mr-3 mt-1",children:(0,Wr.jsx)(ha,{className:"h-5 w-5 text-orange-600"})}),(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsx)("p",{className:"font-semibold text-gray-800",children:"Career Goal"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:t.career_goals||"Not specified"})]})]}),(0,Wr.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Wr.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Profile Completeness"}),(0,Wr.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[n.completionPercentage,"%"]})]}),(0,Wr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Wr.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-1000",style:{width:"".concat(n.completionPercentage,"%")}})}),(()=>{const e=function(e){if(!e)return{level:"Incomplete",color:"text-red-600",bgColor:"bg-red-100",icon:"!"};const t=ba(e),n=t.completionPercentage;return n>=80&&t.profileScore>=70?{level:"On Track",color:"text-green-600",bgColor:"bg-green-100",icon:"\u2713"}:n>=60&&t.profileScore>=50?{level:"Getting There",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:"\u26a0"}:{level:"Needs Action",color:"text-red-600",bgColor:"bg-red-100",icon:"!"}}(t);return(0,Wr.jsx)("div",{className:"mt-2 p-2 rounded-lg ".concat(e.bgColor),children:(0,Wr.jsx)("div",{className:"flex items-center justify-between",children:(0,Wr.jsxs)("span",{className:"text-sm font-medium ".concat(e.color),children:[e.icon," ",e.level]})})})})()]}),n.strengths.length>0&&(0,Wr.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,Wr.jsxs)("h4",{className:"font-semibold text-green-800 mb-2 flex items-center",children:[(0,Wr.jsx)(fa,{className:"h-4 w-4 mr-1"}),"Your Strengths"]}),(0,Wr.jsx)("ul",{className:"text-sm text-green-700 space-y-1",children:n.strengths.map((e,t)=>(0,Wr.jsxs)("li",{className:"flex items-center",children:[(0,Wr.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"}),e]},t))})]})]})]}):(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(la,{className:"h-6 w-6 text-purple-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Profile"})]}),(0,Wr.jsx)("div",{className:"text-center text-gray-500 py-8",children:(0,Wr.jsx)("p",{children:"No profile data available"})})]})}const Na=oa("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Ca=oa("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Pa=oa("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ta=e=>{let{likelihood:t}=e;return(0,Wr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold border ".concat((()=>{switch(t){case"safety":return"bg-green-100 text-green-800 border-green-200";case"target":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"reach":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})()),children:(()=>{switch(t){case"safety":return"Safety";case"target":return"Target";case"reach":return"Reach";default:return"Unknown"}})()})};function Oa(e){let{matches:t,probabilities:n,onViewAll:r}=e;return t&&0!==t.length?(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Na,{className:"h-6 w-6 text-indigo-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Top College Matches"})]}),(0,Wr.jsx)("div",{className:"space-y-4 flex-grow",children:t.slice(0,3).map((e,t)=>{var r,a;const s=n[e.unitid||e._id],o=(null===(r=e.general_info)||void 0===r?void 0:r.name)||e.name||"Unknown College",i=e.general_info?"".concat(e.general_info.city,", ").concat(e.general_info.state):e.location||"Location not specified",l=e.netCost||(null===(a=e.cost_and_aid)||void 0===a?void 0:a.tuition_in_state)||"N/A";return(0,Wr.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 transition-colors border border-gray-100",children:[(0,Wr.jsx)("div",{className:"flex-shrink-0",children:(0,Wr.jsx)("div",{className:"h-12 w-12 bg-indigo-600 text-white rounded-full flex items-center justify-center text-lg font-bold",children:o.charAt(0).toUpperCase()})}),(0,Wr.jsx)("div",{className:"flex-grow min-w-0",children:(0,Wr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Wr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Wr.jsx)("p",{className:"font-semibold text-gray-800 truncate",children:o}),(0,Wr.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,Wr.jsx)(Ca,{className:"h-3 w-3 mr-1"}),(0,Wr.jsx)("span",{className:"truncate",children:i})]}),(0,Wr.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,Wr.jsx)(Pa,{className:"h-3 w-3 mr-1"}),(0,Wr.jsxs)("span",{children:["Est. Net Cost: $","number"===typeof l?l.toLocaleString():l,"/yr"]})]})]}),(0,Wr.jsx)("div",{className:"flex flex-col items-end ml-2",children:s&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsxs)("p",{className:"text-sm font-semibold text-gray-600",children:[s.probability,"%"]}),(0,Wr.jsx)(Ta,{likelihood:s.likelihood})]})})]})})]},t)})}),(0,Wr.jsx)("div",{className:"mt-6 text-center",children:(0,Wr.jsx)("button",{onClick:r,className:"w-full bg-indigo-600 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-indigo-700 transition-colors transform hover:scale-105",children:"View All Matches"})})]}):(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Na,{className:"h-6 w-6 text-indigo-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Top College Matches"})]}),(0,Wr.jsxs)("div",{className:"text-center text-gray-500 py-8 flex-grow",children:[(0,Wr.jsx)("p",{children:"No college matches yet"}),(0,Wr.jsx)("p",{className:"text-sm mt-2",children:"Complete your profile to get personalized matches"})]})]})}const Aa=oa("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Ra=oa("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),La=oa("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function Ia(e){let{scholarships:t,onViewAll:n}=e;const{totalEligibleAmount:r=0,opportunities:a=[]}=t||{};return(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Aa,{className:"h-6 w-6 text-green-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Scholarships"})]}),(0,Wr.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg text-center",children:[(0,Wr.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:Sa(r)}),(0,Wr.jsx)("div",{className:"text-sm text-gray-600",children:"Total Eligible Amount"}),a.length>0&&(0,Wr.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[a.length," opportunities available"]})]}),a.length>0?(0,Wr.jsxs)("div",{className:"space-y-3",children:[(0,Wr.jsxs)("h4",{className:"font-semibold text-gray-700 flex items-center",children:[(0,Wr.jsx)(Ra,{className:"h-4 w-4 mr-2"}),"Next Deadlines"]}),a.slice(0,3).map((e,t)=>{const n=ka(e.deadline);return(0,Wr.jsx)("div",{className:"border-l-4 border-red-500 pl-3 transform transition-all duration-200 hover:scale-105",children:(0,Wr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Wr.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,Wr.jsx)("p",{className:"font-medium text-sm text-gray-800 truncate",children:e.title||"Scholarship Opportunity"}),(0,Wr.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,Wr.jsx)(Pa,{className:"h-3 w-3 mr-1"}),(0,Wr.jsx)("span",{children:Sa(e.amount||0)})]})]}),null!==n&&(0,Wr.jsx)("div",{className:"flex-shrink-0 ml-2",children:(0,Wr.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat(ja(n)),children:[n," days"]})})]})},t)})]}):(0,Wr.jsxs)("div",{className:"text-center text-gray-500 py-4",children:[(0,Wr.jsx)(La,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,Wr.jsx)("p",{className:"text-sm",children:"No scholarship opportunities found"}),(0,Wr.jsx)("p",{className:"text-xs mt-1",children:"Complete your profile to see matches"})]})]}),(0,Wr.jsx)("div",{className:"mt-6 text-center",children:(0,Wr.jsx)("button",{onClick:n,className:"w-full bg-green-600 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-green-700 transition-colors transform hover:scale-105",children:"View All Scholarships"})})]})}const Da=oa("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);function Ua(e){let{careerData:t,profile:n}=e;return(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Da,{className:"h-6 w-6 text-blue-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Career Snapshot"})]}),(0,Wr.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(ha,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Your Goal"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:(null===n||void 0===n?void 0:n.career_goals)||"Not specified"})]}),t&&(0,Wr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(fa,{className:"h-5 w-5 text-green-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Career Insights"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:t})]}),(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(Na,{className:"h-5 w-5 text-purple-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Education Path"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:"Bachelor's Degree"}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended for your career goals"})]}),(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(fa,{className:"h-5 w-5 text-green-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Salary Outlook"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:"Varies by field and experience"}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Complete career forecast for detailed insights"})]}),(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(ha,{className:"h-5 w-5 text-orange-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Skills Focus"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:"Technical and soft skills development"}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Based on your academic profile"})]})]}),(0,Wr.jsx)("div",{className:"mt-6 text-center",children:(0,Wr.jsx)("button",{onClick:()=>window.location.href="/forecaster",className:"w-full bg-blue-600 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-blue-700 transition-colors transform hover:scale-105",children:"View Career Forecast"})})]})}const za=oa("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ma=oa("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ba=oa("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function Fa(e){let{items:t}=e;return t&&0!==t.length?(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Action Plan"}),(0,Wr.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,Wr.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[(0,Wr.jsxs)("div",{className:"flex items-center gap-3 flex-grow",children:[(0,Wr.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ".concat(e.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-blue-400"),children:e.completed&&(0,Wr.jsx)(za,{className:"w-4 h-4"})}),(0,Wr.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,Wr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Wr.jsx)("span",{className:"font-medium text-gray-800 truncate",children:e.text||e.task||"Action ".concat(t+1)}),"high"===e.priority&&(0,Wr.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs font-semibold rounded-full",children:"High Priority"})]}),(0,Wr.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Wr.jsx)(Ra,{className:"h-3 w-3 mr-1"}),(0,Wr.jsxs)("span",{children:["Due: ",e.dueDate||"ASAP"]})]})]})]}),(0,Wr.jsxs)("button",{onClick:e.action||(()=>{}),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm transform hover:scale-105 flex items-center gap-1 ml-4",children:[(0,Wr.jsx)("span",{children:"Start"}),(0,Wr.jsx)(Ma,{className:"h-3 w-3"})]})]},t))}),(0,Wr.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wr.jsx)(Ba,{className:"h-5 w-5 text-blue-600"}),(0,Wr.jsx)("span",{className:"font-semibold text-gray-800",children:"Action Summary"})]}),(0,Wr.jsxs)("div",{className:"text-sm text-gray-600",children:[t.filter(e=>!e.completed).length," items remaining"]})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Complete these actions to improve your college and scholarship prospects."})]})]}):(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Action Plan"}),(0,Wr.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,Wr.jsx)("p",{children:"No action items available"}),(0,Wr.jsx)("p",{className:"text-sm mt-2",children:"Complete your profile to get personalized recommendations"})]})]})}const Wa=oa("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ha(e){let{isOpen:t,onClose:n,title:r,children:a}=e;return t?(0,Wr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Wr.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[(0,Wr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:r}),(0,Wr.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 hover:bg-gray-100 rounded-full transition-colors",children:(0,Wr.jsx)(Wa,{className:"h-6 w-6"})})]})}),(0,Wr.jsx)("div",{className:"p-6",children:a})]})}):null}function Va(){const e=ne(),{user:t,profile:n}=qr(),[r,s]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),p=(0,a.useMemo)(()=>function(){const e=(new Date).getHours();return e<12?"Good morning":e<17?"Good afternoon":"Good evening"}(),[]);if((0,a.useEffect)(()=>{null!==t&&void 0!==t&&t.id?(async()=>{i(!0),c(null);try{console.log("Starting dashboard data fetch for user:",null===t||void 0===t?void 0:t.id);const e=await pa(null===t||void 0===t?void 0:t.id,n);console.log("Dashboard data received:",e),s(e),e.context&&console.log("Dashboard Context:",e.context)}catch(e){console.error("Dashboard fetch error:",e),c(e.message)}finally{i(!1)}})():(console.log("No user ID available, skipping dashboard fetch"),i(!1))},[null===t||void 0===t?void 0:t.id,n]),o)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)(ia,{className:"w-12 h-12 text-indigo-600 animate-spin mx-auto"}),(0,Wr.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Loading your personalized dashboard..."}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Fetching data from CosmosDB and generating AI insights"})]})});if(l)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsxs)("p",{className:"text-red-500 text-lg",children:["Error: ",l]}),(0,Wr.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Try Again"})]})});if(!t)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("p",{className:"text-gray-600 text-lg",children:"Please log in to view your dashboard."}),(0,Wr.jsx)("button",{onClick:()=>e("/login"),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Log In"})]})});if(!r)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("p",{className:"text-gray-600 text-lg",children:"Unable to load dashboard data."}),(0,Wr.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Retry"})]})});const{studentProfile:m,topColleges:g,scholarships:v,careerInsights:y,actionPlan:b,admissionProbabilities:x,userStats:w,context:_}=r;return m?(0,Wr.jsxs)("div",{className:"bg-gray-50 min-h-screen font-sans",children:[(0,Wr.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[(0,Wr.jsxs)("div",{className:"mb-8",children:[(0,Wr.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[p,", ",m.fullName||m.first_name||"Student","!"]}),(0,Wr.jsx)("p",{className:"text-gray-600",children:"Here's your personalized dashboard with AI-powered insights and recommendations."}),_.applicationSeason&&(0,Wr.jsxs)("p",{className:"text-sm text-indigo-600 mt-1",children:["\ud83d\udcc5 ",_.applicationSeason," Application Season"]})]}),_&&(_.scholarshipCount>0||_.collegeCount>0)&&(0,Wr.jsx)("div",{className:"mb-6 p-4 bg-white rounded-xl shadow-sm border border-gray-200",children:(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:_.collegeCount||0}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:"College Matches"})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:_.scholarshipCount||0}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:"Scholarship Opportunities"})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:Sa(_.totalScholarshipAmount||0)}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Eligible Funding"})]})]})}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[(0,Wr.jsx)(Ea,{profile:m,stats:w}),(0,Wr.jsx)(Oa,{matches:g,probabilities:x,onViewAll:()=>d(!0)}),(0,Wr.jsx)(Ia,{scholarships:v,onViewAll:()=>f(!0)}),(0,Wr.jsx)(Ua,{careerData:y,profile:m})]}),(0,Wr.jsx)(Fa,{items:b})]}),(0,Wr.jsx)(Ha,{isOpen:u,onClose:()=>d(!1),title:"All College Matches",children:(0,Wr.jsx)("div",{className:"space-y-4",children:g.length>0?g.map((e,t)=>{var n,r;const a=x[e.unitid||e._id],s=(null===(n=e.general_info)||void 0===n?void 0:n.name)||e.name||"Unknown College",o=e.general_info?"".concat(e.general_info.city,", ").concat(e.general_info.state):e.location||"Location not specified",i=e.netCost||(null===(r=e.cost_and_aid)||void 0===r?void 0:r.tuition_in_state)||"N/A";return(0,Wr.jsxs)("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Wr.jsx)("div",{className:"h-12 w-12 bg-indigo-600 text-white rounded-full flex items-center justify-center text-lg font-bold flex-shrink-0",children:s.charAt(0).toUpperCase()}),(0,Wr.jsx)("div",{className:"flex-grow",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"font-bold text-lg text-gray-800",children:s}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:o}),(0,Wr.jsxs)("p",{className:"text-sm text-gray-600",children:["Est. Net Cost: ","number"===typeof i?Sa(i):i,"/yr"]}),e.admission_rate&&(0,Wr.jsxs)("p",{className:"text-xs text-gray-500",children:["Admission Rate: ",(100*e.admission_rate).toFixed(1),"%"]})]}),(0,Wr.jsx)("div",{className:"text-right",children:a&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsxs)("p",{className:"text-lg font-semibold text-gray-600",children:[a.probability,"%"]}),(0,Wr.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("safety"===a.likelihood?"bg-green-100 text-green-600":"target"===a.likelihood?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"),children:a.likelihood})]})})]})})]},t)}):(0,Wr.jsxs)("div",{className:"text-center py-8",children:[(0,Wr.jsx)("p",{className:"text-gray-500 mb-4",children:"No college matches yet"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Complete your profile to get personalized college recommendations"}),(0,Wr.jsx)("button",{onClick:()=>e("/matching"),className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Find Matches"})]})})}),(0,Wr.jsx)(Ha,{isOpen:h,onClose:()=>f(!1),title:"All Scholarship Opportunities",children:(0,Wr.jsx)("div",{className:"space-y-4",children:v.opportunities&&v.opportunities.length>0?v.opportunities.map((e,t)=>{const n=ka(e.deadline);return(0,Wr.jsx)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsx)("p",{className:"font-bold text-lg text-gray-800",children:e.title||"Scholarship Opportunity"}),(0,Wr.jsx)("p",{className:"text-green-600 font-semibold",children:Sa(e.amount||0)}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.description||"No description available"}),e.category&&(0,Wr.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full mt-2",children:e.category})]}),(0,Wr.jsx)("div",{className:"text-right ml-4",children:null!==n&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsx)("p",{className:"font-semibold",children:"Deadline"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.deadline).toLocaleDateString()}),(0,Wr.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-semibold mt-1 inline-block ".concat(ja(n)),children:[n," days left"]})]})})]})},t)}):(0,Wr.jsxs)("div",{className:"text-center py-8",children:[(0,Wr.jsx)("p",{className:"text-gray-500 mb-4",children:"No scholarship opportunities found"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Complete your profile to see personalized scholarship matches"}),(0,Wr.jsx)("button",{onClick:()=>e("/scholarships"),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Browse All Scholarships"})]})})})]}):(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("p",{className:"text-gray-600 text-lg",children:"No profile data found."}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Complete your profile to get personalized insights"}),(0,Wr.jsx)("button",{onClick:()=>e("/student-profile"),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Complete Your Profile"})]})})}const qa=e=>{let{label:t,type:n="text",name:r,value:a,onChange:s,placeholder:o,error:i,readOnly:l=!1}=e;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,Wr.jsx)("input",{type:n,name:r,value:a,onChange:s,placeholder:o,readOnly:l,className:"w-full p-3 bg-gray-100 border rounded-lg focus:outline-none focus:ring-2 ".concat(i?"border-red-500 ring-red-500":"border-gray-200 focus:ring-blue-500"," ").concat(l?"cursor-not-allowed bg-gray-200":"")}),i&&(0,Wr.jsx)("p",{className:"text-xs text-red-600 mt-1",children:i})]})},$a=e=>{let{label:t,name:n,value:r,onChange:a,placeholder:s,rows:o=3}=e;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,Wr.jsx)("textarea",{name:n,value:r,onChange:a,placeholder:s,rows:o,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})},Ga=()=>{const[e,t]=(0,a.useState)({gradeLevel:"12",gpa:"3.8",satScore:"1450",actScore:"",apClasses:"AP Biology, AP Calculus AB, AP US History",extracurriculars:"Debate Club president, Varsity Soccer, Robotics Team"}),[n,r]=(0,a.useState)({}),[s,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o((()=>{if(!e.gradeLevel)return"";const t=(new Date).getFullYear(),n=(new Date).getMonth(),r=12-parseInt(e.gradeLevel,10);return"May ".concat(t+r+(n>4?1:0))})())},[e.gradeLevel]);const d=e=>{const{name:r,value:a}=e.target;t(e=>Ur(Ur({},e),{},{[r]:a})),n[r]&&h(r,a)},h=(e,t)=>{let n="";return"gpa"===e&&t&&(t<0||t>4)&&(n="GPA must be between 0.0 and 4.0."),"satScore"===e&&t&&(t<400||t>1600)&&(n="SAT score must be between 400 and 1600."),"actScore"===e&&t&&(t<1||t>36)&&(n="ACT score must be between 1 and 36."),r(t=>Ur(Ur({},t),{},{[e]:n})),!n};return(0,Wr.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Snapshot Readiness Assessment"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Enter your profile details to get an AI-powered analysis."})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Wr.jsxs)("div",{className:"space-y-6",children:[(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83c\udf93 Academic Basics"}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade Level"}),(0,Wr.jsxs)("select",{name:"gradeLevel",value:e.gradeLevel,onChange:d,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-lg",children:[(0,Wr.jsx)("option",{value:"9",children:"9th Grade"}),(0,Wr.jsx)("option",{value:"10",children:"10th Grade"}),(0,Wr.jsx)("option",{value:"11",children:"11th Grade"}),(0,Wr.jsx)("option",{value:"12",children:"12th Grade"})]})]}),(0,Wr.jsx)(qa,{label:"Expected Graduation",name:"gradDate",value:s,readOnly:!0}),(0,Wr.jsx)(qa,{label:"Cumulative GPA",type:"number",name:"gpa",value:e.gpa,onChange:d,placeholder:"e.g., 3.85",error:n.gpa}),(0,Wr.jsx)(qa,{label:"SAT Score",type:"number",name:"satScore",value:e.satScore,onChange:d,placeholder:"e.g., 1450",error:n.satScore}),(0,Wr.jsx)(qa,{label:"ACT Score",type:"number",name:"actScore",value:e.actScore,onChange:d,placeholder:"e.g., 32",error:n.actScore})]})]}),(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83c\udfc6 Activities & Coursework"}),(0,Wr.jsx)($a,{label:"AP Classes",name:"apClasses",value:e.apClasses,onChange:d,placeholder:"e.g., AP Biology, AP Calculus AB"}),(0,Wr.jsx)("div",{className:"mt-4"}),(0,Wr.jsx)($a,{label:"Extracurriculars & Leadership",name:"extracurriculars",value:e.extracurriculars,onChange:d,placeholder:"e.g., Debate Club President, Varsity Soccer"})]}),(0,Wr.jsx)("button",{onClick:async()=>{var t;if(!["gpa","satScore","actScore"].every(t=>h(t,e[t])))return void alert("Please fix the errors before assessing.");u(!0),l("");const n=await(r=e,Mr("/profile/assessment",{method:"POST",body:JSON.stringify({profileData:r})},!0));var r;l((null===(t=n.assessment)||void 0===t?void 0:t.summary)||"Assessment completed successfully."),u(!1)},disabled:c,className:"w-full bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 transition-all disabled:bg-gray-400",children:c?"Assessing...":"Assess My Readiness"})]}),(0,Wr.jsx)("div",{className:"space-y-6",children:(c||i)&&(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"AI Readiness Assessment"}),c?(0,Wr.jsx)("p",{className:"text-gray-500 animate-pulse",children:"Generating your assessment..."}):(0,Wr.jsx)("div",{className:"prose prose-sm max-w-none text-gray-700 whitespace-pre-wrap",children:i}),!c&&i&&(0,Wr.jsx)("div",{className:"flex justify-end mt-4",children:(0,Wr.jsx)("button",{onClick:()=>alert("This would generate and download a PDF report."),className:"bg-green-600 text-white font-semibold py-2 px-4 rounded-lg text-sm hover:bg-green-700",children:"Download Report"})})]})})]})]})},Ka=()=>{const e=ne(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)({minAmount:"",maxDeadline:"",sortBy:"deadline_asc"});(0,a.useEffect)(()=>{const e=async()=>{s(!0),i("");try{const e={query:l,minAmount:u.minAmount||0,maxDeadline:u.maxDeadline||null,sortBy:u.sortBy},t=await(e=>Mr("/scholarships/search",{method:"POST",body:JSON.stringify(e)}))(e);n(t.scholarships||[])}catch(e){console.error("Failed to load scholarships:",e),i("Could not load scholarships. Please try again later.")}finally{s(!1)}},t=setTimeout(()=>{e()},500);return()=>clearTimeout(t)},[l,u]);const h=e=>{const{name:t,value:n}=e.target;d(e=>Ur(Ur({},e),{},{[t]:n}))},f=(0,a.useMemo)(()=>t.reduce((e,t)=>e+(t.amount||0),0),[t]),p=(0,a.useMemo)(()=>[...t].sort((e,t)=>new Date(e.deadline||0)-new Date(t.deadline||0)),[t]),m=(0,a.useMemo)(()=>{let e=p;if(u.minAmount&&(e=e.filter(e=>(e.amount||0)>=parseInt(u.minAmount))),u.maxDeadline){const t=new Date(u.maxDeadline);e=e.filter(e=>new Date(e.deadline||0)<=t)}switch(u.sortBy){case"amount_desc":return e.sort((e,t)=>(t.amount||0)-(e.amount||0));case"amount_asc":return e.sort((e,t)=>(e.amount||0)-(t.amount||0));default:return e.sort((e,t)=>new Date(e.deadline||0)-new Date(t.deadline||0))}},[p,u]),g=e=>"number"!==typeof e?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,Wr.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Find Scholarships"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-1",children:"Search and filter thousands of opportunities."}),(0,Wr.jsx)("div",{className:"mt-4",children:(0,Wr.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search by keyword, major, or provider...",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,Wr.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex flex-wrap items-center gap-4",children:[(0,Wr.jsxs)("select",{name:"sortBy",value:u.sortBy,onChange:h,className:"p-2 border rounded-lg bg-gray-50",children:[(0,Wr.jsx)("option",{value:"deadline_asc",children:"Sort by Deadline (Soonest)"}),(0,Wr.jsx)("option",{value:"amount_desc",children:"Sort by Amount (High to Low)"}),(0,Wr.jsx)("option",{value:"amount_asc",children:"Sort by Amount (Low to High)"})]}),(0,Wr.jsx)("input",{type:"number",name:"minAmount",value:u.minAmount,onChange:h,placeholder:"Min Amount ($)",className:"p-2 border rounded-lg bg-gray-50"}),(0,Wr.jsx)("input",{type:"date",name:"maxDeadline",value:u.maxDeadline,onChange:h,className:"p-2 border rounded-lg bg-gray-50"})]}),!r&&!o&&t.length>0&&(0,Wr.jsx)("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsxs)("h3",{className:"text-lg font-semibold text-green-800",children:[m.length," Scholarships Found"]}),(0,Wr.jsxs)("p",{className:"text-sm text-green-600",children:["Total Eligible Amount: ",g(f)]})]}),(0,Wr.jsx)("div",{className:"text-right",children:(0,Wr.jsxs)("p",{className:"text-sm text-green-600",children:["Average Amount: ",g(f/m.length)]})})]})}),(0,Wr.jsx)("div",{children:r?(0,Wr.jsxs)("div",{className:"text-center py-10",children:[(0,Wr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Wr.jsx)("p",{className:"mt-4 text-gray-500",children:"Finding opportunities..."})]}):o?(0,Wr.jsx)("div",{className:"text-center py-10 bg-red-50 p-6 rounded-lg",children:(0,Wr.jsx)("p",{className:"text-red-600 font-semibold",children:o})}):0===m.length?(0,Wr.jsxs)("div",{className:"text-center py-10 bg-gray-50 p-6 rounded-lg",children:[(0,Wr.jsx)("p",{className:"text-gray-600 font-semibold",children:"No scholarships found."}),(0,Wr.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filters."})]}):(0,Wr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(t=>(0,Wr.jsxs)("div",{onClick:()=>e("/scholarship/".concat(t._id)),className:"bg-white p-5 rounded-xl border shadow-sm hover:shadow-lg hover:border-blue-500 cursor-pointer transition-all flex flex-col justify-between",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsx)("h3",{className:"font-bold text-lg text-blue-800",children:t.title}),(0,Wr.jsx)("span",{className:"text-sm font-semibold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:g(t.amount)})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.provider})]}),(0,Wr.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100 text-xs text-gray-500",children:(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Deadline:"})," ",t.deadline?new Date(t.deadline).toLocaleDateString():"Varies"]})})]},t._id))})})]})},Ja=()=>{const{profile:e}=qr(),t=ne(),[n,r]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)("");return(0,Wr.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\ud83c\udfaf AI Scholarship Matcher"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Discover scholarships perfectly tailored to your profile."})]}),(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border text-center",children:[(0,Wr.jsx)("p",{className:"mb-4 text-gray-600",children:"Our AI will analyze your student profile to find the best scholarship opportunities for you."}),(0,Wr.jsx)("button",{onClick:async()=>{if(e){o(!0),l(""),r([]);try{const n=await(t=e,Mr("/matching/scholarships",{method:"POST",body:JSON.stringify({studentProfile:t})},!0));r(n.scholarships||n.data||[])}catch(n){l("Failed to fetch scholarship matches. Please try again later."),console.error(n)}finally{o(!1)}var t}else alert("Please complete your student profile first to get the best matches.")},disabled:s||!e,className:"bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all",children:s?"Finding Your Matches...":"\u2728 Find My Scholarships"}),!e&&(0,Wr.jsx)("p",{className:"text-xs text-red-500 mt-2",children:"Complete your profile to enable matching."})]}),i&&(0,Wr.jsx)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-center",children:i}),n.length>0&&(0,Wr.jsxs)("div",{className:"space-y-4",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Your Top Matches"}),n.map(e=>{var n,r,a,s;return(0,Wr.jsx)("div",{onClick:()=>t("/scholarship/".concat(e._id)),className:"bg-white p-4 rounded-lg border shadow-sm hover:shadow-md hover:border-blue-500 cursor-pointer transition-colors",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h3",{className:"font-bold text-lg text-blue-800",children:e.title}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:e.provider})]}),(0,Wr.jsxs)("div",{className:"text-right flex-shrink-0 ml-4",children:[(0,Wr.jsxs)("p",{className:"font-bold text-xl text-green-600",children:["$",(null===(n=e.amount)||void 0===n?void 0:n.toLocaleString())||(null===(r=e.award_info)||void 0===r||null===(a=r.funds)||void 0===a||null===(s=a.amount)||void 0===s?void 0:s.toLocaleString())||"0"]}),(0,Wr.jsxs)("p",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat("High"===e.relevance?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:[e.relevance||"Good"," Match"]})]})]})},e._id)})]})]})},Ya=()=>{const{profile:e}=qr(),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)({careerGoal:"",majorInterest:"",targetColleges:"",financialGoals:""});(0,a.useEffect)(()=>{e&&c(t=>Ur(Ur({},t),{},{careerGoal:e.career_goals||"",majorInterest:e.major||""}))},[e]);const u=e=>{const{name:t,value:n}=e.target;c(e=>Ur(Ur({},e),{},{[t]:n}))};return(0,Wr.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udd2e Career Forecaster"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Chart your future with AI-powered career and financial insights."})]}),(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Ambitions"}),(0,Wr.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,Wr.jsx)("input",{name:"careerGoal",value:l.careerGoal,onChange:u,placeholder:"Career Goal (e.g., Software Engineer)",className:"p-3 bg-gray-50 border rounded-lg"}),(0,Wr.jsx)("input",{name:"majorInterest",value:l.majorInterest,onChange:u,placeholder:"Major Interest (e.g., Computer Science)",className:"p-3 bg-gray-50 border rounded-lg"}),(0,Wr.jsx)("input",{name:"targetColleges",value:l.targetColleges,onChange:u,placeholder:"Target Colleges (comma-separated)",className:"p-3 bg-gray-50 border rounded-lg"}),(0,Wr.jsx)("input",{name:"financialGoals",value:l.financialGoals,onChange:u,placeholder:"Financial Goals (e.g., $100k salary)",className:"p-3 bg-gray-50 border rounded-lg"})]}),(0,Wr.jsx)("button",{onClick:async()=>{if(l.careerGoal&&l.majorInterest){s(!0),i(null),n(null);try{const e="Generate a career forecast for a student with the following details:\n        - Career Goal: ".concat(l.careerGoal,"\n        - Major Interest: ").concat(l.majorInterest,"\n        - Target Colleges: ").concat(l.targetColleges||"Not specified","\n        - Financial Goals: ").concat(l.financialGoals||"Not specified","\n        \n        Please provide:\n        1. Salary projections for different career stages\n        2. Recommended education path\n        3. Career development recommendations\n        4. Industry insights and trends"),t=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Mr("/rag/query",{method:"POST",body:JSON.stringify({query:e,context:t})})}(e,[]),r=t.answer||t.response||t.text||"";n({salaryProjections:{"Entry-Level (0-2 Years)":75e3,"Mid-Career (5-7 Years)":12e4,"Senior-Level (10+ Years)":18e4},educationPath:"A Bachelor's degree in Computer Science is typically required. Consider pursuing a Master's for specialized roles in AI or Machine Learning.",recommendations:"Focus on internships in software development. Build a strong portfolio of projects on platforms like GitHub. Network with professionals in the tech industry.",aiResponse:r})}catch(e){i(e.message||"Failed to generate career forecast. Please try again.")}finally{s(!1)}}else i("Please fill in your career goal and major interest to generate a forecast.")},disabled:r,className:"w-full bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 disabled:opacity-50",children:r?"Forecasting Your Future...":"Generate Forecast"})]}),o&&(0,Wr.jsx)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-center",children:o}),t&&(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border space-y-6",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Forecast Results"}),t.aiResponse&&(0,Wr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"\ud83e\udd16 AI Career Analysis"}),(0,Wr.jsx)("p",{className:"text-blue-700 whitespace-pre-wrap",children:t.aiResponse})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\ud83d\udcc8 Salary Projections"}),(0,Wr.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(t.salaryProjections).map(e=>{let[t,n]=e;return(0,Wr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,Wr.jsx)("p",{className:"text-sm text-green-800",children:t}),(0,Wr.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",n.toLocaleString()]})]},t)})})]}),(0,Wr.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Wr.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"\ud83c\udf93 Education Path"}),(0,Wr.jsx)("p",{className:"text-yellow-700",children:t.educationPath})]}),(0,Wr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"\ud83d\udca1 Recommendations"}),(0,Wr.jsx)("p",{className:"text-purple-700",children:t.recommendations})]})]})]})]})},Qa=()=>{const{user:e,isProfileComplete:t,loading:n}=qr(),r=ne(),[s,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(n)return;const a=new URLSearchParams(window.location.hash.substring(1)).get("error_description");a?o("Authentication error: ".concat(a)):e?r(t?"/dashboard":"/student-profile",{replace:!0}):n||o("Authentication failed after callback. Please try logging in again.")},[n,e,t,r]),s?(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,Wr.jsxs)("div",{className:"max-w-md w-full text-center p-8 bg-white shadow-lg rounded-lg",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"Authentication Error"}),(0,Wr.jsx)("p",{className:"mt-2 text-gray-600",children:s}),(0,Wr.jsx)("button",{onClick:()=>r("/login"),className:"mt-6 w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:"Return to Login"})]})}):(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,Wr.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Completing Authentication..."})]})})},Za=()=>{var e,t,n;const{collegeId:r}=re(),s=ne(),{profile:o}=qr(),[i,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{r&&(async()=>{u(!0);const e=await Br(r);l(e),u(!1)})()},[r]),c)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Generating Report..."});if(!i||!o)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Could not load data."});const d={name:(null===o||void 0===o?void 0:o.fullName)||(null===o||void 0===o?void 0:o.first_name)||"Student",gpa:(null===o||void 0===o?void 0:o.gpa)||"3.85",satScore:(null===o||void 0===o?void 0:o.satScore)||1450,extracurriculars:(null===o||void 0===o?void 0:o.extracurriculars)||"Debate Club, Varsity Soccer"};return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("button",{onClick:()=>s(-1),className:"mb-6 bg-white px-4 py-2 rounded-lg border shadow-sm",children:"\u2190 Back to Profile"}),(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-center mb-2",children:"Scholargy Report"}),(0,Wr.jsxs)("p",{className:"text-lg text-center text-gray-500 mb-8",children:["Comparing ",d.name,"'s Profile to ",i.general_info.name]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Wr.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[(0,Wr.jsxs)("h2",{className:"font-bold text-xl mb-3 text-blue-800",children:["Your Profile (",d.name,")"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"GPA:"})," ",d.gpa]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"SAT Score:"})," ",d.satScore]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Extracurriculars:"})," ",d.extracurriculars]})]}),(0,Wr.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[(0,Wr.jsx)("h2",{className:"font-bold text-xl mb-3 text-green-800",children:i.general_info.name}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Location:"})," ",i.general_info.city,", ",i.general_info.state]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Admission Rate:"})," ",null!==(e=i.admissions)&&void 0!==e&&e.admission_rate?"".concat((100*i.admissions.admission_rate).toFixed(1),"%"):"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Avg. SAT Score (75th percentile):"})," ",null!==(t=i.admissions)&&void 0!==t&&null!==(n=t.sat_scores)&&void 0!==n&&n.math_75th?i.admissions.sat_scores.math_75th+i.admissions.sat_scores.verbal_75th:"N/A"]})]})]}),(0,Wr.jsxs)("div",{className:"mt-8",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Advisor Insights"}),(0,Wr.jsxs)("div",{className:"prose prose-sm max-w-none bg-gray-50 p-4 rounded-md border",children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Overall Assessment:"})," ",d.name,"'s academic profile is strong and aligns well with ",i.general_info.name,"'s typical student body, particularly with a competitive SAT score."]}),(0,Wr.jsxs)("ul",{children:[(0,Wr.jsxs)("li",{children:[(0,Wr.jsx)("strong",{children:"Academic Fit:"})," Your GPA and SAT scores are within the competitive range for this institution."]}),(0,Wr.jsxs)("li",{children:[(0,Wr.jsx)("strong",{children:"Extracurricular Alignment:"})," Your activities demonstrate leadership and well-rounded interests."]}),(0,Wr.jsxs)("li",{children:[(0,Wr.jsx)("strong",{children:"Recommendations:"})," Consider highlighting specific achievements in your application essays."]})]})]})]})]})]})},Xa=()=>{var e,t,n,r;const[s,o]=(0,a.useState)({districtUrl:"",username:"",password:""}),[i,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(null),f=ne(),p=e=>{const{name:t,value:n}=e.target;o(e=>Ur(Ur({},e),{},{[t]:n}))};return(0,Wr.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:(0,Wr.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,Wr.jsxs)("div",{className:"text-center mb-8",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"StudentVue Integration"}),(0,Wr.jsx)("p",{className:"text-gray-600",children:"Connect your StudentVue account to import your academic data"})]}),(0,Wr.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,Wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),u("");try{const e=await fetch("/api/studentvue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await e.json();t.success?h(t.data):u(t.error||"Failed to fetch student data")}catch(t){u("Network error. Please try again.")}finally{l(!1)}},className:"space-y-4",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{htmlFor:"districtUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"District URL"}),(0,Wr.jsx)("input",{type:"url",id:"districtUrl",name:"districtUrl",value:s.districtUrl,onChange:p,placeholder:"https://your-district.studentvue.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,Wr.jsx)("input",{type:"text",id:"username",name:"username",value:s.username,onChange:p,placeholder:"Your StudentVue username",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Wr.jsx)("input",{type:"password",id:"password",name:"password",value:s.password,onChange:p,placeholder:"Your StudentVue password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),c&&(0,Wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),(0,Wr.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Connecting...":"Connect StudentVue"})]})}),d&&(0,Wr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Wr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Academic Data"}),d.gradebook&&(0,Wr.jsxs)("div",{className:"mb-6",children:[(0,Wr.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Gradebook"}),(0,Wr.jsx)("div",{className:"space-y-3",children:null===(e=d.gradebook.Courses)||void 0===e||null===(t=e.Course)||void 0===t?void 0:t.map((e,t)=>(0,Wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Wr.jsx)("h4",{className:"font-medium text-gray-900",children:e["@Title"]}),(0,Wr.jsxs)("p",{className:"text-gray-600",children:["Grade: ",e["@Grade"]]}),(0,Wr.jsxs)("p",{className:"text-gray-600",children:["Teacher: ",e["@Teacher"]]})]},t))})]}),d.attendance&&(0,Wr.jsxs)("div",{className:"mb-6",children:[(0,Wr.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Attendance"}),(0,Wr.jsx)("div",{className:"space-y-2",children:null===(n=d.attendance.Absences)||void 0===n||null===(r=n.Absence)||void 0===r?void 0:r.map((e,t)=>(0,Wr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,Wr.jsx)("span",{className:"text-gray-700",children:e["@AbsenceDate"]}),(0,Wr.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("Excused"===e["@Reason"]?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e["@Reason"]})]},t))})]}),d.profile&&(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Profile"}),(0,Wr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("span",{className:"text-gray-600",children:"Grade Level:"}),(0,Wr.jsx)("span",{className:"ml-2 font-medium",children:d.profile.gradeLevel})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("span",{className:"text-gray-600",children:"GPA:"}),(0,Wr.jsx)("span",{className:"ml-2 font-medium",children:d.profile.gpa})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("span",{className:"text-gray-600",children:"Total Credits:"}),(0,Wr.jsx)("span",{className:"ml-2 font-medium",children:d.profile.totalCredits})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("span",{className:"text-gray-600",children:"Graduation Year:"}),(0,Wr.jsx)("span",{className:"ml-2 font-medium",children:d.profile.graduationYear})]})]})]})]}),(0,Wr.jsx)("div",{className:"text-center mt-6",children:(0,Wr.jsx)("button",{onClick:()=>f("/dashboard"),className:"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700",children:"Back to Dashboard"})})]})})},es=e=>{let{onCollegeSelect:t,selectedCollegeId:n}=e;const[r,s]=(0,a.useState)(""),[o,i]=(0,a.useState)([]),[l,c]=(0,a.useState)(!1);return(0,Wr.jsxs)("div",{className:"space-y-2",children:[(0,Wr.jsxs)("div",{className:"flex gap-2",children:[(0,Wr.jsx)("input",{value:r,onChange:e=>s(e.target.value),placeholder:"Search for a college...",className:"w-full p-2 border rounded-lg bg-gray-50"}),(0,Wr.jsx)("button",{onClick:async()=>{if(!r.trim())return;c(!0);const e=await(t={filters:{"general_info.name":{$regex:r,$options:"i"}},pagination:{limit:5}},Mr("/institutions/search",{method:"POST",body:JSON.stringify(t)}));var t;i(e.data||[]),c(!1)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg",disabled:l,children:l?"...":"Search"})]}),(0,Wr.jsx)("div",{className:"space-y-1",children:o.map(e=>(0,Wr.jsx)("div",{onClick:()=>t(e.unitid),className:"p-2 border rounded-lg cursor-pointer ".concat(n===e.unitid?"bg-blue-100 border-blue-400":"hover:bg-gray-100"),children:e.general_info.name},e.unitid))})]})},ts=e=>{var t,n;let{college:r}=e;return r?(0,Wr.jsxs)("div",{className:"space-y-3",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-blue-800",children:r.general_info.name}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Location:"})," ",r.general_info.city,", ",r.general_info.state]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Admission Rate:"})," ",r.admissions.admission_rate?"".concat((100*r.admissions.admission_rate).toFixed(1),"%"):"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"In-State Tuition:"})," $",(null===(t=r.cost_and_aid.tuition_in_state)||void 0===t?void 0:t.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Out-of-State Tuition:"})," $",(null===(n=r.cost_and_aid.tuition_out_of_state)||void 0===n?void 0:n.toLocaleString())||"N/A"]})]}):(0,Wr.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg text-center text-gray-500",children:"Select a college to see details."})},ns=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(null),[s,o]=(0,a.useState)({col1:!1,col2:!1}),i=async(e,n)=>{o(e=>Ur(Ur({},e),{},{[n]:!0}));const a=await Br(e);"col1"===n&&t(a),"col2"===n&&r(a),o(e=>Ur(Ur({},e),{},{[n]:!1}))};return(0,Wr.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\u2696\ufe0f College Comparator"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Compare two institutions side-by-side."})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Wr.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border space-y-4",children:[(0,Wr.jsx)("h2",{className:"font-bold text-lg",children:"Select College 1"}),(0,Wr.jsx)(es,{onCollegeSelect:e=>i(e,"col1"),selectedCollegeId:null===e||void 0===e?void 0:e.unitid})]}),(0,Wr.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border space-y-4",children:[(0,Wr.jsx)("h2",{className:"font-bold text-lg",children:"Select College 2"}),(0,Wr.jsx)(es,{onCollegeSelect:e=>i(e,"col2"),selectedCollegeId:null===n||void 0===n?void 0:n.unitid})]})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Wr.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:s.col1?(0,Wr.jsx)("p",{children:"Loading..."}):(0,Wr.jsx)(ts,{college:e})}),(0,Wr.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:s.col2?(0,Wr.jsx)("p",{children:"Loading..."}):(0,Wr.jsx)(ts,{college:n})})]})]})},rs=e=>{let{title:t,children:n,icon:r}=e;return(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[r,(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:t})]}),(0,Wr.jsx)("div",{className:"space-y-3 text-gray-600",children:n})]})},as=e=>{let{min:t,max:n,label:r,range:a=1600}=e;if("number"!==typeof t||"number"!==typeof n)return null;const s=t/a*100,o=(n-t)/a*100;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,Wr.jsx)("span",{children:t}),(0,Wr.jsx)("span",{children:n})]}),(0,Wr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,Wr.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{marginLeft:"".concat(s,"%"),width:"".concat(o,"%")}})}),(0,Wr.jsx)("p",{className:"text-sm text-center mt-1 font-medium",children:r})]})},ss=()=>{var e,t,n,r,s,o,i,l,c,u,d,h,f;const{collegeId:p}=re(),m=ne(),[g,v]=(0,a.useState)(null),[y,b]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{p&&(async()=>{b(!0);const e=await Br(p);v(e),b(!1)})()},[p]),y)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Loading College Profile..."});if(!g)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Could not find college data."});const{general_info:x,cost_and_aid:w,admissions:_,outcomes:S,derivedData:k}=g;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("button",{onClick:()=>m(-1),className:"mb-6 bg-white text-gray-800 px-4 py-2 rounded-lg border shadow-sm hover:bg-gray-100 transition-colors",children:"\u2190 Back"}),(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border mb-8",children:[(0,Wr.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900",children:x.name}),(0,Wr.jsxs)("p",{className:"text-xl text-gray-500 mt-1",children:[x.city,", ",x.state]})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Wr.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Wr.jsxs)(rs,{title:"Admissions",icon:(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Admission Rate:"})," ",(0,Wr.jsx)("span",{className:"font-bold text-blue-600",children:_.admission_rate?"".concat((100*_.admission_rate).toFixed(1),"%"):"N/A"})]}),(0,Wr.jsx)(as,{min:null===(e=_.sat_scores)||void 0===e?void 0:e.verbal_25th,max:null===(t=_.sat_scores)||void 0===t?void 0:t.verbal_75th,label:"SAT Evidence-Based Reading and Writing",range:800}),(0,Wr.jsx)(as,{min:null===(n=_.sat_scores)||void 0===n?void 0:n.math_25th,max:null===(r=_.sat_scores)||void 0===r?void 0:r.math_75th,label:"SAT Math",range:800}),(0,Wr.jsx)(as,{min:null===(s=_.act_scores)||void 0===s?void 0:s.composite_25th,max:null===(o=_.act_scores)||void 0===o?void 0:o.composite_75th,label:"ACT Composite",range:36})]}),k&&(0,Wr.jsxs)(rs,{title:"Finance & Staffing",icon:(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Total Revenue:"})," $",(null===(i=k.total_revenue)||void 0===i?void 0:i.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Total Expenses:"})," $",(null===(l=k.total_expenses)||void 0===l?void 0:l.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Average Faculty Salary:"})," $",(null===(c=k.avg_faculty_salary)||void 0===c?void 0:c.toLocaleString())||"N/A"]})]})]}),(0,Wr.jsxs)("div",{className:"space-y-6",children:[(0,Wr.jsxs)(rs,{title:"Student Charges",icon:(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"In-State Tuition:"})," $",(null===(u=w.tuition_in_state)||void 0===u?void 0:u.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Out-of-State Tuition:"})," $",(null===(d=w.tuition_out_of_state)||void 0===d?void 0:d.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"% Receiving Pell Grant:"})," ",w.percent_pell_grant||"N/A","%"]})]}),(0,Wr.jsxs)(rs,{title:"Outcomes",icon:(0,Wr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Wr.jsx)("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),(0,Wr.jsx)("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14z"}),(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20"})]}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Total Enrollment:"})," ",(null===(h=g.enrollment)||void 0===h||null===(f=h.total)||void 0===f?void 0:f.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Graduation Rate:"})," ",S.grad_rate_total||"N/A","%"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Derived Grad Rate (150%):"})," ",(null===k||void 0===k?void 0:k.grad_rate_150_percent_total)||"N/A","%"]})]}),(0,Wr.jsx)("button",{onClick:()=>m("/report/".concat(p)),className:"w-full bg-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-green-700 transition-all transform hover:scale-105",children:"Generate Scholargy Report"})]})]})]})},os=()=>{const{resetPasswordForEmail:e}=qr(),t=ne(),[n,r]=(0,a.useState)(""),[s,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1);return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-extrabold text-blue-600 mb-2",children:"Reset Password"}),(0,Wr.jsx)("p",{className:"text-gray-500 mb-8",children:"Enter your email to receive a reset link."}),(0,Wr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(""),o(""),u(!0);try{const{error:t}=await e(n);if(t)throw t;o("Password reset link has been sent to your email.")}catch(r){l(r.message||"Failed to send reset link.")}finally{u(!1)}},className:"space-y-4",children:[(0,Wr.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:e=>r(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),i&&(0,Wr.jsx)("p",{className:"text-red-500 text-sm text-left",children:i}),s&&(0,Wr.jsx)("p",{className:"text-green-500 text-sm text-left",children:s}),(0,Wr.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:c?"Sending...":"Send Reset Link"})]}),(0,Wr.jsx)("div",{className:"mt-6 text-sm",children:(0,Wr.jsx)("button",{onClick:()=>t("/login"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to Login"})})]})})})},is=e=>{let{closed:t}=e;return(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-500",children:t?(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"}):(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"})})},ls=()=>{const{updatePassword:e}=qr(),t=ne(),n=ee(),[r,s]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[h,f]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[g,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=new URLSearchParams(n.search),t=e.get("access_token"),r=e.get("refresh_token"),a=e.get("type");t&&r&&"recovery"===a||f("Invalid password reset link. Please request a new password reset.")},[n]);return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-extrabold text-blue-600 mb-2",children:"Reset Password"}),(0,Wr.jsx)("p",{className:"text-gray-500 mb-8",children:"Enter your new password below"}),h&&(0,Wr.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:h}),p&&(0,Wr.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:p}),(0,Wr.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),f(""),m("");const a=(e=>e.length<6?"Password must be at least 6 characters long.":/(?=.*[a-z])/.test(e)?/(?=.*[A-Z])/.test(e)?/(?=.*\d)/.test(e)?null:"Password must contain at least one number.":"Password must contain at least one uppercase letter.":"Password must contain at least one lowercase letter.")(r);if(a)f(a);else if(r===o){v(!0);try{const{error:n}=await e(r);if(n)throw n;m("Password updated successfully! Redirecting to login..."),setTimeout(()=>{t("/login")},2e3)}catch(s){f(s.message||"Failed to update password.")}finally{v(!1)}}else f("Passwords do not match.")},className:"space-y-4",children:[(0,Wr.jsxs)("div",{className:"relative",children:[(0,Wr.jsx)("input",{type:l?"text":"password",placeholder:"New Password",value:r,onChange:e=>s(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0,disabled:g}),(0,Wr.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 px-3 flex items-center",disabled:g,children:(0,Wr.jsx)(is,{closed:!l})})]}),(0,Wr.jsxs)("div",{className:"relative",children:[(0,Wr.jsx)("input",{type:u?"text":"password",placeholder:"Confirm New Password",value:o,onChange:e=>i(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0,disabled:g}),(0,Wr.jsx)("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 px-3 flex items-center",disabled:g,children:(0,Wr.jsx)(is,{closed:!u})})]}),(0,Wr.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:g?"Updating Password...":"Update Password"})]}),(0,Wr.jsx)("div",{className:"mt-6 text-sm",children:(0,Wr.jsx)("button",{onClick:()=>t("/login"),className:"font-medium text-blue-600 hover:text-blue-500",disabled:g,children:"Back to Login"})})]})})})},cs=["variants","compoundVariants","defaultVariants"],us=["css"],ds=["css"];var hs,fs="colors",ps="sizes",ms="space",gs={gap:ms,gridGap:ms,columnGap:ms,gridColumnGap:ms,rowGap:ms,gridRowGap:ms,inset:ms,insetBlock:ms,insetBlockEnd:ms,insetBlockStart:ms,insetInline:ms,insetInlineEnd:ms,insetInlineStart:ms,margin:ms,marginTop:ms,marginRight:ms,marginBottom:ms,marginLeft:ms,marginBlock:ms,marginBlockEnd:ms,marginBlockStart:ms,marginInline:ms,marginInlineEnd:ms,marginInlineStart:ms,padding:ms,paddingTop:ms,paddingRight:ms,paddingBottom:ms,paddingLeft:ms,paddingBlock:ms,paddingBlockEnd:ms,paddingBlockStart:ms,paddingInline:ms,paddingInlineEnd:ms,paddingInlineStart:ms,top:ms,right:ms,bottom:ms,left:ms,scrollMargin:ms,scrollMarginTop:ms,scrollMarginRight:ms,scrollMarginBottom:ms,scrollMarginLeft:ms,scrollMarginX:ms,scrollMarginY:ms,scrollMarginBlock:ms,scrollMarginBlockEnd:ms,scrollMarginBlockStart:ms,scrollMarginInline:ms,scrollMarginInlineEnd:ms,scrollMarginInlineStart:ms,scrollPadding:ms,scrollPaddingTop:ms,scrollPaddingRight:ms,scrollPaddingBottom:ms,scrollPaddingLeft:ms,scrollPaddingX:ms,scrollPaddingY:ms,scrollPaddingBlock:ms,scrollPaddingBlockEnd:ms,scrollPaddingBlockStart:ms,scrollPaddingInline:ms,scrollPaddingInlineEnd:ms,scrollPaddingInlineStart:ms,fontSize:"fontSizes",background:fs,backgroundColor:fs,backgroundImage:fs,borderImage:fs,border:fs,borderBlock:fs,borderBlockEnd:fs,borderBlockStart:fs,borderBottom:fs,borderBottomColor:fs,borderColor:fs,borderInline:fs,borderInlineEnd:fs,borderInlineStart:fs,borderLeft:fs,borderLeftColor:fs,borderRight:fs,borderRightColor:fs,borderTop:fs,borderTopColor:fs,caretColor:fs,color:fs,columnRuleColor:fs,fill:fs,outline:fs,outlineColor:fs,stroke:fs,textDecorationColor:fs,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ps,minBlockSize:ps,maxBlockSize:ps,inlineSize:ps,minInlineSize:ps,maxInlineSize:ps,width:ps,minWidth:ps,maxWidth:ps,height:ps,minHeight:ps,maxHeight:ps,flexBasis:ps,gridTemplateColumns:ps,gridTemplateRows:ps,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},vs=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,ys=()=>{const e=Object.create(null);return function(t,n){const r=(e=>JSON.stringify(e,vs))(t);for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];return r in e?e[r]:e[r]=n(t,...s)}},bs=Symbol.for("sxs.internal"),xs=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),ws=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:_s}=Object.prototype,Ss=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),ks=/\s+(?![^()]*\))/,js=e=>t=>e(..."string"==typeof t?String(t).split(ks):[t]),Es={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:js((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:js((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:js((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:js((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:js((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:js((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},Ns=/([\d.]+)([^]*)/,Cs=(e,t)=>e.length?e.reduce((e,n)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?":is(".concat(n,")"):n):n+" "+e)),e),[]):t,Ps=(e,t)=>e in Ts&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,n,r,a)=>n+("stretch"===r?"-moz-available".concat(a,";").concat(Ss(e),":").concat(n,"-webkit-fill-available"):"-moz-fit-content".concat(a,";").concat(Ss(e),":").concat(n,"fit-content"))+a):String(t),Ts={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Os=e=>e?e+"-":"",As=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,r,a,s,o)=>"$"==s==!!a?e:(r||"--"==s?"calc(":"")+"var(--"+("$"===s?Os(t)+(o.includes("$")?"":Os(n))+o.replace(/\$/g,"-"):o)+")"+(r||"--"==s?"*"+(r||"")+(a||"1")+")":"")),Rs=/\s*,\s*(?![^()]*\))/,Ls=Object.prototype.toString,Is=(e,t,n,r,a)=>{let s,o,i;const l=(e,t,n)=>{let c,u;const d=e=>{for(c in e){const p=64===c.charCodeAt(0),m=p&&Array.isArray(e[c])?e[c]:[e[c]];for(u of m){const e=/[A-Z]/.test(f=c)?f:f.replace(/-[^]/g,e=>e[1].toUpperCase()),m="object"==typeof u&&u&&u.toString===Ls&&(!r.utils[e]||!t.length);if(e in r.utils&&!m){const t=r.utils[e];if(t!==o){o=t,d(t(u)),o=null;continue}}else if(e in Es){const t=Es[e];if(t!==i){i=t,d(t(u)),i=null;continue}}if(p&&(h=c.slice(1)in r.media?"@media "+r.media[c.slice(1)]:c,c=h.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,n,r,a,s)=>{const o=Ns.test(t),i=.0625*(o?-1:1),[l,c]=o?[r,t]:[t,r];return"("+("="===n[0]?"":">"===n[0]===o?"max-":"min-")+l+":"+("="!==n[0]&&1===n.length?c.replace(Ns,(e,t,r)=>Number(t)+i*(">"===n?1:-1)+r):c)+(a?") and ("+(">"===a[0]?"min-":"max-")+l+":"+(1===a.length?s.replace(Ns,(e,t,n)=>Number(t)+i*(">"===a?-1:1)+n):s):"")+")"})),m){const e=p?n.concat(c):[...n],r=p?[...t]:Cs(t,c.split(Rs));void 0!==s&&a(Ds(...s)),s=void 0,l(u,r,e)}else void 0===s&&(s=[[],t,n]),c=p||36!==c.charCodeAt(0)?c:"--".concat(Os(r.prefix)).concat(c.slice(1).replace(/\$/g,"-")),u=m?u:"number"==typeof u?u&&e in Us?String(u)+"px":String(u):As(Ps(e,null==u?"":u),r.prefix,r.themeMap[e]),s[0].push("".concat(p?"".concat(c," "):"".concat(Ss(c),":")).concat(u))}}var h,f};d(e),void 0!==s&&a(Ds(...s)),s=void 0};l(e,t,n)},Ds=(e,t,n)=>"".concat(n.map(e=>"".concat(e,"{")).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(n.length?n.length+1:0).join("}")),Us={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},zs=e=>String.fromCharCode(e+(e>25?39:97)),Ms=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=zs(t%52)+n;return zs(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),Bs=["themed","global","styled","onevar","resonevar","allvar","inline"],Fs=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},Ws=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,(n,r)=>{const{cssText:a}=n;let s="";if(a.startsWith("--sxs"))return"";if(e[r-1]&&(s=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return"--sxs{--sxs:".concat([...t.rules[e].cache].join(" "),"}").concat(a);return n.cssRules.length?"".concat(s).concat(a):""}return a}).join("")},r=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const a=Object(e).styleSheets||[];for(const e of a)if(Fs(e)){for(let a=0,s=e.cssRules;s[a];++a){const o=Object(s[a]);if(1!==o.type)continue;const i=Object(s[a+1]);if(4!==i.type)continue;++a;const{cssText:l}=o;if(!l.startsWith("--sxs"))continue;const c=l.slice(14,-3).trim().split(/\s+/),u=Bs[c[0]];u&&(t||(t={sheet:e,reset:r,rules:{},toString:n}),t.rules[u]={group:i,index:a,cache:new Set(c)})}if(t)break}if(!t){const a=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,a(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?"@media{".concat([].map.call(this.cssRules,e=>e.cssText).join(""),"}"):e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=t;for(let e=Bs.length-1;e>=0;--e){const t=Bs[e];if(!o[t]){const n=Bs[e+1],r=o[n]?o[n].index:s.cssRules.length;s.insertRule("@media{}",r),s.insertRule("--sxs{--sxs:".concat(e,"}"),r),o[t]={group:s.cssRules[r+1],index:r,cache:new Set([e])}}Hs(o[t])}};return r(),t},Hs=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},Vs=Symbol(),qs=ys(),$s=(e,t)=>qs(e,()=>function(){let n={type:null,composers:new Set};for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];for(const t of a)if(null!=t)if(t[bs]){null==n.type&&(n.type=t[bs].type);for(const e of t[bs].composers)n.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==n.type&&(n.type=t):n.composers.add(Gs(t,e));return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),Ks(e,n,t)}),Gs=(e,t)=>{let{variants:n,compoundVariants:r,defaultVariants:a}=e,s=Xr(e,cs);const o="".concat(Os(t.prefix),"c-").concat(Ms(s)),i=[],l=[],c=Object.create(null),u=[];for(const f in a)c[f]=String(a[f]);if("object"==typeof n&&n)for(const f in n){d=c,h=f,_s.call(d,h)||(c[f]="undefined");const e=n[f];for(const t in e){const n={[f]:String(t)};"undefined"===String(t)&&u.push(f);const r=e[t],a=[n,r,!ws(r)];i.push(a)}}var d,h;if("object"==typeof r&&r)for(const f of r){let{css:e}=f,t=Xr(f,us);e="object"==typeof e&&e||{};for(const r in t)t[r]=String(t[r]);const n=[t,e,!ws(e)];l.push(n)}return[o,s,i,l,c,u]},Ks=(e,t,n)=>{const[r,a,s,o]=Js(t.composers),i="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[Vs].length;n++){const[r,a]=t[Vs][n];e.rules[r].apply(a)}return t[Vs]=[],null}return t[Vs]=[],t.rules={},Bs.forEach(e=>t.rules[e]={apply:n=>t[Vs].push([e,n])}),t})(n):null,l=(i||n).rules,c=".".concat(r).concat(a.length>1?":where(.".concat(a.slice(1).join("."),")"):""),u=u=>{u="object"==typeof u&&u||Qs;const{css:d}=u,h=Xr(u,ds),f={};for(const e in s)if(delete h[e],e in u){let t=u[e];"object"==typeof t&&t?f[e]=Ur({"@initial":s[e]},t):(t=String(t),f[e]="undefined"!==t||o.has(e)?t:s[e])}else f[e]=s[e];const p=new Set([...a]);for(const[r,a,s,o]of t.composers){n.rules.styled.cache.has(r)||(n.rules.styled.cache.add(r),Is(a,[".".concat(r)],[],e,e=>{l.styled.apply(e)}));const t=Ys(s,f,e.media),i=Ys(o,f,e.media,!0);for(const a of t)if(void 0!==a)for(const[t,s,o]of a){const a="".concat(r,"-").concat(Ms(s),"-").concat(t);p.add(a);const i=(o?n.rules.resonevar:n.rules.onevar).cache,c=o?l.resonevar:l.onevar;i.has(a)||(i.add(a),Is(s,[".".concat(a)],[],e,e=>{c.apply(e)}))}for(const a of i)if(void 0!==a)for(const[t,s]of a){const a="".concat(r,"-").concat(Ms(s),"-").concat(t);p.add(a),n.rules.allvar.cache.has(a)||(n.rules.allvar.cache.add(a),Is(s,[".".concat(a)],[],e,e=>{l.allvar.apply(e)}))}}if("object"==typeof d&&d){const t="".concat(r,"-i").concat(Ms(d),"-css");p.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),Is(d,[".".concat(t)],[],e,e=>{l.inline.apply(e)}))}for(const e of String(u.className||"").trim().split(/\s+/))e&&p.add(e);const m=h.className=[...p].join(" ");return{type:t.type,className:m,selector:c,props:h,toString:()=>m,deferredInjector:i}};return xs(u,{className:r,selector:c,[bs]:t,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},Js=e=>{let t="";const n=[],r={},a=[];for(const[s,,,,o,i]of e){""===t&&(t=s),n.push(s),a.push(...i);for(const e in o){const t=o[e];(void 0===r[e]||"undefined"!==t||i.includes(t))&&(r[e]=t)}}return[t,n,r,new Set(a)]},Ys=(e,t,n,r)=>{const a=[];e:for(let[s,o,i]of e){if(i)continue;let e,l=0,c=!1;for(e in s){const r=s[e];let a=t[e];if(a!==r){if("object"!=typeof a||!a)continue e;{let e,t,s=0;for(const o in a){if(r===String(a[o])){if("@initial"!==o){const e=o.slice(1);(t=t||[]).push(e in n?n[e]:o.replace(/^@media ?/,"")),c=!0}l+=s,e=!0}++s}if(t&&t.length&&(o={["@media "+t.join(", ")]:o}),!e)continue e}}}(a[l]=a[l]||[]).push([r?"cv":"".concat(e,"-").concat(s[e]),o,c])}return a},Qs={},Zs=ys(),Xs=(e,t)=>Zs(e,()=>function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];const s=()=>{for(let n of r){n="object"==typeof n&&n||{};let r=Ms(n);if(!t.rules.global.cache.has(r)){if(t.rules.global.cache.add(r),"@import"in n){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let r of[].concat(n["@import"]))r=r.includes('"')||r.includes("'")?r:'"'.concat(r,'"'),t.sheet.insertRule("@import ".concat(r,";"),e++);delete n["@import"]}Is(n,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return xs(s,{toString:s})}),eo=ys(),to=(e,t)=>eo(e,()=>n=>{const r="".concat(Os(e.prefix),"k-").concat(Ms(n)),a=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const a=[];Is(n,[],[],e,e=>a.push(e));const s="@keyframes ".concat(r,"{").concat(a.join(""),"}");t.rules.global.apply(s)}return r};return xs(a,{get name(){return a()},toString:a})}),no=class{constructor(e,t,n,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Os(this.prefix)+Os(this.scale)+this.token}toString(){return this.computedValue}},ro=ys(),ao=(e,t)=>ro(e,()=>(n,r)=>{r="object"==typeof n&&n||Object(r);const a=".".concat(n=(n="string"==typeof n?n:"")||"".concat(Os(e.prefix),"t-").concat(Ms(r))),s={},o=[];for(const t in r){s[t]={};for(const n in r[t]){const a="--".concat(Os(e.prefix)).concat(t,"-").concat(n),i=As(String(r[t][n]),e.prefix,t);s[t][n]=new no(n,i,t,e.prefix),o.push("".concat(a,":").concat(i))}}const i=()=>{if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const a="".concat(r===e.theme?":root,":"",".").concat(n,"{").concat(o.join(";"),"}");t.rules.themed.apply(a)}return n};return Ur(Ur({},s),{},{get className(){return i()},selector:a,toString:i})}),so=ys(),oo=e=>{let t=!1;const n=so(e,e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},a="object"==typeof e.root?e.root||null:globalThis.document||null,s="object"==typeof e.theme&&e.theme||{},o={prefix:n,media:r,theme:s,themeMap:"object"==typeof e.themeMap&&e.themeMap||Ur({},gs),utils:"object"==typeof e.utils&&e.utils||{}},i=Ws(a),l={css:$s(o,i),globalCss:Xs(o,i),keyframes:to(o,i),createTheme:ao(o,i),reset(){i.reset(),l.theme.toString()},theme:{},sheet:i,config:o,prefix:n,getCssText:i.toString,toString:i.toString};return String(l.theme=l.createTheme(s)),l});return t||n.reset(),n},io=()=>hs||(hs=oo()),lo=function(){return io().createTheme(...arguments)},co=function(){return io().css(...arguments)},uo={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},ho="sign_in",fo="sign_up",po="forgotten_password",mo="magic_link",go="update_password",vo="verify_otp",yo={ROOT:"root",SIGN_IN:ho,SIGN_UP:fo,FORGOTTEN_PASSWORD:po,MAGIC_LINK:mo,UPDATE_PASSWORD:go,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function bo(e,t,n){var r,a;const s=[],o=yo[e];return s.push((null==n?void 0:n.prependedClassName)?(null==n?void 0:n.prependedClassName)+"_"+o:"supabase-auth-ui_"+o),(null==(r=null==n?void 0:n.className)?void 0:r[e])&&s.push(null==(a=null==n?void 0:n.className)?void 0:a[e]),void 0!==(null==n?void 0:n.extend)&&!0!==(null==n?void 0:n.extend)||s.push(t),s}function xo(e,t){let n;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)e[n]=xo(e[n],t[n]);else for(n in t)e[n]=xo(e[n],t[n]);return e}return t}function wo(e){let t=arguments.length<=1?0:arguments.length-1;for(let n=0;n<t;n++)e=xo(e,n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return e}var _o={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const So=["children","appearance"],ko=["children","color","appearance","icon","loading"],jo=["children","appearance"],Eo=["children","appearance"],No=["children","appearance"],Co=["children","appearance"],Po=["children","appearance"],To=co({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Oo=e=>{let{children:t,appearance:n}=e,r=Xr(e,So);var s;const o=bo("anchor",To(),n);return a.createElement("a",Ur(Ur({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.anchor,className:o.join(" ")}),t)},Ao=co({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Ro=e=>{let{children:t,color:n="default",appearance:r,icon:s,loading:o=!1}=e,i=Xr(e,ko);var l;const c=bo("button",Ao({color:n}),r);return a.createElement("button",Ur(Ur({},i),{},{style:null==(l=null==r?void 0:r.style)?void 0:l.button,className:c.join(" "),disabled:o}),s,t)},Lo=co({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Io=e=>{let{children:t,appearance:n}=e,r=Xr(e,jo);var s;const o=bo("container",Lo({direction:r.direction,gap:r.gap}),n);return a.createElement("div",Ur(Ur({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.container,className:o.join(" ")}),t)},Do=co({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),Uo=e=>{let{children:t,appearance:n}=e,r=Xr(e,Eo);var s;const o=bo("divider",Do(),n);return a.createElement("div",Ur(Ur({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.divider,className:o.join(" ")}))},zo=co({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Mo=e=>{let{children:t,appearance:n}=e,r=Xr(e,No);var s;const o=bo("input",zo({type:"password"===r.type?"password":"default"}),n);return a.createElement("input",Ur(Ur({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.input,className:o.join(" ")}),t)},Bo=co({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Fo=e=>{let{children:t,appearance:n}=e,r=Xr(e,Co);var s;const o=bo("label",Bo(),n);return a.createElement("label",Ur(Ur({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.label,className:o.join(" ")}),t)},Wo=co({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),Ho=e=>{let{children:t,appearance:n}=e,r=Xr(e,Po);var s;const o=bo("message",Wo({color:r.color}),n);return a.createElement("span",Ur(Ur({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.message,className:o.join(" ")}),t)};function Vo(e){let{setAuthView:t=()=>{},supabaseClient:n,redirectTo:r,i18n:s,appearance:o,showLinks:i=!1}=e;var l;const[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[m,g]=(0,a.useState)(!1),v=null==s?void 0:s.magic_link;return a.createElement("form",{id:"auth-magic-link",onSubmit:async e=>{var t,a;if(e.preventDefault(),h(""),p(""),g(!0),0===c.length)return h(null==(t=null==s?void 0:s.magic_link)?void 0:t.empty_email_address),void g(!1);const{error:o}=await n.auth.signInWithOtp({email:c,options:{emailRedirectTo:r}});o?h(o.message):p(null==(a=null==s?void 0:s.magic_link)?void 0:a.confirmation_text),g(!1)}},a.createElement(Io,{gap:"large",direction:"vertical",appearance:o},a.createElement("div",null,a.createElement(Fo,{htmlFor:"email",appearance:o},null==v?void 0:v.email_input_label),a.createElement(Mo,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:null==v?void 0:v.email_input_placeholder,onChange:e=>{h&&h(""),u(e.target.value)},appearance:o})),a.createElement(Ro,{color:"primary",type:"submit",loading:m,appearance:o},m?null==v?void 0:v.loading_button_label:null==v?void 0:v.button_label),i&&a.createElement(Oo,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),t(ho)},appearance:o},null==(l=null==s?void 0:s.sign_in)?void 0:l.link_text),f&&a.createElement(Ho,{appearance:o},f),d&&a.createElement(Ho,{color:"danger",appearance:o},d)))}const qo=co({width:"21px",height:"21px"}),$o=e=>{let{provider:t}=e;return"google"==t?Go():"facebook"==t?Ko():"twitter"==t?Jo():"apple"==t?Yo():"github"==t?Qo():"gitlab"==t?Zo():"bitbucket"==t?Xo():"discord"==t?ei():"azure"==t?ti():"keycloak"==t?ni():"linkedin"==t?ri():"notion"==t?ai():"slack"==t?si():"spotify"==t?oi():"twitch"==t?ii():"workos"==t?li():"kakao"==t?ci():null},Go=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),Ko=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),a.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),Jo=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),Yo=()=>a.createElement("svg",{className:qo(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",a.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),Qo=()=>a.createElement("svg",{className:qo(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",a.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),Zo=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),a.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),a.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),a.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),a.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),a.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),a.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),Xo=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},a.createElement("defs",null,a.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),a.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),a.createElement("title",null,"Bitbucket-blue"),a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},a.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},a.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),a.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),ei=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068\tc-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291\tc-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051\tc-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554\tc0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194\tc-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534\tc0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017\tc0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634\tc-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052\tc3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044\tC39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435\tc2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435\ts1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),ti=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0",stopColor:"#114a8b"}),a.createElement("stop",{offset:"1",stopColor:"#0669bc"})),a.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),a.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),a.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0",stopOpacity:".3"}),a.createElement("stop",{offset:".071",stopOpacity:".2"}),a.createElement("stop",{offset:".321",stopOpacity:".1"}),a.createElement("stop",{offset:".623",stopOpacity:".05"}),a.createElement("stop",{offset:"1",stopOpacity:"0"})),a.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),a.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),a.createElement("stop",{offset:"1",stopColor:"#2892df"})),a.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),ni=()=>a.createElement("svg",{className:qo(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),ri=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),a.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),ai=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),a.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),si=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},a.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4\tC33,17.741,33,9.254,33,8z"}),a.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),a.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4\tC17.741,14,9.254,14,8,14z"}),a.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),a.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984\tc0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),a.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994\tS4,30.228,4,28.022z"}),a.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4\tC29.258,33,37.746,33,39,33z"}),a.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),oi=()=>a.createElement("svg",{className:qo(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),ii=()=>a.createElement("svg",{className:qo(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),a.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),a.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),a.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),li=()=>a.createElement("svg",{className:qo(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),a.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),ci=()=>a.createElement("svg",{className:qo(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},a.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),a.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),a.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function ui(e){let{supabaseClient:t,socialLayout:n="vertical",providers:r=["github","google","azure"],providerScopes:s,queryParams:o,redirectTo:i,onlyThirdPartyProviders:l=!0,view:c="sign_in",i18n:u,appearance:d}=e;const[h,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)(""),g="vertical"===n,v="magic_link"===c?"sign_in":c;function y(e){const t=e.toLowerCase();return e.charAt(0).toUpperCase()+t.slice(1)}return a.createElement(a.Fragment,null,r&&r.length>0&&a.createElement(a.Fragment,null,a.createElement(Io,{gap:"large",direction:"vertical",appearance:d},a.createElement(Io,{direction:g?"vertical":"horizontal",gap:g?"small":"medium",appearance:d},r.map(e=>{var n;return a.createElement(Ro,{key:e,color:"default",loading:h,onClick:()=>(async e=>{f(!0);const{error:n}=await t.auth.signInWithOAuth({provider:e,options:{redirectTo:i,scopes:null==s?void 0:s[e],queryParams:o}});n&&m(n.message),f(!1)})(e),appearance:d},a.createElement($o,{provider:e}),g&&function(e,t){return e.replace(/{{(\w+)}}/g,(e,n)=>t.hasOwnProperty(n)?t[n]:e)}(null==(n=null==u?void 0:u[v])?void 0:n.social_provider_text,{provider:y(e)}))}))),!l&&a.createElement(Uo,{appearance:d})))}function di(e){let{authView:t="sign_in",defaultEmail:n="",defaultPassword:r="",setAuthView:s=()=>{},setDefaultEmail:o=e=>{},setDefaultPassword:i=e=>{},supabaseClient:l,showLinks:c=!1,redirectTo:u,additionalData:d,magicLink:h,i18n:f,appearance:p,children:m}=e;var g,v,y,b;const x=(0,a.useRef)(!0),[w,_]=(0,a.useState)(n),[S,k]=(0,a.useState)(r),[j,E]=(0,a.useState)(""),[N,C]=(0,a.useState)(!1),[P,T]=(0,a.useState)("");(0,a.useEffect)(()=>(x.current=!0,_(n),k(r),()=>{x.current=!1}),[t]);const O=e=>{o(w),i(S),s(e)},A=null==f?void 0:f[t];return a.createElement("form",{id:"sign_in"===t?"auth-sign-in":"auth-sign-up",onSubmit:async e=>{var n;switch(e.preventDefault(),E(""),C(!0),t){case"sign_in":const{error:e}=await l.auth.signInWithPassword({email:w,password:S});e&&E(e.message);break;case"sign_up":let t={emailRedirectTo:u};d&&(t.data=d);const{data:{user:r,session:a},error:s}=await l.auth.signUp({email:w,password:S,options:t});s?E(s.message):r&&!a&&T(null==(n=null==f?void 0:f.sign_up)?void 0:n.confirmation_text)}x.current&&C(!1)},autoComplete:"on",style:{width:"100%"}},a.createElement(Io,{direction:"vertical",gap:"large",appearance:p},a.createElement(Io,{direction:"vertical",gap:"large",appearance:p},a.createElement("div",null,a.createElement(Fo,{htmlFor:"email",appearance:p},null==A?void 0:A.email_label),a.createElement(Mo,{id:"email",type:"email",name:"email",placeholder:null==A?void 0:A.email_input_placeholder,defaultValue:w,onChange:e=>_(e.target.value),autoComplete:"email",appearance:p})),a.createElement("div",null,a.createElement(Fo,{htmlFor:"password",appearance:p},null==A?void 0:A.password_label),a.createElement(Mo,{id:"password",type:"password",name:"password",placeholder:null==A?void 0:A.password_input_placeholder,defaultValue:S,onChange:e=>k(e.target.value),autoComplete:"sign_in"===t?"current-password":"new-password",appearance:p})),m),a.createElement(Ro,{type:"submit",color:"primary",loading:N,appearance:p},N?null==A?void 0:A.loading_button_label:null==A?void 0:A.button_label),c&&a.createElement(Io,{direction:"vertical",gap:"small",appearance:p},t===ho&&h&&a.createElement(Oo,{href:"#auth-magic-link",onClick:e=>{e.preventDefault(),s(mo)},appearance:p},null==(g=null==f?void 0:f.magic_link)?void 0:g.link_text),t===ho&&a.createElement(Oo,{href:"#auth-forgot-password",onClick:e=>{e.preventDefault(),s(po)},appearance:p},null==(v=null==f?void 0:f.forgotten_password)?void 0:v.link_text),t===ho?a.createElement(Oo,{href:"#auth-sign-up",onClick:e=>{e.preventDefault(),O(fo)},appearance:p},null==(y=null==f?void 0:f.sign_up)?void 0:y.link_text):a.createElement(Oo,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),O(ho)},appearance:p},null==(b=null==f?void 0:f.sign_in)?void 0:b.link_text))),P&&a.createElement(Ho,{appearance:p},P),j&&a.createElement(Ho,{color:"danger",appearance:p},j))}function hi(e){let{setAuthView:t=()=>{},supabaseClient:n,redirectTo:r,i18n:s,appearance:o,showLinks:i=!1}=e;var l;const[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[m,g]=(0,a.useState)(!1),v=null==s?void 0:s.forgotten_password;return a.createElement("form",{id:"auth-forgot-password",onSubmit:async e=>{var t;e.preventDefault(),h(""),p(""),g(!0);const{error:a}=await n.auth.resetPasswordForEmail(c,{redirectTo:r});a?h(a.message):p(null==(t=null==s?void 0:s.forgotten_password)?void 0:t.confirmation_text),g(!1)}},a.createElement(Io,{direction:"vertical",gap:"large",appearance:o},a.createElement(Io,{gap:"large",direction:"vertical",appearance:o},a.createElement("div",null,a.createElement(Fo,{htmlFor:"email",appearance:o},null==v?void 0:v.email_label),a.createElement(Mo,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:null==v?void 0:v.email_input_placeholder,onChange:e=>u(e.target.value),appearance:o})),a.createElement(Ro,{type:"submit",color:"primary",loading:m,appearance:o},m?null==v?void 0:v.loading_button_label:null==v?void 0:v.button_label),i&&a.createElement(Oo,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),t(ho)},appearance:o},null==(l=null==s?void 0:s.sign_in)?void 0:l.link_text),f&&a.createElement(Ho,{appearance:o},f),d&&a.createElement(Ho,{color:"danger",appearance:o},d))))}function fi(e){let{supabaseClient:t,i18n:n,appearance:r}=e;const[s,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(!1),f=null==n?void 0:n.update_password;return a.createElement("form",{id:"auth-update-password",onSubmit:async e=>{var r;e.preventDefault(),l(""),u(""),h(!0);const{error:a}=await t.auth.updateUser({password:s});a?l(a.message):u(null==(r=null==n?void 0:n.update_password)?void 0:r.confirmation_text),h(!1)}},a.createElement(Io,{gap:"large",direction:"vertical",appearance:r},a.createElement("div",null,a.createElement(Fo,{htmlFor:"password",appearance:r},null==f?void 0:f.password_label),a.createElement(Mo,{id:"password",name:"password",placeholder:null==f?void 0:f.password_input_placeholder,type:"password",autoFocus:!0,onChange:e=>o(e.target.value),appearance:r})),a.createElement(Ro,{type:"submit",color:"primary",loading:d,appearance:r},d?null==f?void 0:f.loading_button_label:null==f?void 0:f.button_label),c&&a.createElement(Ho,{appearance:r},c),i&&a.createElement(Ho,{color:"danger",appearance:r},i)))}function pi(e){let{setAuthView:t=()=>{},supabaseClient:n,otpType:r="email",i18n:s,appearance:o,showLinks:i=!1}=e;var l;const[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[b,x]=(0,a.useState)(!1),w=null==s?void 0:s.verify_otp;return a.createElement("form",{id:"auth-magic-link",onSubmit:async e=>{e.preventDefault(),g(""),y(""),x(!0);let t={email:c,token:f,type:r};["sms","phone_change"].includes(r)&&(t={phone:d,token:f,type:r});const{error:a}=await n.auth.verifyOtp(t);a&&g(a.message),x(!1)}},a.createElement(Io,{gap:"large",direction:"vertical",appearance:o},["sms","phone_change"].includes(r)?a.createElement("div",null,a.createElement(Fo,{htmlFor:"phone",appearance:o},null==w?void 0:w.phone_input_label),a.createElement(Mo,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:null==w?void 0:w.phone_input_placeholder,onChange:e=>h(e.target.value),appearance:o})):a.createElement("div",null,a.createElement(Fo,{htmlFor:"email",appearance:o},null==w?void 0:w.email_input_label),a.createElement(Mo,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:null==w?void 0:w.email_input_placeholder,onChange:e=>u(e.target.value),appearance:o})),a.createElement("div",null,a.createElement(Fo,{htmlFor:"token",appearance:o},null==w?void 0:w.token_input_label),a.createElement(Mo,{id:"token",name:"token",type:"text",placeholder:null==w?void 0:w.token_input_placeholder,onChange:e=>p(e.target.value),appearance:o})),a.createElement(Ro,{color:"primary",type:"submit",loading:b,appearance:o},b?null==w?void 0:w.loading_button_label:null==w?void 0:w.button_label),i&&a.createElement(Oo,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),t(ho)},appearance:o},null==(l=null==s?void 0:s.sign_in)?void 0:l.link_text),v&&a.createElement(Ho,{appearance:o},v),m&&a.createElement(Ho,{color:"danger",appearance:o},m)))}const mi=(0,a.createContext)({user:null,session:null});function gi(e){var t;let{supabaseClient:n,socialLayout:r="vertical",providers:s,providerScopes:o,queryParams:i,view:l="sign_in",redirectTo:c,onlyThirdPartyProviders:u=!1,magicLink:d=!1,showLinks:h=!0,appearance:f,theme:p="default",localization:m={variables:{}},otpType:g="email",additionalData:v,children:y}=e;const b=wo(_o,null!==(t=m.variables)&&void 0!==t?t:{}),[x,w]=(0,a.useState)(l),[_,S]=(0,a.useState)(""),[k,j]=(0,a.useState)(""),E="sign_in"===x||"sign_up"===x||"magic_link"===x;(0,a.useEffect)(()=>{var e,t,n,r;oo({theme:wo(null!==(e=null==(n=null==f?void 0:f.theme)?void 0:n.default)&&void 0!==e?e:{},null!==(t=null==(r=null==f?void 0:f.variables)?void 0:r.default)&&void 0!==t?t:{})})},[f]);const N=e=>{var t;let{children:l}=e;var d;return a.createElement("div",{className:"default"!==p?lo(wo(null==f?void 0:f.theme[p],null!==(t=null==(d=null==f?void 0:f.variables)?void 0:d[p])&&void 0!==t?t:{})):""},E&&a.createElement(ui,{appearance:f,supabaseClient:n,providers:s,providerScopes:o,queryParams:i,socialLayout:r,redirectTo:c,onlyThirdPartyProviders:u,i18n:b,view:x}),!u&&l)};(0,a.useEffect)(()=>{const{data:e}=n.auth.onAuthStateChange(e=>{"PASSWORD_RECOVERY"===e?w("update_password"):"USER_UPDATED"===e&&w("sign_in")});return w(l),()=>e.subscription.unsubscribe()},[l]);const C={supabaseClient:n,setAuthView:w,defaultEmail:_,defaultPassword:k,setDefaultEmail:S,setDefaultPassword:j,redirectTo:c,magicLink:d,showLinks:h,i18n:b,appearance:f};switch(x){case ho:return a.createElement(N,null,a.createElement(di,Ur(Ur({},C),{},{authView:"sign_in"})));case fo:return a.createElement(N,null,a.createElement(di,{appearance:f,supabaseClient:n,authView:"sign_up",setAuthView:w,defaultEmail:_,defaultPassword:k,setDefaultEmail:S,setDefaultPassword:j,redirectTo:c,magicLink:d,showLinks:h,i18n:b,additionalData:v,children:y}));case po:return a.createElement(N,null,a.createElement(hi,{appearance:f,supabaseClient:n,setAuthView:w,redirectTo:c,showLinks:h,i18n:b}));case mo:return a.createElement(N,null,a.createElement(Vo,{appearance:f,supabaseClient:n,setAuthView:w,redirectTo:c,showLinks:h,i18n:b}));case go:return a.createElement(fi,{appearance:f,supabaseClient:n,i18n:b});case vo:return a.createElement(pi,{appearance:f,supabaseClient:n,otpType:g,i18n:b});default:return null}}gi.ForgottenPassword=hi,gi.UpdatePassword=fi,gi.MagicLink=Vo,gi.UserContextProvider=e=>{var t;const{supabaseClient:n}=e,[r,s]=(0,a.useState)(null),[o,i]=(0,a.useState)(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null);(0,a.useEffect)(()=>{(async e=>{var t;const{data:r}=await n.auth.getSession();s(r.session),i(null!==(e=null==(t=r.session)?void 0:t.user)&&void 0!==e?e:null)})();const{data:e}=n.auth.onAuthStateChange(async(e,t)=>{var n;s(t),i(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null)});return()=>{null==e||e.subscription.unsubscribe()}},[]);const l={session:r,user:o};return a.createElement(mi.Provider,Ur({value:l},e))},gi.useUser=()=>{const e=(0,a.useContext)(mi);if(void 0===e)throw new Error("useUser must be used within a UserContextProvider.");return e};co({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const vi=e=>{let{onAuthSuccess:t}=e;return(0,Wr.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,Wr.jsx)(gi,{supabaseClient:Ar,appearance:{theme:uo,variables:{default:{colors:{brand:"#2563eb",brandAccent:"#1d4ed8",brandButtonText:"white",defaultButtonBackground:"#f3f4f6",defaultButtonBackgroundHover:"#e5e7eb",defaultButtonBorder:"#d1d5db",defaultButtonText:"#374151",dividerBackground:"#e5e7eb",inputBackground:"#f9fafb",inputBorder:"#d1d5db",inputBorderHover:"#9ca3af",inputBorderFocus:"#2563eb",inputText:"#374151",inputLabelText:"#6b7280",inputPlaceholder:"#9ca3af",messageText:"#dc2626",messageTextDanger:"#dc2626",anchorTextColor:"#2563eb",anchorTextHoverColor:"#1d4ed8"},space:{inputPadding:"16px",buttonPadding:"12px 24px",borderRadius:"8px"},fontSizes:{baseBodySize:"14px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"}}}},providers:["google"],redirectTo:"".concat(window.location.origin,"/auth/callback"),options:{scopes:"email profile openid https://www.googleapis.com/auth/calendar.readonly"},onAuthStateChange:(e,n)=>{"SIGNED_IN"===e&&t&&t(n)},localization:{variables:{sign_in:{email_label:"Email",password_label:"Password",button_label:"Sign In",loading_button_label:"Signing In...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},sign_up:{email_label:"Email",password_label:"Password",button_label:"Sign Up",loading_button_label:"Signing Up...",social_provider_text:"Sign up with {{provider}}",link_text:"Don't have an account? Sign up"},forgotten_password:{email_label:"Email",button_label:"Send Reset Instructions",loading_button_label:"Sending...",link_text:"Forgot your password?"},magic_link:{email_input_label:"Email",button_label:"Send Magic Link",loading_button_label:"Sending...",link_text:"Send a magic link email"}}}})})},yi=()=>{const{setUser:e}=qr();return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-4xl font-extrabold text-blue-600 mb-2",children:"Scholargy"}),(0,Wr.jsx)("p",{className:"text-gray-500 mb-8",children:"Your Personal College & Career Advisor"}),(0,Wr.jsx)(vi,{onAuthSuccess:t=>{null!==t&&void 0!==t&&t.user&&(e(t.user),console.log("Authentication successful:",t.user))}}),(0,Wr.jsx)("div",{className:"mt-6 text-sm text-gray-500",children:(0,Wr.jsx)("p",{children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})})})};class bi{static async getUserProfile(e){try{const t=await Mr("/profile/".concat(e),{},!0);return t.data||t}catch(ki){return console.error("Error fetching user profile:",ki),null}}static async createOrUpdateProfile(e,t){try{const n=await Mr("/profile/".concat(e),{method:"POST",body:JSON.stringify({profileData:t})},!0);return n.data||n}catch(ki){return console.error("Error creating/updating user profile:",ki),null}}static async getUserAssessment(e){try{const t=await this.getUserProfile(e);if(!t)return console.warn("No profile found for assessment"),null;const n=await Mr("/profile/assessment",{method:"POST",body:JSON.stringify({profileData:t})},!0);return n.assessment||n}catch(ki){return console.error("Error fetching user assessment:",ki),null}}static async initializeProfile(e){var t,n,r,a,s,o,i;const l={email:e.email,fullName:(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||e.email,avatarUrl:null===(n=e.user_metadata)||void 0===n?void 0:n.avatar_url,provider:(null===(r=e.app_metadata)||void 0===r?void 0:r.provider)||"email",profile:{personal:{firstName:(null===(a=e.user_metadata)||void 0===a||null===(s=a.full_name)||void 0===s?void 0:s.split(" ")[0])||"",lastName:(null===(o=e.user_metadata)||void 0===o||null===(i=o.full_name)||void 0===i?void 0:i.split(" ").slice(1).join(" "))||"",email:e.email},academic:{gpa:null,major:null,graduationYear:null,currentSchool:null},extracurriculars:[],essays:[],recommendations:[],financial:{familyIncome:null,financialAidNeeded:null,scholarships:[]}},preferences:{collegeType:null,location:null,maxTuition:null,desiredMajors:[]},created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return await this.createOrUpdateProfile(e.id,l)}static isProfileComplete(e){var t;if(!e)return!1;const n=null===(t=e.profile)||void 0===t?void 0:t.academic;return!!n&&!!(n.gpa&&n.major&&n.graduationYear&&n.currentSchool)}static getProfileCompletionPercentage(e){if(!e)return 0;const t=["personal","academic","extracurriculars","essays","recommendations","financial","preferences"];let n=0;return t.forEach(t=>{var r;const a=(null===(r=e.profile)||void 0===r?void 0:r[t])||e[t];a&&Object.keys(a).length>0&&n++}),Math.round(n/t.length*100)}static getIncompleteSections(e){if(!e)return["personal","academic","extracurriculars","essays","recommendations","financial","preferences"];const t=[];return["personal","academic","extracurriculars","essays","recommendations","financial","preferences"].forEach(n=>{var r;const a=(null===(r=e.profile)||void 0===r?void 0:r[n])||e[n];a&&0!==Object.keys(a).length||t.push(n)}),t}static async updateProfileSection(e,t,n){try{var r;const a=await this.getUserProfile(e);if(!a)throw new Error("Profile not found");const s=Ur(Ur({},a),{},{profile:Ur(Ur({},a.profile),{},{[t]:Ur(Ur({},null===(r=a.profile)||void 0===r?void 0:r[t]),n)}),updated_at:(new Date).toISOString()});return await this.createOrUpdateProfile(e,s)}catch(ki){return console.error("Error updating profile section ".concat(t,":"),ki),null}}}const xi=()=>{const{user:e,profile:t,signIn:n,signInWithGoogle:r,signOut:s,getUserData:o}=qr(),[i,l]=(0,a.useState)({}),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)([]),f=(e,t)=>{t||(t="info");const n=(new Date).toLocaleTimeString();h(r=>[...r,{timestamp:n,message:e,type:t}])},p=()=>{h([]),l({})},m=()=>{f("Testing environment variables...","info");const e={};let t=!0;return["REACT_APP_SUPABASE_URL","REACT_APP_SUPABASE_ANON_KEY","REACT_APP_API_URL","REACT_APP_GOOGLE_CLIENT_ID"].forEach(n=>{const r=!!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n];e[n]=r,r?f("\u2705 ".concat(n,": Set"),"success"):(f("\u274c ".concat(n,": Missing"),"error"),t=!1)}),l(e=>Object.assign({},e,{environment:t})),t},g=()=>{f("Testing localStorage...","info");try{localStorage.setItem("test_key","test_value");const e=localStorage.getItem("test_key");if(localStorage.removeItem("test_key"),"test_value"===e){f("\u2705 localStorage basic operations work","success");const e={email:"test@example.com",name:"Test User",provider:"google",created_at:(new Date).toISOString()};localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("user"));return localStorage.removeItem("user"),t.email===e.email?(f("\u2705 User data storage works","success"),l(e=>Object.assign({},e,{localStorage:!0})),!0):(f("\u274c User data storage failed","error"),l(e=>Object.assign({},e,{localStorage:!1})),!1)}return f("\u274c localStorage basic operations failed","error"),l(e=>Object.assign({},e,{localStorage:!1})),!1}catch(ki){return f("\u274c localStorage test error: ".concat(ki.message),"error"),l(e=>Object.assign({},e,{localStorage:!1})),!1}},v=async()=>{f("Testing API connectivity...","info");try{const e=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/health"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const t=await e.json();return f("\u2705 API connectivity successful","success"),f("   Response: ".concat(JSON.stringify(t)),"info"),l(e=>Object.assign({},e,{api:!0})),!0}catch(ki){return f("\u274c API connectivity failed: ".concat(ki.message),"error"),l(e=>Object.assign({},e,{api:!1})),!1}},y=async()=>{f("Testing OAuth flow...","info");try{const{data:e,error:t}=await r();return t?(f("\u274c OAuth test failed: ".concat(t.message),"error"),l(e=>Object.assign({},e,{oauth:!1})),!1):(f("\u2705 OAuth flow initiated successfully","success"),null!==e&&void 0!==e&&e.url&&f("   Redirect URL: ".concat(e.url),"info"),l(e=>Object.assign({},e,{oauth:!0})),!0)}catch(ki){return f("\u274c OAuth test error: ".concat(ki.message),"error"),l(e=>Object.assign({},e,{oauth:!1})),!1}},b=async()=>{if(f("Testing profile management...","info"),!e)return f("\u26a0\ufe0f No user logged in, skipping profile test","warning"),l(e=>Object.assign({},e,{profile:!1})),!1;try{const t=await bi.initializeProfile(e);if(t){f("\u2705 Profile initialization successful","success"),f("   Profile structure: ".concat(Object.keys(t).join(", ")),"info");const e=bi.isProfileComplete(t),n=bi.getProfileCompletionPercentage(t);return f("   Profile complete: ".concat(e),"info"),f("   Completion percentage: ".concat(n,"%"),"info"),l(e=>Object.assign({},e,{profile:!0})),!0}return f("\u26a0\ufe0f Profile initialization returned null (backend may not be running)","warning"),l(e=>Object.assign({},e,{profile:!1})),!1}catch(ki){return f("\u274c Profile management test failed: ".concat(ki.message),"error"),l(e=>Object.assign({},e,{profile:!1})),!1}},x=()=>{f("Testing session management...","info");const t=o();return e?(f("\u2705 User session exists","success"),f("   User ID: ".concat(e.id),"info"),f("   Email: ".concat(e.email),"info"),f("   Provider: ".concat(e.app_metadata&&e.app_metadata.provider||"email"),"info"),t?(f("\u2705 User data in localStorage","success"),f("   Stored name: ".concat(t.name),"info")):f("\u26a0\ufe0f No user data in localStorage","warning"),l(e=>Object.assign({},e,{session:!0})),!0):(f("\u2139\ufe0f No active user session","info"),l(e=>Object.assign({},e,{session:!1})),!1)};return(0,Wr.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"OAuth Flow Tester"}),(0,Wr.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,Wr.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Wr.jsx)("button",{onClick:async()=>{u(!0),p(),f("\ud83d\ude80 Starting OAuth Flow Tests...","info");const e={environment:m(),localStorage:g(),api:await v(),oauth:await y(),profile:await b(),session:x()};f("","info"),f("\ud83d\udcca Test Results Summary:","info"),f("========================","info"),Object.entries(e).forEach(e=>{let[t,n]=e;const r=n?"\u2705 PASSED":"\u274c FAILED";f("".concat(t,": ").concat(r),n?"success":"error")});Object.values(e).every(e=>e)?(f("","info"),f("\ud83c\udf89 All tests passed! Your OAuth system is working correctly.","success")):(f("","info"),f("\u26a0\ufe0f Some tests failed. Check the logs above for details.","error")),u(!1)},disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?"Running Tests...":"Run All Tests"}),(0,Wr.jsx)("button",{onClick:p,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Clear Logs"}),e&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsx)("button",{onClick:async()=>{f("Testing email/password sign in...","info");try{const{error:e}=await n({email:"test@example.com",password:"testpassword123"});return e?(f("\u274c Email sign in failed: ".concat(e.message),"error"),!1):(f("\u2705 Email sign in successful","success"),!0)}catch(ki){return f("\u274c Email sign in error: ".concat(ki.message),"error"),!1}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Test Email Sign In"}),(0,Wr.jsx)("button",{onClick:async()=>{f("Testing sign out...","info");try{return await s(),f("\u2705 Sign out successful","success"),!0}catch(ki){return f("\u274c Sign out error: ".concat(ki.message),"error"),!1}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Test Sign Out"})]})]}),(0,Wr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Wr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Current Status:"}),(0,Wr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[(0,Wr.jsxs)("div",{children:["User: ",e?"\u2705 Logged In":"\u274c Not Logged In"]}),(0,Wr.jsxs)("div",{children:["Profile: ",t?"\u2705 Loaded":"\u274c Not Loaded"]}),(0,Wr.jsxs)("div",{children:["Session: ",e?"\u2705 Active":"\u274c Inactive"]})]})]})]}),Object.keys(i).length>0&&(0,Wr.jsxs)("div",{className:"mb-6",children:[(0,Wr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Test Results:"}),(0,Wr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(i).map(e=>{let[t,n]=e;return(0,Wr.jsxs)("div",{className:"p-2 rounded text-sm font-medium ".concat(n?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[t,": ",n?"PASSED":"FAILED"]},t)})})]}),(0,Wr.jsxs)("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm",children:[(0,Wr.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Wr.jsx)("h3",{className:"font-semibold",children:"Test Logs:"}),(0,Wr.jsxs)("span",{className:"text-gray-400",children:[d.length," entries"]})]}),(0,Wr.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-1",children:0===d.length?(0,Wr.jsx)("div",{className:"text-gray-500",children:"No logs yet. Run tests to see results."}):d.map((e,t)=>(0,Wr.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Wr.jsx)("span",{className:"text-gray-500 text-xs w-16 flex-shrink-0",children:e.timestamp}),(0,Wr.jsx)("span",{className:"".concat("error"===e.type?"text-red-400":"success"===e.type?"text-green-400":"warning"===e.type?"text-yellow-400":"text-gray-300"),children:e.message})]},t))})]}),(0,Wr.jsxs)("div",{className:"mt-6",children:[(0,Wr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Manual Testing Checklist:"}),(0,Wr.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Login Flow:"}),(0,Wr.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,Wr.jsx)("li",{children:"\u2022 Login page loads correctly"}),(0,Wr.jsx)("li",{children:"\u2022 Email/password form works"}),(0,Wr.jsx)("li",{children:"\u2022 Google OAuth button appears"}),(0,Wr.jsx)("li",{children:"\u2022 Password reset link works"})]})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"OAuth Flow:"}),(0,Wr.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,Wr.jsx)("li",{children:"\u2022 Google OAuth redirects to Google"}),(0,Wr.jsx)("li",{children:"\u2022 User can select Google account"}),(0,Wr.jsx)("li",{children:"\u2022 OAuth callback returns to app"}),(0,Wr.jsx)("li",{children:"\u2022 User session is established"})]})]})]})]})]})};const wi=()=>{const{user:e,isProfileComplete:t,loading:n}=qr();return n?(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,Wr.jsx)("p",{className:"text-gray-600",children:"Loading Scholargy..."})]})}):e?t?(0,Wr.jsx)(Kr,{children:(0,Wr.jsxs)(we,{children:[(0,Wr.jsx)(be,{path:"/dashboard",element:(0,Wr.jsx)(Va,{})}),(0,Wr.jsx)(be,{path:"/student-profile",element:(0,Wr.jsx)(Ga,{})}),(0,Wr.jsx)(be,{path:"/scholarships",element:(0,Wr.jsx)(Ka,{})}),(0,Wr.jsx)(be,{path:"/matching",element:(0,Wr.jsx)(Ja,{})}),(0,Wr.jsx)(be,{path:"/forecaster",element:(0,Wr.jsx)(Ya,{})}),(0,Wr.jsx)(be,{path:"/compare",element:(0,Wr.jsx)(ns,{})}),(0,Wr.jsx)(be,{path:"/studentvue",element:(0,Wr.jsx)(Xa,{})}),(0,Wr.jsx)(be,{path:"/report/:collegeId",element:(0,Wr.jsx)(Za,{})}),(0,Wr.jsx)(be,{path:"/profile/:collegeId",element:(0,Wr.jsx)(ss,{})}),(0,Wr.jsx)(be,{path:"/test-oauth",element:(0,Wr.jsx)(xi,{})}),(0,Wr.jsx)(be,{path:"*",element:(0,Wr.jsx)(ye,{to:"/dashboard",replace:!0})})]})}):(0,Wr.jsx)(Kr,{children:(0,Wr.jsxs)(we,{children:[(0,Wr.jsx)(be,{path:"/student-profile",element:(0,Wr.jsx)(Ga,{})}),(0,Wr.jsx)(be,{path:"*",element:(0,Wr.jsx)(ye,{to:"/student-profile",replace:!0})})]})}):(0,Wr.jsxs)(we,{children:[(0,Wr.jsx)(be,{path:"/auth/callback",element:(0,Wr.jsx)(Qa,{})}),(0,Wr.jsx)(be,{path:"/login",element:(0,Wr.jsx)(Zr,{})}),(0,Wr.jsx)(be,{path:"/login-v2",element:(0,Wr.jsx)(yi,{})}),(0,Wr.jsx)(be,{path:"/reset-password",element:(0,Wr.jsx)(os,{})}),(0,Wr.jsx)(be,{path:"/reset-password/confirm",element:(0,Wr.jsx)(ls,{})}),(0,Wr.jsx)(be,{path:"*",element:(0,Wr.jsx)(ye,{to:"/login",replace:!0})})]})},_i=function(){return console.log("App component rendering"),console.log("=== Environment Variables ==="),console.log("NODE_ENV:","production"),console.log("REACT_APP_SUPABASE_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL||"NOT SET"),console.log("REACT_APP_SUPABASE_ANON_KEY:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY?"***":"NOT SET"),console.log("REACT_APP_API_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"NOT SET"),console.log("REACT_APP_GOOGLE_CLIENT_ID:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_CLIENT_ID||"NOT SET"),console.log("=============================="),(0,Wr.jsx)(Yr,{children:(0,Wr.jsx)(Vr,{children:(0,Wr.jsx)(wi,{})})})};o.createRoot(document.getElementById("root")).render((0,Wr.jsx)(a.StrictMode,{children:(0,Wr.jsx)(Ne,{children:(0,Wr.jsx)(_i,{})})}))})();
//# sourceMappingURL=main.98b3ecd7.js.map