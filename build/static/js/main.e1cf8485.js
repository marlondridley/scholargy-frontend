/*! For license information please see main.e1cf8485.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+P(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+P(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+P(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(829)),s=r(n(736));class a{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new i.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let o;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(o="POST",c=t);const u=new Headers(this.headers);return i&&u.set("Prefer","count=".concat(i)),new s.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}}t.default=a},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,M(_);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,b(C),C=-1),p=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,j=null,C=-1,E=5,P=-1;function N(){return!(t.unstable_now()-P<E)}function T(){if(null!==j){var e=t.unstable_now();P=e;var n=!0;try{n=j(!0,e)}finally{n?S():(k=!1,j=null)}}else k=!1}if("function"===typeof y)S=function(){y(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=T,S=function(){O.postMessage(null)}}else S=function(){v(T,0)};function M(e){j=e,k||(k=!0,S())}function R(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(b(C),C=-1):m=!0,R(w,s-a))):(e.sortIndex=o,n(c,e),g||p||(g=!0,M(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(630)),s=r(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,i;let a=null,o=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const i=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");i&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(i=null===a||void 0===a?void 0:a.details)||void 0===i?void 0:i.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(286));class s extends i.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=i?"".concat(i,".order"):"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(a?"".concat(a,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(i,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=s},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>a,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>i});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const i=r.fetch,s=r.fetch.bind(r),a=r.Headers,o=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var I,D=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(Lh){var t=Lh.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Oh){var r=Oh}Reflect.construct(e,[],t)}else{try{t.call()}catch(Oh){r=Oh}e.call(t.prototype)}else{try{throw Error()}catch(Oh){r=Oh}e()}}catch(Oh){if(Oh&&r&&"string"===typeof Oh.stack){for(var i=Oh.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case j:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(Lh){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Vh){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,Se=null;function ke(e){if(e=bi(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function je(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Ne=!1;function Te(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ee(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Pe(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(Rh){Oe=!1}function Re(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(Wh){this.onError(Wh)}}var Le=!1,Ie=null,De=!1,ze=null,Fe={onError:function(e){Le=!0,Ie=e}};function Be(e,t,n,r,i,s,a,o,l){Le=!1,Ie=null,Re.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ut(o):0!==(s&=a)&&(r=ut(s))}else 0!==(a=n&~i)?r=ut(a):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,_t,St,kt,jt=!1,Ct=[],Et=null,Pt=null,Nt=null,Tt=new Map,At=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=vi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function zt(e,t,n){Dt(e)&&n.delete(t)}function Ft(){jt=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Pt&&Dt(Pt)&&(Pt=null),null!==Nt&&Dt(Nt)&&(Nt=null),Tt.forEach(zt),At.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Pt&&Bt(Pt,e),null!==Nt&&Bt(Nt,e),Tt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)It(n),null===n.blockedOn&&Ot.shift()}var Wt=x.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function $t(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function qt(e,t,n,r){if(Vt){var i=Gt(e,t,n,r);if(null===i)Vr(e,t,r,Kt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tt.set(s,Lt(Tt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Gt(e,t,n,r))&&Vr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=vi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Xt=null;function Zt(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var sn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=D({},ln,{view:0,detail:0}),dn=rn(un),hn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(hn),pn=rn(D({},hn,{dataTransfer:0})),gn=rn(D({},un,{relatedTarget:0})),mn=rn(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(vn),yn=rn(D({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function kn(){return Sn}var jn=D({},un,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(jn),En=rn(D({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=rn(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=D({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=rn(Tn),On=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,In=u&&(!Mn||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),zn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){je(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,qn=null;function Kn(e){Dr(e,0)}function Gn(e){if(K(yi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"===typeof Zn.oninput}Qn=Xn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){$n&&($n.detachEvent("onpropertychange",tr),qn=$n=null)}function tr(e){if("value"===e.propertyName&&Gn(qn)){var t=[];Hn(t,qn,e,xe(e)),Te(Kn,t)}}function nr(e,t,n){"focusin"===e?(er(),qn=n,($n=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(qn)}function ir(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Ih){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&or(vr,r)||(vr=r,0<(r=$r(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Sr={};function kr(e){if(_r[e])return _r[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var jr=kr("animationend"),Cr=kr("animationiteration"),Er=kr("animationstart"),Pr=kr("transitionend"),Nr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Tr.length;Or++){var Mr=Tr[Or];Ar(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Ar(jr,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(Er,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Ie;Le=!1,Ie=null,De||(De=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ir(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ir(i,o,c),s=l}}}if(De)throw e=ze,De=!1,ze=null,e}function zr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=$t;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Te(function(){var r=s,i=xe(n),a=[];e:{var o=Nr.get(e);if(void 0!==o){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case jr:case Cr:case Er:l=mn;break;case Pr:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ae(p,h))&&u.push(Hr(p,g,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:yi(l),f=null==c?o:yi(c),(o=new u(g,p+"leave",l,n,i)).target=d,o.relatedTarget=f,g=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=qr(f))p++;for(f=0,g=h;g;g=qr(g))f++;for(;0<p-f;)u=qr(u),p--;for(;0<f-p;)h=qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=qr(u),h=qr(h)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(o=r?yi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Yn;else if(Vn(o))if(Jn)m=sr;else{m=rr;var v=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ir);switch(m&&(m=m(e,r))?Hn(a,m,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?yi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(a,n,i)}var b;if(Mn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Fn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=Zt()):(Qt="value"in(Jt=i)?Jt.value:Jt.textContent,Un=!0)),0<(v=$r(r,y)).length&&(y=new yn(y,e,null,n,i),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Bn(n))&&(y.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Dn);case"textInput":return(e=t.data)===Dn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Mn&&Fn(e,t)?(e=Zt(),Xt=Qt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Dr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Xr(){}var Zr=null,ei=null;function ti(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ri="function"===typeof clearTimeout?clearTimeout:void 0,ii="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ii?function(e){return ii.resolve(null).then(e).catch(ai)}:ni;function ai(e){setTimeout(function(){throw e})}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),di="__reactFiber$"+ui,hi="__reactProps$"+ui,fi="__reactContainer$"+ui,pi="__reactEvents$"+ui,gi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[hi]||null}var wi=[],_i=-1;function Si(e){return{current:e}}function ki(e){0>_i||(e.current=wi[_i],wi[_i]=null,_i--)}function ji(e,t){_i++,wi[_i]=e.current,e.current=t}var Ci={},Ei=Si(Ci),Pi=Si(!1),Ni=Ci;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Pi),ki(Ei)}function Mi(e,t,n){if(Ei.current!==Ci)throw Error(s(168));ji(Ei,t),ji(Pi,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,V(e)||"Unknown",i));return D({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ei.current,ji(Ei,e),ji(Pi,Pi.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ri(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Pi),ki(Ei),ji(Ei,e)):ki(Pi),ji(Pi,n)}var Di=null,zi=!1,Fi=!1;function Bi(e){null===Di?Di=[e]:Di.push(e)}function Ui(){if(!Fi&&null!==Di){Fi=!0;var e=0,t=bt;try{var n=Di;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,zi=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),qe(Xe,Ui),i}finally{bt=t,Fi=!1}}return null}var Wi=[],Vi=0,Hi=null,$i=0,qi=[],Ki=0,Gi=null,Yi=1,Ji="";function Qi(e,t){Wi[Vi++]=$i,Wi[Vi++]=Hi,Hi=e,$i=t}function Xi(e,t,n){qi[Ki++]=Yi,qi[Ki++]=Ji,qi[Ki++]=Gi,Gi=e;var r=Yi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var s=32-st(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-st(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function Zi(e){null!==e.return&&(Qi(e,1),Xi(e,1,0))}function es(e){for(;e===Hi;)Hi=Wi[--Vi],Wi[Vi]=null,$i=Wi[--Vi],Wi[Vi]=null;for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Ji=qi[--Ki],qi[Ki]=null,Yi=qi[--Ki],qi[Ki]=null}var ts=null,ns=null,rs=!1,is=null;function ss(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ts=e,ns=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ts=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ts=e,ns=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(rs){var t=ns;if(t){var n=t;if(!as(e,t)){if(os(e))throw Error(s(418));t=li(n.nextSibling);var r=ts;t&&as(e,t)?ss(r,n):(e.flags=-4097&e.flags|2,rs=!1,ts=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ts=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ts=e}function us(e){if(e!==ts)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ti(e.type,e.memoizedProps)),t&&(t=ns)){if(os(e))throw ds(),Error(s(418));for(;t;)ss(e,t),t=li(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ns=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ns=null}}else ns=ts?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=ns;e;)e=li(e.nextSibling)}function hs(){ns=ts=null,rs=!1}function fs(e){null===is?is=[e]:is.push(e)}var ps=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Dc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Rc(t,e.mode,n,null)).return=e,t;ms(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);ms(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);ms(t,r)}return null}function g(i,s,o,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<o.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,o[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===o.length)return n(i,d),rs&&Qi(i,g),c;if(null===d){for(;g<o.length;g++)null!==(d=h(i,o[g],l))&&(s=a(d,s,g),null===u?c=d:u.sibling=d,u=d);return rs&&Qi(i,g),c}for(d=r(i,d);g<o.length;g++)null!==(m=p(d,i,g,o[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),rs&&Qi(i,g),c}function m(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(i,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(i,g),o=a(y,o,m),null===d?u=y:d.sibling=y,d=y,g=v}if(b.done)return n(i,g),rs&&Qi(i,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(i,b.value,c))&&(o=a(b,o,m),null===d?u=b:d.sibling=b,d=b);return rs&&Qi(i,m),u}for(g=r(i,g);!b.done;m++,b=l.next())null!==(b=p(g,i,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=a(b,o,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach(function(e){return t(i,e)}),rs&&Qi(i,m),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Rc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Dc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return g(r,s,a,l);if(L(a))return m(r,s,a,l);ms(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Ic(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ys=bs(!0),xs=bs(!1),ws=Si(null),_s=null,Ss=null,ks=null;function js(){ks=Ss=_s=null}function Cs(e){var t=ws.current;ki(ws),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){_s=e,ks=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===_s)throw Error(s(308));Ss=e,_s.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ts=null;function As(e){null===Ts?Ts=[e]:Ts.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:Rs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs={},Hs=Si(Vs),$s=Si(Vs),qs=Si(Vs);function Ks(e){if(e===Vs)throw Error(s(174));return e}function Gs(e,t){switch(ji(qs,t),ji($s,e),ji(Hs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Hs),ji(Hs,t)}function Ys(){ki(Hs),ki($s),ki(qs)}function Js(e){Ks(qs.current);var t=Ks(Hs.current),n=le(t,e.type);t!==n&&(ji($s,e),ji(Hs,n))}function Qs(e){$s.current===e&&(ki(Hs),ki($s))}var Xs=Si(0);function Zs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function ta(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var na=x.ReactCurrentDispatcher,ra=x.ReactCurrentBatchConfig,ia=0,sa=null,aa=null,oa=null,la=!1,ca=!1,ua=0,da=0;function ha(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,i,a){if(ia=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,na.current=null===e||null===e.memoizedState?Qa:Xa,e=n(r,i),ca){a=0;do{if(ca=!1,ua=0,25<=a)throw Error(s(301));a+=1,oa=aa=null,t.updateQueue=null,na.current=Za,e=n(r,i)}while(ca)}if(na.current=Ja,t=null!==aa&&null!==aa.next,ia=0,oa=aa=sa=null,la=!1,t)throw Error(s(300));return e}function ga(){var e=0!==ua;return ua=0,e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oa?sa.memoizedState=oa=e:oa=oa.next=e,oa}function va(){if(null===aa){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=aa.next;var t=null===oa?sa.memoizedState:oa.next;if(null!==t)oa=t,aa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(aa=e).memoizedState,baseState:aa.baseState,baseQueue:aa.baseQueue,queue:aa.queue,next:null},null===oa?sa.memoizedState=oa=e:oa=oa.next=e}return oa}function ba(e,t){return"function"===typeof t?t(e):t}function ya(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=aa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,sa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,ar(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);ar(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function wa(){}function _a(e,t){var n=sa,r=va(),i=t(),a=!ar(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ra(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==oa&&1&oa.memoizedState.tag){if(n.flags|=2048,Na(9,ka.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&ia)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ea(e)}function ja(e,t,n){return n(function(){Ca(t)&&Ea(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(Ih){return!0}}function Ea(e){var t=Ms(e,1);null!==t&&tc(t,e,1,-1)}function Pa(e){var t=ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=qa.bind(null,sa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ta(){return va().memoizedState}function Aa(e,t,n,r){var i=ma();sa.flags|=e,i.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==aa){var a=aa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=Na(t,n,s,r))}sa.flags|=e,i.memoizedState=Na(1|t,n,s,r)}function Ma(e,t){return Aa(8390656,8,e,t)}function Ra(e,t){return Oa(2048,8,e,t)}function La(e,t){return Oa(4,2,e,t)}function Ia(e,t){return Oa(4,4,e,t)}function Da(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Da.bind(null,t,e),n)}function Fa(){}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(ar(n,t)||(n=pt(),sa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ra.transition;ra.transition={};try{e(!1),t()}finally{bt=n,ra.transition=r}}function Ha(){return va().memoizedState}function $a(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Ga(t,n);else if(null!==(n=Os(e,t,n,r))){tc(n,e,r,Zl()),Ya(n,t,r)}}function qa(e,t,n){var r=ec(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ga(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ar(o,a)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Oh){}null!==(n=Os(e,t,i,r))&&(tc(n,e,r,i=Zl()),Ya(n,t,r))}}function Ka(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ga(e,t){ca=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Ns,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Qa={readContext:Ns,useCallback:function(e,t){return ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,Da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$a.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ma().memoizedState=e},useState:Pa,useDebugValue:Fa,useDeferredValue:function(e){return ma().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Va.bind(null,e[1]),ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ma();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&ia)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(ja.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ma(),t=Pl.identifierPrefix;if(rs){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=ua++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xa={readContext:Ns,useCallback:Ba,useContext:Ns,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Ia,useMemo:Ua,useReducer:ya,useRef:Ta,useState:function(){return ya(ba)},useDebugValue:Fa,useDeferredValue:function(e){return Wa(va(),aa.memoizedState,e)},useTransition:function(){return[ya(ba)[0],va().memoizedState]},useMutableSource:wa,useSyncExternalStore:_a,useId:Ha,unstable_isNewReconciler:!1},Za={readContext:Ns,useCallback:Ba,useContext:Ns,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Ia,useMemo:Ua,useReducer:xa,useRef:Ta,useState:function(){return xa(ba)},useDebugValue:Fa,useDeferredValue:function(e){var t=va();return null===aa?t.memoizedState=e:Wa(t,aa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],va().memoizedState]},useMutableSource:wa,useSyncExternalStore:_a,useId:Ha,unstable_isNewReconciler:!1};function eo(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function to(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(tc(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(tc(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(tc(t,e,r,n),Fs(t,e,r))}};function ro(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,s))}function io(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(i=Ai(t)?Ni:Ei.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function ao(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ns(s):(s=Ai(t)?Ni:Ei.current,i.context=Ti(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(to(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&no.enqueueReplaceState(i,i.state,null),Us(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function oo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(Uh){i="\nError generating stack: "+Uh.message+"\n"+Uh.stack}return{value:e,source:t,stack:i,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(Lh){setTimeout(function(){throw Lh})}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),co(0,t)},n}function fo(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=x.ReactCurrentOwner,bo=!1;function yo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ys(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var s=t.ref;return Ps(t,i),r=pa(e,t,n,r,s,i),n=ga(),null===e||bo?(rs&&n&&Zi(t),t.flags|=1,yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function wo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return jo(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Ol,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Ol,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ji(Ol,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ji(Ol,Al),Al|=r;return yo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,r,i){var s=Ai(n)?Ni:Ei.current;return s=Ti(t,s),Ps(t,i),n=pa(e,t,n,r,s,i),r=ga(),null===e||bo?(rs&&r&&Zi(t),t.flags|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function Co(e,t,n,r,i){if(Ai(n)){var s=!0;Li(t)}else s=!1;if(Ps(t,i),null===t.stateNode)Wo(e,t),io(t,n,r),ao(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ns(c):c=Ti(t,c=Ai(n)?Ni:Ei.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&so(t,a,r,c),Rs=!1;var h=t.memoizedState;a.state=h,Us(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Pi.current||Rs?("function"===typeof u&&(to(t,n,u,r),l=t.memoizedState),(o=Rs||ro(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Is(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:eo(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=Ti(t,l=Ai(n)?Ni:Ei.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&so(t,a,r,l),Rs=!1,h=t.memoizedState,a.state=h,Us(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Pi.current||Rs?("function"===typeof f&&(to(t,n,f,r),p=t.memoizedState),(c=Rs||ro(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,s,i)}function Eo(e,t,n,r,i,s){ko(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ii(t,n,!1),Vo(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Gs(e,t.containerInfo)}function No(e,t,n,r,i){return hs(),fs(i),t.flags|=256,yo(e,t,n,r),t.child}var To,Ao,Oo,Mo,Ro={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,n){var r,i=t.pendingProps,a=Xs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(Xs,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Rc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Ro,e):Do(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=lo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Rc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Ro,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=lo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Pl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ms(e,i),tc(r,e,i,-1))}return pc(),zo(e,t,o,r=lo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ns=li(i.nextSibling),ts=t,rs=!0,is=null,null!==e&&(qi[Ki++]=Yi,qi[Ki++]=Ji,qi[Ki++]=Gi,Yi=e.id,Ji=e.overflow,Gi=t),t=Do(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Do(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&fs(r),ys(t,e.child,null,n),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Bo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(yo(e,t,r.children,n),0!==(2&(r=Xs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(Xs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Zs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Zs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(es(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Ai(t.type)&&Oi(),$o(t),null;case 3:return r=t.stateNode,Ys(),ki(Pi),ki(Ei),ta(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==is&&(sc(is),is=null))),Ao(e,t),$o(t),null;case 5:Qs(t);var i=Ks(qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $o(t),null}if(e=Ks(Hs.current),us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[hi]=r,To(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&y(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(qs.current),Ks(Hs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ts))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return $o(t),null;case 13:if(ki(Xs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,a=!1;else if(a=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),a=!1}else null!==is&&(sc(is),is=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Ml&&(Ml=3):pc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Ys(),Ao(e,t),null===e&&Ur(t.stateNode.containerInfo),$o(t),null;case 10:return Cs(t.type._context),$o(t),null;case 19:if(ki(Xs),null===(a=t.memoizedState))return $o(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Zs(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Ul&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Zs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!rs)return $o(t),null}else 2*Je()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Xs.current,ji(Xs,r?1&n|2:1&n),t):($o(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(es(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ki(Pi),ki(Ei),ta(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qs(t),null;case 13:if(ki(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Xs),null;case 4:return Ys(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}To=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(Hs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Yo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Ih){Sc(e,t,Ih)}else n.current=null}function Zo(e,t,n){try{n()}catch(Ih){Sc(e,t,Ih)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Zo(t,n,s)}i=i.next}while(i!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[pi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(Bh){}switch(n.tag){case 5:Yo||Xo(n,t);case 6:var r=cl,i=ul;cl=null,dl(e,t,n),ul=i,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),Ut(e)):oi(cl,n.stateNode));break;case 4:r=cl,i=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&Zo(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Yo&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Bh){Sc(n,t,Bh)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,dl(e,t,n),Yo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(a,o,i),cl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Oh){Sc(i,t,Oh)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(Eh){Sc(e,e.return,Eh)}try{tl(5,e,e.return)}catch(Eh){Sc(e,e.return,Eh)}}break;case 1:pl(t,e),ml(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(pl(t,e),ml(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(Eh){Sc(e,e.return,Eh)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):y(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(Eh){Sc(e,e.return,Eh)}}break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(Eh){Sc(e,e.return,Eh)}}break;case 3:if(pl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(Eh){Sc(e,e.return,Eh)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,pl(t,e),Yo=u):pl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qo=e,d=e.child;null!==d;){for(h=Qo=d;null!==Qo;){switch(p=(f=Qo).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Xo(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(Eh){Sc(r,n,Eh)}}break;case 5:Xo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Qo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(Eh){Sc(e,e.return,Eh)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(Eh){Sc(e,e.return,Eh)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),ml(e),4&r&&fl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ll(e,al(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ol(e,al(e),a);break;default:throw Error(s(161))}}catch($h){Sc(e,e.return,$h)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var i=Qo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Go;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Go;var c=Yo;if(Go=a,(Yo=l)&&!c)for(Qo=i;null!==Qo;)l=(a=Qo).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,Qo=l):wl(i);for(;null!==s;)Qo=s,bl(s,t,n),s=s.sibling;Qo=i,Go=o,Yo=c}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Qo=s):yl(e)}}function yl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:eo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ws(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&rl(t)}catch(Nh){Sc(t,t.return,Nh)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function xl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function wl(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch($h){Sc(t,n,$h)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch($h){Sc(t,i,$h)}}var s=t.return;try{rl(t)}catch($h){Sc(t,s,$h)}break;case 5:var a=t.return;try{rl(t)}catch($h){Sc(t,a,$h)}}}catch($h){Sc(t,t.return,$h)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var _l,Sl=Math.ceil,kl=x.ReactCurrentDispatcher,jl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,El=0,Pl=null,Nl=null,Tl=0,Al=0,Ol=Si(0),Ml=0,Rl=null,Ll=0,Il=0,Dl=0,zl=null,Fl=null,Bl=0,Ul=1/0,Wl=null,Vl=!1,Hl=null,$l=null,ql=!1,Kl=null,Gl=0,Yl=0,Jl=null,Ql=-1,Xl=0;function Zl(){return 0!==(6&El)?Je():-1!==Ql?Ql:Ql=Je()}function ec(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Tl?Tl&-Tl:null!==ps.transition?(0===Xl&&(Xl=pt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));mt(e,n,r),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Il|=n),4===Ml&&ac(e,Tl)),nc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=Je()+500,zi&&Ui()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-st(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Pl?Tl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(oc.bind(null,e)):Bi(oc.bind(null,e)),si(function(){0===(6&El)&&Ui()}),n=null;else{switch(yt(r)){case 1:n=Xe;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ql=-1,Xl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=El;El|=2;var a=fc();for(Pl===e&&Tl===t||(Wl=null,Ul=Je()+500,dc(e,t));;)try{vc();break}catch(Bh){hc(e,Bh)}js(),kl.current=a,El=i,null!==Nl?t=0:(Pl=null,Tl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ic(e,i))),1===t)throw n=Rl,dc(e,0),ac(e,r),nc(e,Je()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=ic(e,a))),1===t))throw n=Rl,dc(e,0),ac(e,r),nc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Fl,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(xc.bind(null,e,Fl,Wl),t);break}xc(e,Fl,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ni(xc.bind(null,e,Fl,Wl),r);break}xc(e,Fl,Wl);break;default:throw Error(s(329))}}}return nc(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&sc(t)),e}function sc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ac(e,t){for(t&=~Dl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&El))throw Error(s(327));wc();var t=dt(e,0);if(0===(1&t))return nc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Rl,dc(e,0),ac(e,t),nc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Wl),nc(e,Je()),null}function lc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Je()+500,zi&&Ui())}}function cc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&wc();var t=El;El|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(El=t))&&Ui()}}function uc(){Al=Ol.current,ki(Ol)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ri(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(es(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ys(),ki(Pi),ki(Ei),ta();break;case 5:Qs(r);break;case 4:Ys();break;case 13:case 19:ki(Xs);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Pl=e,Nl=e=Oc(e.current,null),Tl=Al=t,Ml=0,Rl=null,Dl=Il=Ll=0,Fl=zl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ts=null}return e}function hc(e,t){for(;;){var n=Nl;try{if(js(),na.current=Ja,la){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(ia=0,oa=aa=sa=null,ca=!1,ua=0,jl.current=null,null===n||null===n.return){Ml=1,Rl=t,Nl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,mo(p,o,l,0,t),1&p.mode&&po(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){po(a,u,t),pc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),mo(v,o,l,0,t),fs(oo(c,l));break e}}a=c=oo(c,l),4!==Ml&&(Ml=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,ho(0,c,t));break e;case 1:l=c;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$l||!$l.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}yc(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function fc(){var e=kl.current;return kl.current=Ja,null===e?Ja:e}function pc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Il)||ac(Pl,Tl)}function gc(e,t){var n=El;El|=2;var r=fc();for(Pl===e&&Tl===t||(Wl=null,dc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(js(),El=n,kl.current=r,null!==Nl)throw Error(s(261));return Pl=null,Tl=0,Ml}function mc(){for(;null!==Nl;)bc(Nl)}function vc(){for(;null!==Nl&&!Ge();)bc(Nl)}function bc(e){var t=_l(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?yc(e):Nl=t,jl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Al)))return void(Nl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ml=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ml&&(Ml=5)}function xc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Kl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Pl&&(Nl=Pl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Pc(et,function(){return wc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=El;El|=4,jl.current=null,function(e,t){if(Zr=Vt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(vf){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},Vt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:eo(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(vf){Sc(t,t.return,vf)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}g=el,el=!1}(e,n),gl(n,e),fr(ei),Vt=!!Zr,ei=Zr=null,e.current=n,vl(n,e,i),Ye(),El=l,bt=o,Cl.transition=a}else e.current=n;if(ql&&(ql=!1,Kl=e,Gl=i),a=e.pendingLanes,0===a&&($l=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&wc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Ui()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function wc(){if(null!==Kl){var e=yt(Gl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&El))throw Error(s(331));var i=El;for(El|=4,Qo=e.current;null!==Qo;){var a=Qo,o=a.child;if(0!==(16&Qo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qo=u;null!==Qo;){var d=Qo;switch(d.tag){case 0:case 11:case 15:tl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Qo=h;else for(;null!==Qo;){var f=(d=Qo).sibling,p=d.return;if(il(d),d===u){Qo=null;break}if(null!==f){f.return=p,Qo=f;break}Qo=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Qo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(a=Qo).flags))switch(a.tag){case 0:case 11:case 15:tl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Qo=b;break e}Qo=a.return}}var y=e.current;for(Qo=y;null!==Qo;){var x=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Qo=x;else e:for(o=y;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===o){Qo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qo=w;break e}Qo=l.return}}if(El=i,Ui(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function _c(e,t,n){e=zs(e,t=ho(0,t=oo(n,t),1),1),t=Zl(),null!==e&&(mt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=zs(t,e=fo(t,e=oo(n,e),1),1),e=Zl(),null!==t&&(mt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Tl&n)===n&&(4===Ml||3===Ml&&(130023424&Tl)===Tl&&500>Je()-Bl?dc(e,0):Dl|=n),nc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Zl();null!==(e=Ms(e,t))&&(mt(e,t,n),nc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),jc(e,n)}function Pc(e,t){return qe(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Nc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Rc(n.children,i,a,t);case k:o=8,i|=8;break;case j:return(e=Tc(12,n,t,2|i)).elementType=j,e.lanes=a,e;case N:return(e=Tc(13,n,t,i)).elementType=N,e.lanes=a,e;case T:return(e=Tc(19,n,t,i)).elementType=T,e.lanes=a,e;case M:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case P:o=11;break e;case A:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,s,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function Uc(e,t,n,r,i,s,a,o,l){return(e=Fc(n,r,!0,e,0,s,0,o,l)).context=Bc(null),n=e.current,(s=Ds(r=Zl(),i=ec(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,mt(e,i,r),nc(e,r),e}function Wc(e,t,n,r){var i=t.current,s=Zl(),a=ec(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,a))&&(tc(e,i,a,s),Fs(e,i,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),hs();break;case 5:Js(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(ws,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(Xs,1&Xs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Io(e,t,n):(ji(Xs,1&Xs.current),null!==(e=Vo(e,t,n))?e.sibling:null);ji(Xs,1&Xs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(Xs,Xs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Vo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,rs&&0!==(1048576&t.flags)&&Xi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Ti(t,Ei.current);Ps(t,n),i=pa(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=no,t.stateNode=i,i._reactInternals=t,ao(t,r,e,n),t=Eo(null,t,r,!0,a,n)):(t.tag=0,rs&&a&&Zi(t),yo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===A)return 14}return 2}(r),e=eo(r,e),i){case 0:t=jo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=wo(null,t,r,eo(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Is(e,t),Us(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,r,n,i=oo(Error(s(423)),t));break e}if(r!==i){t=No(e,t,r,n,i=oo(Error(s(424)),t));break e}for(ns=li(t.stateNode.containerInfo.firstChild),ts=t,rs=!0,is=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===i){t=Vo(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ti(r,i)?o=null:null!==a&&ti(r,a)&&(t.flags|=32),ko(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Io(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ji(ws,r._currentValue),r._currentValue=o,null!==a)if(ar(a.value,o)){if(a.children===i.children&&!Pi.current){t=Vo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ds(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ps(t,n),r=r(i=Ns(i)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return i=eo(r=t.type,t.pendingProps),wo(e,t,r,i=eo(r.type,i),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),Wo(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Ps(t,n),io(t,r,i),ao(t,r,i,n),Eo(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Vc(a);o.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Vc(a);s.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[fi]=a.current,Ur(8===e.nodeType?e.parentNode:e),cc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Vc(l);o.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),cc(function(){Wc(t,l,n,r)}),l}(n,t,e,i,r);return Vc(a)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Wc(null,e,null,null)}),t[fi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&It(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,Je()),0===(6&El)&&(Ul=Je()+500,Ui()))}break;case 13:cc(function(){var t=Ms(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),$c(e,1)}},wt=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)tc(t,e,134217728,Zl());$c(e,134217728)}},_t=function(e){if(13===e.tag){var t=ec(e),n=Ms(e,t);if(null!==n)tc(n,e,t,Zl());$c(e,t)}},St=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=lc,Pe=cc;var Zc={usingClientEntryPoint:!1,Events:[bi,yi,xi,je,Ce,lc]},eu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{rt=nu.inject(tu),it=nu}catch(Rh){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(374));class s extends i.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(i,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=s},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:i}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let s=!1;const a=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer","count=".concat(n)),new i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const i=r(n(210));t.PostgrestClient=i.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const a=r(n(736));t.PostgrestFilterBuilder=a.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,h=null,m=v();function v(){return(o.state||{idx:null}).idx}function b(){l=r.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:x.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,o.replaceState(c({},o.state,{idx:m}),""));let x={get action(){return l},get location(){return e(s,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,b),h=e,()=>{s.removeEventListener(u,b),h=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(x.location,e,t);n&&n(i,e),m=v()+1;let c=f(i,m),u=x.createHref(i);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}a&&h&&h({action:l,location:x.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(x.location,e,t);n&&n(i,e),m=v();let s=f(i,m),c=x.createHref(i);o.replaceState(s,"",c),a&&h&&h({action:l,location:x.location,delta:0})},go:e=>o.go(e)};return x}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let i=R(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=M(i);a=A(s[o],e,r)}return a}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=F([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)}),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=_(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,k=3,j=2,C=1,E=10,P=-2,N=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=P),t&&(r+=j),n.filter(e=>!N(e)).reduce((e,t)=>e+(S.test(t)?k:""===t?C:E),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:F([s,u.pathname]),pathnameBase:B(F([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return a}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function M(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function z(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:W(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],$=(new Set(H),["get",...H]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const K=i.createContext(null);const G=i.createContext(null);const Y=i.createContext(null);const J=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function Z(){return null!=i.useContext(J)}function ee(){return Z()||d(!1),i.useContext(J).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=ge(he.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:s}=i.useContext(Q),{pathname:a}=ee(),o=JSON.stringify(D(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let c=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=z(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e]);return c}()}function re(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:s}=i.useContext(Q),{pathname:a}=ee(),o=JSON.stringify(D(s,r.v7_relativeSplatPath));return i.useMemo(()=>z(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,t,n,s){Z()||d(!1);let{navigator:a}=i.useContext(Y),{matches:o}=i.useContext(Q),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?m(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let x=ue(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&x?i.createElement(J.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function ae(){let e=function(){var e;let t=i.useContext(X),n=pe(he.UseRouteError),r=ge(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const oe=i.createElement(ae,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,s+1)),m=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=i.useContext(K);return t||d(!1),t}function pe(e){let t=i.useContext(G);return t||d(!1),t}function ge(e){let t=function(){let e=i.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function be(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||d(!1);let{future:a,static:o}=i.useContext(Y),{matches:l}=i.useContext(Q),{pathname:c}=ee(),u=ne(),h=z(t,D(l,a.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ye(e){d(!1)}function xe(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:b="default"}=s,y=i.useMemo(()=>{let e=R(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:b},navigationType:a}},[u,f,p,g,v,b,a]);return null==y?null:i.createElement(Y.Provider,{value:h},i.createElement(J.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return se(_e(t),n)}new Promise(()=>{});i.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,_e(e.props.children,s));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=_e(e.props.children,s)),n.push(a)}),n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Dp){}new Map;const Ce=s.startTransition;l.flushSync,s.useId;function Ee(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback(e=>{d&&Ce?Ce(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>ve(r),[r]),i.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=ke(e,je),{basename:m}=i.useContext(Y),v=!1;if("string"===typeof u&&Ne.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=R(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Dp){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:s}=i.useContext(Y),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:F([r,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),y=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ie(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return i.createElement("a",Se({},p,{href:n||b,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Ae,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));class Me extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Re extends Me{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Le extends Me{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ie extends Me{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var De;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(De||(De={}));var ze=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};class Fe{constructor(e){let{headers:t={},customFetch:r,region:i=De.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=i,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return ze(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:s}=t;let a={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(a["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(a["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(e=>{throw new Re(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Le(u);if(!u.ok)throw new Ie(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof Ie||r instanceof Le?r.context:void 0}}})}}var Be=n(980);const{PostgrestClient:Ue,PostgrestQueryBuilder:We,PostgrestFilterBuilder:Ve,PostgrestTransformBuilder:He,PostgrestBuilder:$e,PostgrestError:qe}=Be;const Ke=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Ge="realtime-js/".concat("2.15.1"),Ye=1e4;var Je,Qe,Xe,Ze,et,tt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Je||(Je={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Qe||(Qe={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Xe||(Xe={})),function(e){e.websocket="websocket"}(Ze||(Ze={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(et||(et={}));class nt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=n.decode(e.slice(s,s+r));s+=r;const o=n.decode(e.slice(s,s+i));s+=i;return{ref:null,topic:a,event:o,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class rt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(tt||(tt={}));const it=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,i)=>(n[i]=st(i,e,t,r),n),{})},st=(e,t,n,r)=>{const i=t.find(t=>t.name===e),s=null===i||void 0===i?void 0:i.type,a=n[e];return s&&!r.includes(s)?at(s,a):ot(a)},at=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return dt(t,n)}switch(e){case tt.bool:return lt(t);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return ct(t);case tt.json:case tt.jsonb:return ut(t);case tt.timestamp:return ht(t);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:default:return ot(t)}},ot=e=>e,lt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ct=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ut=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},dt=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(kf){r=i?i.split(","):[]}return r.map(e=>at(t,e))}return e},ht=e=>"string"===typeof e?e.replace(" ","T"):e,ft=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class pt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ye;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gt,mt,vt,bt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(gt||(gt={}));class yt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yt.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=yt.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=yt.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),s=this.transformState(t),a={},o={};return this.map(i,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=i[e];if(n){const r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),s=t.filter(e=>i.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(a[e]=s),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(i,{joins:a,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;const s=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let i=e[t];if(!i)return;const s=n.map(e=>e.presence_ref);i=i.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(mt||(mt={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(vt||(vt={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(bt||(bt={}));class xt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new pt(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new rt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Qe.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new yt(this),this.broadcastEndpointURL=ft(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:i,presence:s,private:a}}=this.params,o=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[vt.PRESENCE]&&this.bindings[vt.PRESENCE].length>0,c={},u={broadcast:i,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:o,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(bt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(bt.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<i;r++){const i=t[r],{filter:{event:a,schema:o,table:l,filter:c}}=i,u=n&&n[r];if(!u||u.event!==a||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Qe.errored,void(null===e||void 0===e||e(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(bt.SUBSCRIBED))}null===e||void 0===e||e(bt.SUBSCRIBED)}).receive("error",t=>{this.state=Qe.errored,null===e||void 0===e||e(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Qe.joined&&e===vt.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,s;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||n("ok"),a.receive("ok",()=>n("ok")),a.receive("error",()=>n("error")),a.receive("timeout",()=>n("timed out"))});{const{event:s,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Qe.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Xe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new pt(this,Xe.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new pt(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const s=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=Xe;if(n&&[a,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(i=this.bindings[s])||void 0===i||i.filter(e=>{var n,r,i,a,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,a=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===a||(null===a||void 0===a?void 0:a.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(o=null===(a=null===e||void 0===e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:s}=e,a={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:s};u=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&xt.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xe.close,{},e)}_onError(e){this._on(Xe.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=it(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=it(e.columns,e.old_record)),t}}const wt=()=>{},_t=25e3,St=10,kt=100,jt=[1e3,2e3,5e3,1e4];class Ct{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ye,this.transport=null,this.heartbeatIntervalMs=_t,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wt,this.ref=0,this.reconnectTimer=null,this.logger=wt,this.conn=null,this.sendBuffer=[],this.serializer=new nt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Ze.websocket),this.httpEndpoint=ft(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ke.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Je.connecting:return et.Connecting;case Je.open:return et.Open;case Je.closing:return et.Closing;default:return et.Closed}}isConnected(){return this.connectionState()===et.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new xt("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:i}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(i,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},kt);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:i}=e,s=i?"(".concat(i,")"):"",a=r.status||"";this.log("receive","".concat(a," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xe.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Ge};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Xe.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Dp){this.log("error","error in ".concat(e," callback"),Dp)}})}catch(Dp){this.log("error","error triggering ".concat(e," callbacks"),Dp)}}_setupReconnectionTimer(){this.reconnectTimer=new rt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},St)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,i,s,a,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Ye,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:_t,this.worker=null!==(i=null===e||void 0===e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(a=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==a?a:e=>jt[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Et extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pt(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Nt extends Et{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tt extends Et{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var At=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};const Ot=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Mt=e=>{if(Array.isArray(e))return e.map(e=>Mt(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const i=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[i]=Mt(r)}),t};var Rt=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};const Lt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),It=(e,t,r)=>Rt(void 0,void 0,void 0,function*(){const i=yield At(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof i&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,i=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Nt(Lt(n),r,i))}).catch(e=>{t(new Tt(Lt(e),e))}):t(new Tt(Lt(e),e))}),Dt=(e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,(null===t||void 0===t?void 0:t.duplex)&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n)):i};function zt(e,t,n,r,i,s){return Rt(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,Dt(t,r,i,s)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>It(e,o,r))})})}function Ft(e,t,n,r){return Rt(this,void 0,void 0,function*(){return zt(e,"GET",t,n,r)})}function Bt(e,t,n,r,i){return Rt(this,void 0,void 0,function*(){return zt(e,"POST",t,r,i,n)})}function Ut(e,t,n,r,i){return Rt(this,void 0,void 0,function*(){return zt(e,"PUT",t,r,i,n)})}function Wt(e,t,n,r,i){return Rt(this,void 0,void 0,function*(){return zt(e,"DELETE",t,r,i,n)})}var Vt=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};const Ht={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$t={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Ot(r)}uploadOrUpdate(e,t,n,r){return Vt(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},$t),r);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,a["cache-control"]="max-age=".concat(s.cacheControl),a["content-type"]=s.contentType,o&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Ut:Bt)(this.fetch,"".concat(this.url,"/object/").concat(c),i,Object.assign({headers:a},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Vt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+"/object/upload/sign/".concat(s));a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:$t.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:i,fullPath:(yield Ut(this.fetch,a.toString(),e,{headers:s})).Key},error:null}}catch(o){if(Pt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Vt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield Bt(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Et("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}update(e,t,n){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Vt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Vt(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Vt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Bt(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return i={signedUrl:encodeURI("".concat(this.url).concat(i.signedURL).concat(s))},{data:i,error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Vt(this,void 0,void 0,function*(){try{const r=yield Bt(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(i)):null})),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}download(e,t){return Vt(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),i=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Ft(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(i),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}info(e){return Vt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Ft(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Mt(e),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}exists(e){return Vt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Rt(this,void 0,void 0,function*(){return zt(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pt(n)&&n instanceof Tt){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==i&&r.push(i);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==a&&r.push(a);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}remove(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Pt(t))return{data:null,error:t};throw t}})}list(e,t,n){return Vt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Ht),t),{prefix:e||""});return{data:yield Bt(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}listV2(e,t){return Vt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Bt(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Kt={"X-Client-Info":"storage-js/".concat("2.11.0")};var Gt=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};class Yt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."))}this.url=i.href,this.headers=Object.assign(Object.assign({},Kt),t),this.fetch=Ot(n)}listBuckets(){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Pt(e))return{data:null,error:e};throw e}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Pt(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Gt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Pt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Pt(t))return{data:null,error:t};throw t}})}}class Jt extends Yt{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new qt(this.url,this.headers,e,this.fetch)}}let Qt="";Qt="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Xt={headers:{"X-Client-Info":"supabase-js-".concat(Qt,"/").concat("2.56.0")}},Zt={schema:"public"},en={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tn={};var nn=n(630),rn=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};const sn=e=>{let t;return t=e||("undefined"===typeof fetch?nn.default:fetch),function(){return t(...arguments)}},an=(e,t,n)=>{const r=sn(n),i="undefined"===typeof Headers?nn.Headers:Headers;return(n,s)=>rn(void 0,void 0,void 0,function*(){var a;const o=null!==(a=yield t())&&void 0!==a?a:e;let l=new i(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},s),{headers:l}))})};var on=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};const ln="2.71.1",cn=3e4,un=9e4,dn={"X-Client-Info":"gotrue-js/".concat(ln)},hn="X-Supabase-Api-Version",fn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},pn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class gn extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function mn(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class vn extends gn{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class bn extends gn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class yn extends gn{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class xn extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class wn extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _n extends yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sn extends yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kn extends yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jn extends yn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Cn(e){return mn(e)&&"AuthRetryableFetchError"===e.name}class En extends yn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Pn extends yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tn=" \t\n\r=".split(""),An=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tn.length;t+=1)e[Tn[t].charCodeAt(0)]=-2;for(let t=0;t<Nn.length;t+=1)e[Nn[t].charCodeAt(0)]=t;return e})();function On(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Nn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Nn[e]),t.queuedBits-=6}}function Mn(e,t,n){const r=An[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Rn(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let a=0;a<e.length;a+=1)Mn(e.charCodeAt(a),i,s);return t.join("")}function Ln(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function In(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Ln(r,t)}}function Dn(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)Mn(e.charCodeAt(i),n,r);return new Uint8Array(t)}function zn(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>On(e,n,r)),On(null,n,r),t.join("")}const Fn=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Bn={tested:!1,writable:!1},Un=()=>{if(!Fn())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Dp){return!1}if(Bn.tested)return Bn.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bn.tested=!0,Bn.writable=!0}catch(Dp){Bn.tested=!0,Bn.writable=!1}return Bn.writable};const Wn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Vn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},$n=async(e,t)=>{await e.removeItem(t)};class qn{constructor(){this.promise=new qn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Kn(e){const t=e.split(".");if(3!==t.length)throw new Pn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pn.test(t[n]))throw new Pn("JWT not in base64url format");return{header:JSON.parse(Rn(t[0])),payload:JSON.parse(Rn(t[1])),signature:Dn(t[2]),raw:{header:t[0],payload:t[1]}}}function Gn(e){return("0"+e.toString(16)).substr(-2)}async function Yn(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Gn).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Vn(e,"".concat(t,"-code-verifier"),i);const s=await Yn(r);return[s,r===s?"plain":"s256"]}qn.promiseConstructor=Promise;const Qn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Xn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zn(e){if(!Xn.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function er(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function tr(e){return JSON.parse(JSON.stringify(e))}var nr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ir=[502,503,504];async function sr(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new jn(rr(e),0);if(ir.includes(e.status))throw new jn(rr(e),e.status);let r,i;try{r=await e.json()}catch(Dp){throw new bn(rr(Dp),Dp)}const s=function(e){const t=e.headers.get(hn);if(!t)return null;if(!t.match(Qn))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Dp){return null}}(e);if(s&&s.getTime()>=fn.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?i=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new En(rr(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new xn}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new En(rr(r),e.status,r.weak_password.reasons);throw new vn(rr(r),e.status||500,i)}async function ar(e,t,n,r){var i;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[hn]||(s[hn]=fn.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const a=null!==(i=null===r||void 0===r?void 0:r.query)&&void 0!==i?i:{};(null===r||void 0===r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,n,r,i,s){const a=((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(Dp){throw console.error(Dp),new jn(rr(Dp),0)}o.ok||await sr(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(Dp){await sr(Dp)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function or(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function lr(e){const t=or(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function cr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ur(e){return{data:e,error:null}}function dr(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=nr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},a)},error:null}}function hr(e){return e}const fr=["global","local","others"];var pr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class gr{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Wn(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr[0];if(fr.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(fr.join(", ")));try{return await ar(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await ar(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:cr})}catch(n){if(mn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=pr(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await ar(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:dr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(mn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ar(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:cr})}catch(t){if(mn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,s,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await ar(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:hr});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(mn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Zn(e);try{return await ar(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:cr})}catch(t){if(mn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Zn(e);try{return await ar(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:cr})}catch(n){if(mn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Zn(e);try{return await ar(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:cr})}catch(n){if(mn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Zn(e.userId);try{const{data:t,error:n}=await ar(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(mn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Zn(e.userId),Zn(e.id);try{return{data:await ar(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}}}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vr=!!(globalThis&&Un()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class br extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yr extends br{}async function xr(e,t,n){vr&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vr&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw vr&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yr('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(vr)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Dp){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Dp)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}vr&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{vr&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Dp){"undefined"!==typeof self&&(self.globalThis=self)}}();const wr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _r(e,t,n){return await n()}const Sr={};class kr{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kr.nextInstanceID,kr.nextInstanceID+=1,this.instanceID>0&&Fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},wr),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new gr({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Wn(r.fetch),this.lock=r.lock||_r,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Fn()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=xr:this.lock=_r,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Un()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mr(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=mr(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Dp){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Dp)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Sr[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Sr[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(ln,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Dp){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Fn()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return mn(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return mn(t)?{error:t}:{error:new bn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await ar(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:or}),{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(mn(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:s}=e;let a=null,o=null;"pkce"===this.flowType&&([a,o]=await Jn(this.storage,this.storageKey)),i=await ar(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:o},xform:or})}else{if(!("phone"in e))throw new _n("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:a}=e;i=await ar(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===a||void 0===a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(r=null===a||void 0===a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:or})}}const{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(mn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await ar(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:lr})}else{if(!("phone"in e))throw new _n("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await ar(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:lr})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new wn}}catch(t){if(mn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,i,s,a,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:g,options:m}=e;let v;if(Fn())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const b=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===m||void 0===m?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(b.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1","URI: ".concat(b.href),"Issued At: ".concat(null!==(r=null===(n=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(i=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===i?void 0:i.notBefore)?["Not Before: ".concat(m.signInWithSolana.notBefore)]:[],...(null===(s=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(m.signInWithSolana.expirationTime)]:[],...(null===(a=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===a?void 0:a.chainId)?["Chain ID: ".concat(m.signInWithSolana.chainId)]:[],...(null===(o=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(m.signInWithSolana.nonce)]:[],...(null===(l=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(m.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...m.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await ar(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:zn(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:or});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new wn}}catch(g){if(mn(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const t=await Hn(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:i}=await ar(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:or});if(await $n(this.storage,"".concat(this.storageKey,"-code-verifier")),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new wn}}catch(i){if(mn(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:s}=e,a=await ar(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:or}),{data:o,error:l}=a;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new wn}}catch(t){if(mn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,s;try{if("email"in e){const{email:r,options:i}=e;let s=null,a=null;"pkce"===this.flowType&&([s,a]=await Jn(this.storage,this.storageKey));const{error:o}=await ar(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:a},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:a,error:o}=await ar(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:o}}throw new _n("You must provide either an email or phone number.")}catch(a){if(mn(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:a}=await ar(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:or});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(mn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,s=null;return"pkce"===this.flowType&&([i,s]=await Jn(this.storage,this.storageKey)),await ar(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:ur})}catch(i){if(mn(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new xn;const{error:r}=await ar(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(mn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:i}=e,{error:s}=await ar(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:s,error:a}=await ar(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:a}}throw new _n("You must provide either an email or phone number and a type")}catch(t){if(mn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Dp){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Dp){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<un;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Hn(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=er()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await ar(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:cr}):await this._useSession(async e=>{var t,n,r;const{data:i,error:s}=e;if(s)throw s;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ar(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:cr}):{data:{user:null},error:new xn}})}catch(t){if(mn(t))return function(e){return mn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await $n(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new xn;const s=r.session;let a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await Jn(this.storage,this.storageKey));const{data:l,error:c}=await ar(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:s.access_token,xform:cr});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(mn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xn;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:s}=Kn(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(mn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new xn;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(mn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Fn())throw new Sn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new kn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Sn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kn("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:s,expires_in:a,expires_at:o,token_type:l}=e;if(!i||!a||!s||!l)throw new Sn("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(a);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=cn&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:g}=await this._getUser(i);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(mn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Hn(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return mn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await $n(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Jn(this.storage,this.storageKey,!0));try{return await ar(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(mn(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,i,s,a;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await ar(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});if(r)throw r;return Fn()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(mn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:s}=t;if(s)throw s;return await ar(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(mn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await ar(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:or})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Cn(t)&&Date.now()+n-i<cn},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(Dp){if(!r(i,Dp))return void t(Dp)}})()}))}catch(i){if(this._debug(t,"error",i),mn(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Fn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Hn(this.storage,this.storageKey);if(i&&this.userStorage){let t=await Hn(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await Vn(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:er()}else if(i&&!i.user&&!i.user){const e=await Hn(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await $n(this.storage,this.storageKey+"-user"),await Vn(this.storage,this.storageKey,i)):i.user=er()}if(this._debug(n,"session from storage",i),!this._isValidSession(i))return this._debug(n,"session is not valid"),void(null!==i&&await this._removeSession());const s=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<un;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(un,"s")),s){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(console.error(e),Cn(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return this._debug(n,"error",i),void console.error(i)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new qn;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new xn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),mn(i)){const e={session:null,error:i};return Cn(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Dp){r.push(Dp)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Vn(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=tr(e);await Vn(this.storage,this.storageKey,r)}else{const e=tr(t);await Vn(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await $n(this.storage,this.storageKey),await $n(this.storage,this.storageKey+"-code-verifier"),await $n(this.storage,this.storageKey+"-user"),this.userStorage&&await $n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fn()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Dp){console.error("removing visibilitychange callback failed",Dp)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/cn);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(cn,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Dp){console.error("Auto refresh tick failed with error. This is likely a transient error.",Dp)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Dp){if(!(Dp.isAcquireTimeout||Dp instanceof br))throw Dp;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fn()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Jn(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await ar(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(mn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await ar(this.fetch,"POST","".concat(this.url,"/factors"),{body:a,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(mn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:s,error:a}=await ar(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(t){if(mn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await ar(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(mn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),i=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Kn(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:i}=await ar(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(i)throw i;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:i,signature:s,raw:{header:a,payload:o}}=Kn(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return In(e,e=>t.push(e)),new Uint8Array(t)}("".concat(a,".").concat(o))))throw new Pn("Invalid JWT signature");return{data:{claims:i,header:r,signature:s},error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}}}kr.nextInstanceID=0;const jr=kr;class Cr extends jr{constructor(e){super(e)}}var Er=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(Dp){s(Dp)}}function o(e){try{l(r.throw(e))}catch(Dp){s(Dp)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())})};class Pr{constructor(e,t,n){var r,i,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>on(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Zt,realtime:tn,auth:Object.assign(Object.assign({},en),{storageKey:c}),global:Xt});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=u.global.headers)&&void 0!==i?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=an(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ue(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Jt(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Fe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Er(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:i,detectSessionInUrl:s,storage:a,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Cr({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:i,detectSessionInUrl:s,storage:a,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ct(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nr="undefined"!==typeof window&&window.__ENV__?{url:window.__ENV__.REACT_APP_SUPABASE_URL,key:window.__ENV__.REACT_APP_SUPABASE_ANON_KEY}:"undefined"!==typeof process?{url:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL,key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY}:{url:null,key:null};console.log("Environment check:",{NODE_ENV:"undefined"!==typeof process?"production":"browser",REACT_APP_SUPABASE_URL:Nr.url?"SET":"NOT SET",REACT_APP_SUPABASE_ANON_KEY:Nr.key?"SET":"NOT SET",REACT_APP_API_URL:"/api"!==("undefined"!==typeof window&&window.__ENV__&&window.__ENV__.REACT_APP_API_URL?window.__ENV__.REACT_APP_API_URL:"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL:"/api")?"SET":"NOT SET"});const Tr=Nr.url,Ar=Nr.key;let Or;Tr&&Ar||(console.error("Supabase environment variables not set. Please add REACT_APP_SUPABASE_URL and REACT_APP_SUPABASE_ANON_KEY to your Azure Static Web App environment variables."),console.error("Make sure these are set in Azure Portal > Your Static Web App > Configuration > Application settings"));try{Tr&&Ar?(console.log("Creating Supabase client with provided credentials"),Or=((e,t,n)=>new Pr(e,t,n))(Tr,Ar)):(console.warn("Creating mock Supabase client - authentication will not work"),Or={auth:{getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:async()=>({error:{message:"Supabase not configured"}}),signUp:async()=>({error:{message:"Supabase not configured"}}),signOut:async()=>({error:{message:"Supabase not configured"}}),signInWithOAuth:async()=>({error:{message:"Supabase not configured"}}),resetPasswordForEmail:async()=>({error:{message:"Supabase not configured"}}),signInWithOtp:async()=>({error:{message:"Supabase not configured"}}),verifyOtp:async()=>({error:{message:"Supabase not configured"}})}})}catch(zp){console.error("Failed to create Supabase client:",zp),Or={auth:{getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:async()=>({error:{message:"Supabase not configured"}}),signUp:async()=>({error:{message:"Supabase not configured"}}),signOut:async()=>({error:{message:"Supabase not configured"}}),signInWithOAuth:async()=>({error:{message:"Supabase not configured"}}),resetPasswordForEmail:async()=>({error:{message:"Supabase not configured"}}),signInWithOtp:async()=>({error:{message:"Supabase not configured"}}),verifyOtp:async()=>({error:{message:"Supabase not configured"}})}}}function Mr(e){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(e)}function Rr(e){var t=function(e,t){if("object"!=Mr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mr(t)?t:t+""}function Lr(e,t,n){return(t=Rr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach(function(t){Lr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const zr="undefined"!==typeof window&&window.__ENV__&&window.__ENV__.REACT_APP_API_URL?window.__ENV__.REACT_APP_API_URL:"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL:"/api",Fr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const i="".concat(zr).concat(e);let s={"Content-Type":"application/json"};if(n)try{s=await(async()=>{try{const{data:{session:e}}=await Or.auth.getSession(),t=null===e||void 0===e?void 0:e.access_token;if(!t)throw new Error("Authentication token not found.");return{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}catch(zp){throw console.error("Failed to get auth headers:",zp),new Error("Authentication failed. Please log in again.")}})()}catch(r){throw console.error("Authentication failed:",r),new Error("Authentication required. Please log in again.")}const a=Dr(Dr({},t),{},{headers:Dr(Dr({},s),t.headers),credentials:"include"}),o=await fetch(i,a);if(!o.ok){const e=await o.json().catch(()=>({}));throw new Error(e.error||"HTTP error! status: ".concat(o.status))}return o.json()}catch(zp){throw console.error("API request failed for ".concat(e,":"),zp),zp}},Br=e=>Fr("/institutions/".concat(e)),Ur={async checkUserExists(e){try{const{data:t,error:n}=await Or.from("users").select("*").eq("email",e).single();if(n&&"PGRST116"!==n.code)throw n;return{exists:!!t,user:t}}catch(zp){return console.error("Error checking user existence:",zp),{exists:!1,user:null}}},async upsertUser(e){try{const{data:t,error:n}=await Or.from("users").upsert([e],{onConflict:"email"}).select().single();if(n)throw n;return{success:!0,user:t}}catch(zp){return console.error("Error upserting user:",zp),{success:!1,error:zp}}},storeUserInLocalStorage(e){try{var t,n,r;const i={id:e.id,email:e.email,name:e.name||(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name),img_url:e.img_url||(null===(n=e.user_metadata)||void 0===n?void 0:n.avatar_url),req_date:e.req_date||(new Date).toISOString(),provider:(null===(r=e.app_metadata)||void 0===r?void 0:r.provider)||"email",created_at:e.created_at,updated_at:e.updated_at||(new Date).toISOString()};return localStorage.setItem("user",JSON.stringify(i)),!0}catch(zp){return console.error("Error storing user in localStorage:",zp),!1}},getUserFromLocalStorage(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(zp){return console.error("Error getting user from localStorage:",zp),null}},clearUserFromLocalStorage(){try{return localStorage.removeItem("user"),!0}catch(zp){return console.error("Error clearing user from localStorage:",zp),!1}},async handleAuthChange(e,t){if("SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user){const e=t.user,{exists:o,user:l}=await this.checkUserExists(e.email);if(o){var n,r;const t=Dr(Dr({},l),{},{name:(null===(n=e.user_metadata)||void 0===n?void 0:n.full_name)||l.name,img_url:(null===(r=e.user_metadata)||void 0===r?void 0:r.avatar_url)||l.img_url,updated_at:(new Date).toISOString()}),{success:i,user:s}=await this.upsertUser(t);i?(this.storeUserInLocalStorage(s),console.log("User profile updated:",s)):(this.storeUserInLocalStorage(l),console.log("Using existing user profile:",l))}else{var i,s,a;const t={id:e.id,email:e.email,name:(null===(i=e.user_metadata)||void 0===i?void 0:i.full_name)||e.email.split("@")[0],img_url:null===(s=e.user_metadata)||void 0===s?void 0:s.avatar_url,provider:(null===(a=e.app_metadata)||void 0===a?void 0:a.provider)||"email",req_date:(new Date).toISOString(),created_at:e.created_at,updated_at:(new Date).toISOString()},{success:n,user:r}=await this.upsertUser(t);n?(this.storeUserInLocalStorage(r),console.log("New user profile created:",r)):console.error("Failed to create user profile")}}else"SIGNED_OUT"===e&&(this.clearUserFromLocalStorage(),console.log("User signed out, cleared localStorage"))},getCurrentUser(){return this.getUserFromLocalStorage()},async updateUserProfile(e,t){try{const{data:n,error:r}=await Or.from("users").update(Dr(Dr({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(r)throw r;return this.storeUserInLocalStorage(n),{success:!0,user:n}}catch(zp){return console.error("Error updating user profile:",zp),{success:!1,error:zp}}}};var Wr=n(579);const Vr=(0,i.createContext)(null),Hr=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{try{const{data:{session:e}}=await Or.auth.getSession();r(e&&e.user?e.user:null)}catch(zp){console.error("Failed to get initial session:",zp),r(null)}finally{l(!1)}})();const e=async(e,t)=>{console.log("Supabase auth event: ".concat(e),t),await Ur.handleAuthChange(e,t),r(t&&t.user?t.user:null),l(!1)};try{const{data:{subscription:t}}=Or.auth.onAuthStateChange(e);return()=>t.unsubscribe()}catch(zp){console.error("Failed to set up auth state change listener:",zp),l(!1)}},[]),(0,i.useEffect)(()=>{(async()=>{if(n)try{let r=await(t=n.id,Fr("/profile/".concat(t),{},!0));if(!r){const t={email:n.email,fullName:n.user_metadata&&n.user_metadata.full_name,avatarUrl:n.user_metadata&&n.user_metadata.avatar_url,provider:n.app_metadata&&n.app_metadata.provider||"email",gpa:null,major:null,graduationYear:null};r=await(n.id,e=t,Fr("/profile",{method:"POST",body:JSON.stringify({profileData:e})},!0))}a(r),u(!(!r||!r.gpa))}catch(zp){console.error("Error managing user profile:",zp),a(null),u(!1)}else a(null),u(!1);var e,t})()},[n]);const d={user:n,profile:s,setProfile:a,isProfileComplete:c,setIsProfileComplete:u,loading:o,getUserData:()=>Ur.getUserFromLocalStorage(),signIn:async e=>{try{return await Or.auth.signInWithPassword(e)}catch(zp){throw console.error("Sign in error:",zp),zp}},signUp:async e=>{try{return await Or.auth.signUp(Object.assign({},e,{options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}}))}catch(zp){throw console.error("Sign up error:",zp),zp}},signOut:async()=>{try{return await Or.auth.signOut()}catch(zp){throw console.error("Sign out error:",zp),zp}},signInWithGoogle:async()=>{try{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t={redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{access_type:"offline",prompt:"consent",scope:"email profile openid"}};e&&(t.queryParams.nonce=e);const{data:n,error:r}=await Or.auth.signInWithOAuth({provider:"google",options:t});if(r)throw console.error("Google OAuth error:",r),r;return{data:n,error:null}}catch(zp){return console.error("Google OAuth failed:",zp),{data:null,error:zp}}}();return t.data&&t.data.session&&null!==(e=t.data.session)&&void 0!==e&&e.provider_token&&(localStorage.setItem("google_access_token",e.provider_token),e.provider_refresh_token&&localStorage.setItem("google_refresh_token",e.provider_refresh_token),e.provider_token,e.provider_refresh_token),t}catch(zp){throw console.error("Google sign in error:",zp),zp}var e},resetPasswordForEmail:async e=>{try{return await Or.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password/confirm")})}catch(zp){throw console.error("Reset password error:",zp),zp}},signInWithOtp:async e=>{try{return await Or.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1}})}catch(zp){throw console.error("OTP sign in error:",zp),zp}},verifyOtp:async(e,t)=>{try{return await Or.auth.verifyOtp({email:e,token:t,type:"email"})}catch(zp){throw console.error("OTP verification error:",zp),zp}},updatePassword:async e=>{try{return await Or.auth.updateUser({password:e})}catch(zp){throw console.error("Update password error:",zp),zp}}};return(0,Wr.jsx)(Vr.Provider,{value:d,children:t})},$r=()=>{const e=(0,i.useContext)(Vr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},qr=()=>{const{user:e,logout:t}=(0,i.useContext)(Vr);return(0,Wr.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Wr.jsx)("div",{className:"container mx-auto px-6 py-4 flex justify-end items-center",children:e&&(0,Wr.jsxs)("div",{className:"flex items-center",children:[(0,Wr.jsxs)("span",{className:"text-gray-600 mr-4",children:["Welcome, ",e.name]}),(0,Wr.jsx)("button",{onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:"Logout"})]})})})},Kr=()=>{const e=ee();return(0,Wr.jsxs)("div",{className:"w-64 bg-white shadow-md border-r border-gray-200 flex-col hidden lg:flex",children:[(0,Wr.jsx)("div",{className:"p-6",children:(0,Wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wr.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,Wr.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,Wr.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"Scholargy"})]})}),(0,Wr.jsx)("nav",{className:"flex-1 px-4 py-2 space-y-2",children:[{name:"Dashboard",path:"/dashboard",icon:"\ue05e\u5320"},{name:"Student Profile",path:"/student-profile",icon:"\ue05e\u5074"},{name:"Scholarships",path:"/scholarships",icon:"\ue05e\u96cc"},{name:"StudentVue",path:"/studentvue",icon:"\ue05e\u8feb"},{name:"Compare Colleges",path:"/compare",icon:"\ue05e\u6295"}].map(t=>(0,Wr.jsxs)(Te,{to:t.path,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ".concat(e.pathname===t.path?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:bg-gray-100"),children:[(0,Wr.jsx)("span",{className:"text-xl",children:t.icon}),(0,Wr.jsx)("span",{children:t.name})]},t.name))})]})},Gr=e=>{let{children:t}=e;return(0,Wr.jsxs)("div",{className:"min-h-screen bg-gray-100 font-sans text-gray-800 flex",children:[(0,Wr.jsx)(Kr,{}),(0,Wr.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Wr.jsx)(qr,{}),(0,Wr.jsx)("main",{className:"flex-1 p-6 lg:p-8",children:t})]})]})};class Yr extends i.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Wr.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,Wr.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),(0,Wr.jsx)("p",{className:"text-gray-600 mb-4",children:"The application encountered an error and couldn't load properly."}),(0,Wr.jsxs)("div",{className:"space-y-2",children:[(0,Wr.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 mr-2",children:"Refresh Page"}),(0,Wr.jsx)("button",{onClick:()=>window.location.href="/login",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Go to Login"})]}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"If the problem persists, please check your browser console for more details."})]})}):this.props.children}}const Jr=Yr,Qr=e=>{let{closed:t}=e;return(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-500",children:t?(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"}):(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"})})},Xr=()=>{const{signIn:e,signUp:t,signInWithGoogle:n,signInWithOtp:r,verifyOtp:s}=$r(),a=ne(),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)("signin"),[g,m]=(0,i.useState)(!1),[v,b]=(0,i.useState)(""),[y,x]=(0,i.useState)(""),[w,_]=(0,i.useState)(!1);(0,i.useEffect)(()=>(window.handleSignInWithGoogle=async e=>{x(""),_(!0);try{const{error:t}=await(async e=>{try{const{data:t,error:n}=await Or.auth.signInWithIdToken({provider:"google",token:e.credential});if(n)throw console.error("Google sign-in error:",n),n;return{data:t,error:null}}catch(t){return console.error("Google sign-in failed:",t),{data:null,error:t}}})(e);if(t)throw t;console.log("Google sign-in successful")}catch(t){x(t.message||"Failed to sign in with Google."),_(!1)}},()=>{delete window.handleSignInWithGoogle}),[]);return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-4xl font-extrabold text-blue-600 mb-2",children:"Scholargy"}),(0,Wr.jsxs)("p",{className:"text-gray-500 mb-8",children:["signin"===f&&"Sign in to your account","signup"===f&&"Create your account","otp"===f&&"Sign in with a one-time code"]}),(0,Wr.jsx)("div",{id:"g_id_onload","data-client_id":{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_CLIENT_ID,"data-context":"signin","data-ux_mode":"popup","data-callback":"handleSignInWithGoogle","data-auto_select":"true","data-itp_support":"true","data-use_fedcm_for_prompt":"true"}),(0,Wr.jsx)("div",{className:"g_id_signin w-full","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left"}),(0,Wr.jsxs)("button",{onClick:async()=>{x(""),_(!0);try{const{data:e,error:t}=await n();if(t)throw t;null!==e&&void 0!==e&&e.url&&(window.location.href=e.url)}catch(e){x(e.message||"Failed to sign in with Google."),_(!1)}},disabled:w,className:"w-full bg-white border border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center justify-center disabled:opacity-50 mt-2",children:[(0,Wr.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[(0,Wr.jsx)("path",{fill:"#4285F4",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),(0,Wr.jsx)("path",{fill:"#34A853",d:"m6.306 14.691 6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"}),(0,Wr.jsx)("path",{fill:"#FBBC05",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),(0,Wr.jsx)("path",{fill:"#EA4335",d:"M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.087 5.571l6.19 5.238C42.012 35.245 44 30.035 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google (Fallback)"]}),(0,Wr.jsxs)("div",{className:"my-6 flex items-center",children:[(0,Wr.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,Wr.jsx)("span",{className:"flex-shrink mx-4 text-gray-400 text-xs",children:"OR"}),(0,Wr.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,Wr.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),x(""),b(""),"otp"===f||(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?!("otp"!==f&&c.length<6)||(x("Password must be at least 6 characters long."),0):(x("Please enter a valid email address."),0))){_(!0);try{let n;if("signup"===f){if(n=await t({email:o,password:c}),n.error)throw n.error;b("Check your email for a confirmation link to complete registration.")}else if("signin"===f){if(n=await e({email:o,password:c}),n.error)throw n.error}else if("otp"===f)if(d){if(n=await s(o,d),n.error)throw n.error}else{if(n=await r(o),n.error)throw n.error;b("A one-time code has been sent to your email.")}}catch(i){x(i.message||"An unexpected error occurred.")}finally{_(!1)}}},className:"space-y-4",children:[(0,Wr.jsx)("input",{type:"email",placeholder:"Email",value:o,onChange:e=>l(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:"otp"===f&&!!v}),"otp"===f&&v&&(0,Wr.jsx)("input",{type:"text",placeholder:"One-time code",value:d,onChange:e=>h(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),"otp"!==f&&(0,Wr.jsxs)("div",{className:"relative",children:[(0,Wr.jsx)("input",{type:g?"text":"password",placeholder:"Password",value:c,onChange:e=>u(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0}),(0,Wr.jsx)("button",{type:"button",onClick:()=>m(!g),className:"absolute inset-y-0 right-0 px-3 flex items-center",children:(0,Wr.jsx)(Qr,{closed:!g})})]}),y&&(0,Wr.jsx)("p",{className:"text-red-500 text-sm text-left",children:y}),v&&(0,Wr.jsx)("p",{className:"text-green-500 text-sm text-left",children:v}),(0,Wr.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:w?"Processing...":"signin"===f?"Sign In":"signup"===f?"Sign Up":d?"Verify & Sign In":"Send Code"})]}),(0,Wr.jsxs)("div",{className:"mt-6 text-sm flex justify-between",children:[(0,Wr.jsx)("button",{onClick:()=>{p("signup"===f?"signin":"signup"),b(""),x("")},className:"font-medium text-blue-600 hover:text-blue-500",children:"signup"===f?"Have an account? Sign In":"Don't have an account?"}),(0,Wr.jsx)("button",{onClick:()=>{p("otp"===f?"signin":"otp"),b(""),x("")},className:"font-medium text-blue-600 hover:text-blue-500",children:"otp"===f?"Use Password":"Use one-time code"})]}),(0,Wr.jsx)("div",{className:"mt-4 text-sm",children:(0,Wr.jsx)("button",{onClick:()=>a("/reset-password"),className:"font-medium text-gray-500 hover:text-gray-700",children:"Forgot your password?"})})]})})})};function Zr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const ei=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ti=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var ni={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ri=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ii=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c}=e,u=Zr(e,ri);return(0,i.createElement)("svg",Dr(Dr(Dr({ref:t},ni),{},{width:r,height:r,stroke:n,strokeWidth:a?24*Number(s)/Number(r):s,className:ti("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),si=["className"],ai=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{className:s}=n,a=Zr(n,si);return(0,i.createElement)(ii,Dr({ref:r,iconNode:t,className:ti("lucide-".concat((o=ei(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},a));var o});return n.displayName=ei(e),n},oi=ai("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),li=ai("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ci=ai("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ui=ai("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),di=ai("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),hi=ai("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fi=ai("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);async function pi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n;if(!e)return console.warn("No userId provided to getDashboardData"),_i(t);console.log("Fetching dashboard data for userId:",e);const[r,i,s,a]=await Promise.allSettled([gi(e,t),mi(e),vi(e,t),bi(e,t)]),o="fulfilled"===r.status?r.value:t,l="fulfilled"===i.status?i.value:[],c="fulfilled"===s.status?s.value:{totalEligibleAmount:0,opportunities:[]},u="fulfilled"===a.status?a.value:"";console.log("Dashboard data fetched:",{hasProfile:!!o,collegeCount:l.length,scholarshipCount:(null===(n=c.opportunities)||void 0===n?void 0:n.length)||0,hasCareerInsights:!!u});const d=await async function(e,t,n){try{const r=await fetch("/api/dashboard/next-steps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentProfile:e,collegeMatches:t,scholarships:n.opportunities||[],userId:null===e||void 0===e?void 0:e.userId})});if(r.ok){const n=await r.json();return{actionPlan:n.nextSteps||[],probabilities:xi(e,t),context:n.context||{}}}}catch(zp){console.warn("Failed to generate AI insights:",zp)}return{actionPlan:wi(e,n),probabilities:xi(e,t),context:{}}}(o,l,c);return{studentProfile:o,topColleges:l,scholarships:c,careerInsights:u,actionPlan:d.actionPlan,admissionProbabilities:d.probabilities,userStats:yi(o),context:d.context}}catch(zp){return console.error("Error fetching dashboard data:",zp),_i(t)}}async function gi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return t;try{console.log("Fetching student profile for userId:",e);const t=await fetch("/api/profile/".concat(e));if(t.ok){const e=await t.json();return console.log("Student profile fetched:",e),e.profile||e}console.warn("Failed to fetch student profile:",t.status,t.statusText)}catch(zp){console.warn("Failed to fetch student profile:",zp)}return null}async function mi(e){try{console.log("Fetching college matches for userId:",e);const n=await fetch("/api/dashboard/top-matches?userId=".concat(e));if(n.ok){var t;const e=await n.json();return console.log("College matches fetched:",(null===(t=e.results)||void 0===t?void 0:t.length)||0,"matches"),e.results||[]}console.warn("Failed to fetch college matches:",n.status,n.statusText)}catch(zp){console.warn("Failed to fetch college matches:",zp)}return[]}async function vi(e){try{const t=await fetch("/api/dashboard/scholarship-stats?userId=".concat(e));if(t.ok){const e=await t.json();return{totalEligibleAmount:e.totalEligibleAmount||0,opportunities:e.opportunities||[]}}}catch(zp){console.warn("Failed to fetch scholarships:",zp)}return{totalEligibleAmount:0,opportunities:[]}}async function bi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return"";try{const e=await fetch("/api/rag/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"What career insights and recommendations can you provide for this student?",context:{studentProfile:t}})});if(e.ok){return(await e.json()).text||""}}catch(zp){console.warn("Failed to fetch career insights:",zp)}return""}function yi(e){if(!e)return{profileScore:0,recommendationLevel:"Incomplete",completionPercentage:0,strengths:[],areasForImprovement:[],gpaPercentile:0,satPercentile:0};const t=["gpa","satScore","gradeLevel","extracurriculars","career_goals"],n=t.filter(t=>{const n=e[t];return n&&""!==n.toString().trim()&&"N/A"!==n}),r=Math.round(n.length/t.length*100);let i=0;if(e.gpa){const t=parseFloat(e.gpa);i+=t>=4?30:t>=3.8?25:t>=3.5?20:t>=3?15:t>=2.5?10:5}if(e.satScore){const t=parseInt(e.satScore);i+=t>=1500?30:t>=1400?25:t>=1300?20:t>=1200?15:t>=1100?10:5}if(e.extracurriculars){const t=e.extracurriculars.split(",").length;i+=Math.min(2*t,20)}e.career_goals&&(i+=20);let s="Incomplete";i>=80?s="Excellent":i>=60?s="Good":i>=40?s="Fair":i>=20&&(s="Needs Improvement");const a=e.gpa?Math.min(Math.round(parseFloat(e.gpa)/4*100),100):0,o=e.satScore?Math.min(Math.round(parseInt(e.satScore)/1600*100),100):0,l=[],c=[];return e.gpa&&parseFloat(e.gpa)>=3.5?l.push("Strong Academic Performance"):c.push("Improve GPA"),e.satScore&&parseInt(e.satScore)>=1300?l.push("High Test Scores"):c.push("Consider SAT/ACT Prep"),e.extracurriculars?l.push("Active in Extracurriculars"):c.push("Add Extracurricular Activities"),e.career_goals?l.push("Clear Career Goals"):c.push("Define Career Goals"),{profileScore:i,recommendationLevel:s,completionPercentage:r,strengths:l,areasForImprovement:c,gpaPercentile:a,satPercentile:o}}function xi(e,t){if(!e||!t||0===t.length)return{};const n={};return t.forEach(t=>{let r=50;if(e.gpa&&t.avgGPA){r+=10*(parseFloat(e.gpa)-t.avgGPA)}else if(e.gpa&&t.admission_rate){const n=parseFloat(e.gpa),i=100*t.admission_rate;r+=n>=4?30:n>=3.8?25:n>=3.5?20:n>=3?15:n>=2.5?10:5,i<10?r-=20:i<25?r-=10:i>80&&(r+=10)}if(e.satScore&&t.avgSAT){r+=(parseInt(e.satScore)-t.avgSAT)/20}else if(e.satScore&&t.sat_scores){const n=parseInt(e.satScore),i=t.sat_scores.average||1200;n>=i+200?r+=20:n>=i+100?r+=15:n>=i?r+=10:n>=i-100?r+=5:r-=10}if(e.extracurriculars){const t=e.extracurriculars.split(",").length;r+=Math.min(2*t,10)}if(e.career_goals&&t.popular_majors){const n=e.career_goals.toLowerCase();t.popular_majors.map(e=>e.toLowerCase()).some(e=>n.includes(e)||e.includes(n))&&(r+=10)}const i=Math.min(Math.max(Math.round(r),5),95);let s="target";s=i>=70?"safety":i>=40?"target":"reach",n[t.unitid||t._id]={probability:i,likelihood:s,factors:{gpa:e.gpa?parseFloat(e.gpa):null,sat:e.satScore?parseInt(e.satScore):null,extracurriculars:e.extracurriculars?e.extracurriculars.split(",").length:0,careerGoals:!!e.career_goals}}}),n}function wi(e,t){const n=[];if(e&&e.gpa?n.push({task:"Complete your college applications early. With your ".concat(e.gpa," GPA, focus on schools where you're a strong candidate."),priority:"high",dueDate:"ASAP"}):n.push({task:"Complete your college applications early to meet deadlines and maximize your chances of admission.",priority:"high",dueDate:"ASAP"}),t&&t.opportunities&&t.opportunities.length>0){const e=t.totalEligibleAmount;n.push({task:"Apply for scholarships immediately. You have access to $".concat(e.toLocaleString()," in potential funding with ").concat(t.opportunities.length," opportunities."),priority:"high",dueDate:"ASAP"})}else n.push({task:"Research and apply for scholarships that match your academic profile and career goals.",priority:"medium",dueDate:"This week"});return!e||e.satScore&&"N/A"!==e.satScore?n.push({task:"Continue building your extracurricular activities and leadership experience to strengthen your applications.",priority:"medium",dueDate:"Ongoing"}):n.push({task:"Register for and prepare for the SAT/ACT to strengthen your college applications.",priority:"medium",dueDate:"Next month"}),n}function _i(e){return{studentProfile:e,topColleges:[],scholarships:{totalEligibleAmount:0,opportunities:[]},careerInsights:"",actionPlan:wi(e,{totalEligibleAmount:0,opportunities:[]}),admissionProbabilities:{},userStats:yi(e),context:{}}}function Si(e){return!e||isNaN(e)?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function ki(e){if(!e)return null;const t=new Date(e),n=new Date,r=t.getTime()-n.getTime();return Math.ceil(r/864e5)}function ji(e){return e<=7?"text-red-600 bg-red-100":e<=30?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100"}function Ci(e){let{profile:t,stats:n}=e;return t&&n?(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(li,{className:"h-6 w-6 text-purple-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Where am I now?"})]}),(0,Wr.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Wr.jsxs)("div",{className:"flex items-center",children:[(0,Wr.jsx)(ci,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Wr.jsx)("span",{className:"font-semibold text-gray-800",children:"Profile Score"})]}),(0,Wr.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[n.profileScore,"/100"]})]}),(0,Wr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Wr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-1000",style:{width:"".concat(n.profileScore,"%")}})}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:n.recommendationLevel})]}),(0,Wr.jsxs)("div",{className:"flex items-center",children:[(0,Wr.jsx)("div",{className:"bg-blue-100 p-2 rounded-md mr-3",children:(0,Wr.jsx)(ui,{className:"h-5 w-5 text-blue-600"})}),(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsxs)("p",{className:"font-semibold text-gray-800",children:["GPA: ",t.gpa||"N/A"]}),n.gpaPercentile>0&&(0,Wr.jsxs)("p",{className:"text-sm text-gray-600",children:[n.gpaPercentile,"th percentile"]})]})]}),(0,Wr.jsxs)("div",{className:"flex items-center",children:[(0,Wr.jsx)("div",{className:"bg-green-100 p-2 rounded-md mr-3",children:(0,Wr.jsx)(di,{className:"h-5 w-5 text-green-600"})}),(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsxs)("p",{className:"font-semibold text-gray-800",children:["SAT: ",t.satScore||"N/A"]}),n.satPercentile>0&&(0,Wr.jsxs)("p",{className:"text-sm text-gray-600",children:[n.satPercentile,"th percentile"]})]})]}),(0,Wr.jsxs)("div",{className:"flex items-start",children:[(0,Wr.jsx)("div",{className:"bg-orange-100 p-2 rounded-md mr-3 mt-1",children:(0,Wr.jsx)(hi,{className:"h-5 w-5 text-orange-600"})}),(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsx)("p",{className:"font-semibold text-gray-800",children:"Career Goal"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:t.career_goals||"Not specified"})]})]}),(0,Wr.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Wr.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Profile Completeness"}),(0,Wr.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[n.completionPercentage,"%"]})]}),(0,Wr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Wr.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-1000",style:{width:"".concat(n.completionPercentage,"%")}})}),(()=>{const e=function(e){if(!e)return{level:"Incomplete",color:"text-red-600",bgColor:"bg-red-100",icon:"!"};const t=yi(e),n=t.completionPercentage;return n>=80&&t.profileScore>=70?{level:"On Track",color:"text-green-600",bgColor:"bg-green-100",icon:"\u2713"}:n>=60&&t.profileScore>=50?{level:"Getting There",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:"\u26a0"}:{level:"Needs Action",color:"text-red-600",bgColor:"bg-red-100",icon:"!"}}(t);return(0,Wr.jsx)("div",{className:"mt-2 p-2 rounded-lg ".concat(e.bgColor),children:(0,Wr.jsx)("div",{className:"flex items-center justify-between",children:(0,Wr.jsxs)("span",{className:"text-sm font-medium ".concat(e.color),children:[e.icon," ",e.level]})})})})()]}),n.strengths.length>0&&(0,Wr.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,Wr.jsxs)("h4",{className:"font-semibold text-green-800 mb-2 flex items-center",children:[(0,Wr.jsx)(fi,{className:"h-4 w-4 mr-1"}),"Your Strengths"]}),(0,Wr.jsx)("ul",{className:"text-sm text-green-700 space-y-1",children:n.strengths.map((e,t)=>(0,Wr.jsxs)("li",{className:"flex items-center",children:[(0,Wr.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"}),e]},t))})]})]})]}):(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(li,{className:"h-6 w-6 text-purple-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Profile"})]}),(0,Wr.jsx)("div",{className:"text-center text-gray-500 py-8",children:(0,Wr.jsx)("p",{children:"No profile data available"})})]})}const Ei=ai("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Pi=ai("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ni=ai("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ti=e=>{let{likelihood:t}=e;return(0,Wr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold border ".concat((()=>{switch(t){case"safety":return"bg-green-100 text-green-800 border-green-200";case"target":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"reach":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})()),children:(()=>{switch(t){case"safety":return"Safety";case"target":return"Target";case"reach":return"Reach";default:return"Unknown"}})()})};function Ai(e){let{matches:t,probabilities:n,onViewAll:r}=e;return t&&0!==t.length?(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Ei,{className:"h-6 w-6 text-indigo-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Top College Matches"})]}),(0,Wr.jsx)("div",{className:"space-y-4 flex-grow",children:t.slice(0,3).map((e,t)=>{var r,i;const s=n[e.unitid||e._id],a=(null===(r=e.general_info)||void 0===r?void 0:r.name)||e.name||"Unknown College",o=e.general_info?"".concat(e.general_info.city,", ").concat(e.general_info.state):e.location||"Location not specified",l=e.netCost||(null===(i=e.cost_and_aid)||void 0===i?void 0:i.tuition_in_state)||"N/A";return(0,Wr.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 transition-colors border border-gray-100",children:[(0,Wr.jsx)("div",{className:"flex-shrink-0",children:(0,Wr.jsx)("div",{className:"h-12 w-12 bg-indigo-600 text-white rounded-full flex items-center justify-center text-lg font-bold",children:a.charAt(0).toUpperCase()})}),(0,Wr.jsx)("div",{className:"flex-grow min-w-0",children:(0,Wr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Wr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Wr.jsx)("p",{className:"font-semibold text-gray-800 truncate",children:a}),(0,Wr.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,Wr.jsx)(Pi,{className:"h-3 w-3 mr-1"}),(0,Wr.jsx)("span",{className:"truncate",children:o})]}),(0,Wr.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,Wr.jsx)(Ni,{className:"h-3 w-3 mr-1"}),(0,Wr.jsxs)("span",{children:["Est. Net Cost: $","number"===typeof l?l.toLocaleString():l,"/yr"]})]})]}),(0,Wr.jsx)("div",{className:"flex flex-col items-end ml-2",children:s&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsxs)("p",{className:"text-sm font-semibold text-gray-600",children:[s.probability,"%"]}),(0,Wr.jsx)(Ti,{likelihood:s.likelihood})]})})]})})]},t)})}),(0,Wr.jsx)("div",{className:"mt-6 text-center",children:(0,Wr.jsx)("button",{onClick:r,className:"w-full bg-indigo-600 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-indigo-700 transition-colors transform hover:scale-105",children:"View All Matches"})})]}):(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Ei,{className:"h-6 w-6 text-indigo-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Top College Matches"})]}),(0,Wr.jsxs)("div",{className:"text-center text-gray-500 py-8 flex-grow",children:[(0,Wr.jsx)("p",{children:"No college matches yet"}),(0,Wr.jsx)("p",{className:"text-sm mt-2",children:"Complete your profile to get personalized matches"})]})]})}const Oi=ai("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Mi=ai("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ri=ai("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function Li(e){let{scholarships:t,onViewAll:n}=e;const{totalEligibleAmount:r=0,opportunities:i=[]}=t||{};return(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Oi,{className:"h-6 w-6 text-green-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Scholarships"})]}),(0,Wr.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg text-center",children:[(0,Wr.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:Si(r)}),(0,Wr.jsx)("div",{className:"text-sm text-gray-600",children:"Total Eligible Amount"}),i.length>0&&(0,Wr.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[i.length," opportunities available"]})]}),i.length>0?(0,Wr.jsxs)("div",{className:"space-y-3",children:[(0,Wr.jsxs)("h4",{className:"font-semibold text-gray-700 flex items-center",children:[(0,Wr.jsx)(Mi,{className:"h-4 w-4 mr-2"}),"Next Deadlines"]}),i.slice(0,3).map((e,t)=>{const n=ki(e.deadline);return(0,Wr.jsx)("div",{className:"border-l-4 border-red-500 pl-3 transform transition-all duration-200 hover:scale-105",children:(0,Wr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Wr.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,Wr.jsx)("p",{className:"font-medium text-sm text-gray-800 truncate",children:e.title||"Scholarship Opportunity"}),(0,Wr.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,Wr.jsx)(Ni,{className:"h-3 w-3 mr-1"}),(0,Wr.jsx)("span",{children:Si(e.amount||0)})]})]}),null!==n&&(0,Wr.jsx)("div",{className:"flex-shrink-0 ml-2",children:(0,Wr.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat(ji(n)),children:[n," days"]})})]})},t)})]}):(0,Wr.jsxs)("div",{className:"text-center text-gray-500 py-4",children:[(0,Wr.jsx)(Ri,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,Wr.jsx)("p",{className:"text-sm",children:"No scholarship opportunities found"}),(0,Wr.jsx)("p",{className:"text-xs mt-1",children:"Complete your profile to see matches"})]})]}),(0,Wr.jsx)("div",{className:"mt-6 text-center",children:(0,Wr.jsx)("button",{onClick:n,className:"w-full bg-green-600 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-green-700 transition-colors transform hover:scale-105",children:"View All Scholarships"})})]})}const Ii=ai("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);function Di(e){let{careerData:t,profile:n}=e;return(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Wr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg mr-4",children:(0,Wr.jsx)(Ii,{className:"h-6 w-6 text-blue-600"})}),(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Career Snapshot"})]}),(0,Wr.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(hi,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Your Goal"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:(null===n||void 0===n?void 0:n.career_goals)||"Not specified"})]}),t&&(0,Wr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(fi,{className:"h-5 w-5 text-green-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Career Insights"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:t})]}),(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(Ei,{className:"h-5 w-5 text-purple-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Education Path"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:"Bachelor's Degree"}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended for your career goals"})]}),(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(fi,{className:"h-5 w-5 text-green-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Salary Outlook"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:"Varies by field and experience"}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Complete career forecast for detailed insights"})]}),(0,Wr.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wr.jsx)(hi,{className:"h-5 w-5 text-orange-600 mr-2"}),(0,Wr.jsx)("h3",{className:"font-semibold text-gray-800",children:"Skills Focus"})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-700",children:"Technical and soft skills development"}),(0,Wr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Based on your academic profile"})]})]}),(0,Wr.jsx)("div",{className:"mt-6 text-center",children:(0,Wr.jsx)("button",{onClick:()=>window.location.href="/forecaster",className:"w-full bg-blue-600 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-blue-700 transition-colors transform hover:scale-105",children:"View Career Forecast"})})]})}const zi=ai("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Fi=ai("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Bi=ai("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function Ui(e){let{items:t}=e;return t&&0!==t.length?(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Action Plan"}),(0,Wr.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,Wr.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[(0,Wr.jsxs)("div",{className:"flex items-center gap-3 flex-grow",children:[(0,Wr.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ".concat(e.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-blue-400"),children:e.completed&&(0,Wr.jsx)(zi,{className:"w-4 h-4"})}),(0,Wr.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,Wr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Wr.jsx)("span",{className:"font-medium text-gray-800 truncate",children:e.text||e.task||"Action ".concat(t+1)}),"high"===e.priority&&(0,Wr.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs font-semibold rounded-full",children:"High Priority"})]}),(0,Wr.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Wr.jsx)(Mi,{className:"h-3 w-3 mr-1"}),(0,Wr.jsxs)("span",{children:["Due: ",e.dueDate||"ASAP"]})]})]})]}),(0,Wr.jsxs)("button",{onClick:e.action||(()=>{}),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm transform hover:scale-105 flex items-center gap-1 ml-4",children:[(0,Wr.jsx)("span",{children:"Start"}),(0,Wr.jsx)(Fi,{className:"h-3 w-3"})]})]},t))}),(0,Wr.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,Wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wr.jsx)(Bi,{className:"h-5 w-5 text-blue-600"}),(0,Wr.jsx)("span",{className:"font-semibold text-gray-800",children:"Action Summary"})]}),(0,Wr.jsxs)("div",{className:"text-sm text-gray-600",children:[t.filter(e=>!e.completed).length," items remaining"]})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Complete these actions to improve your college and scholarship prospects."})]})]}):(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Action Plan"}),(0,Wr.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,Wr.jsx)("p",{children:"No action items available"}),(0,Wr.jsx)("p",{className:"text-sm mt-2",children:"Complete your profile to get personalized recommendations"})]})]})}const Wi=ai("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Vi(e){let{isOpen:t,onClose:n,title:r,children:i}=e;return t?(0,Wr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Wr.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[(0,Wr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:r}),(0,Wr.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 hover:bg-gray-100 rounded-full transition-colors",children:(0,Wr.jsx)(Wi,{className:"h-6 w-6"})})]})}),(0,Wr.jsx)("div",{className:"p-6",children:i})]})}):null}function Hi(){const e=ne(),{user:t,profile:n}=$r(),[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),p=(0,i.useMemo)(()=>function(){const e=(new Date).getHours();return e<12?"Good morning":e<17?"Good afternoon":"Good evening"}(),[]);if((0,i.useEffect)(()=>{null!==t&&void 0!==t&&t.id?(async()=>{o(!0),c(null);try{console.log("Starting dashboard data fetch for user:",null===t||void 0===t?void 0:t.id);const e=await pi(null===t||void 0===t?void 0:t.id,n);console.log("Dashboard data received:",e),s(e),e.context&&console.log("Dashboard Context:",e.context)}catch(e){console.error("Dashboard fetch error:",e),c(e.message)}finally{o(!1)}})():(console.log("No user ID available, skipping dashboard fetch"),o(!1))},[null===t||void 0===t?void 0:t.id,n]),a)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)(oi,{className:"w-12 h-12 text-indigo-600 animate-spin mx-auto"}),(0,Wr.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Loading your personalized dashboard..."}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Fetching data from CosmosDB and generating AI insights"})]})});if(l)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsxs)("p",{className:"text-red-500 text-lg",children:["Error: ",l]}),(0,Wr.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Try Again"})]})});if(!t)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("p",{className:"text-gray-600 text-lg",children:"Please log in to view your dashboard."}),(0,Wr.jsx)("button",{onClick:()=>e("/login"),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Log In"})]})});if(!r)return(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("p",{className:"text-gray-600 text-lg",children:"Unable to load dashboard data."}),(0,Wr.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Retry"})]})});const{studentProfile:g,topColleges:m,scholarships:v,careerInsights:b,actionPlan:y,admissionProbabilities:x,userStats:w,context:_}=r;return g?(0,Wr.jsxs)("div",{className:"bg-gray-50 min-h-screen font-sans",children:[(0,Wr.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[(0,Wr.jsxs)("div",{className:"mb-8",children:[(0,Wr.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[p,", ",g.fullName||g.first_name||"Student","!"]}),(0,Wr.jsx)("p",{className:"text-gray-600",children:"Here's your personalized dashboard with AI-powered insights and recommendations."}),_.applicationSeason&&(0,Wr.jsxs)("p",{className:"text-sm text-indigo-600 mt-1",children:["\ud83d\udcc5 ",_.applicationSeason," Application Season"]})]}),_&&(_.scholarshipCount>0||_.collegeCount>0)&&(0,Wr.jsx)("div",{className:"mb-6 p-4 bg-white rounded-xl shadow-sm border border-gray-200",children:(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:_.collegeCount||0}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:"College Matches"})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:_.scholarshipCount||0}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:"Scholarship Opportunities"})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:Si(_.totalScholarshipAmount||0)}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Eligible Funding"})]})]})}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[(0,Wr.jsx)(Ci,{profile:g,stats:w}),(0,Wr.jsx)(Ai,{matches:m,probabilities:x,onViewAll:()=>d(!0)}),(0,Wr.jsx)(Li,{scholarships:v,onViewAll:()=>f(!0)}),(0,Wr.jsx)(Di,{careerData:b,profile:g})]}),(0,Wr.jsx)(Ui,{items:y})]}),(0,Wr.jsx)(Vi,{isOpen:u,onClose:()=>d(!1),title:"All College Matches",children:(0,Wr.jsx)("div",{className:"space-y-4",children:m.length>0?m.map((e,t)=>{var n,r;const i=x[e.unitid||e._id],s=(null===(n=e.general_info)||void 0===n?void 0:n.name)||e.name||"Unknown College",a=e.general_info?"".concat(e.general_info.city,", ").concat(e.general_info.state):e.location||"Location not specified",o=e.netCost||(null===(r=e.cost_and_aid)||void 0===r?void 0:r.tuition_in_state)||"N/A";return(0,Wr.jsxs)("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Wr.jsx)("div",{className:"h-12 w-12 bg-indigo-600 text-white rounded-full flex items-center justify-center text-lg font-bold flex-shrink-0",children:s.charAt(0).toUpperCase()}),(0,Wr.jsx)("div",{className:"flex-grow",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"font-bold text-lg text-gray-800",children:s}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:a}),(0,Wr.jsxs)("p",{className:"text-sm text-gray-600",children:["Est. Net Cost: ","number"===typeof o?Si(o):o,"/yr"]}),e.admission_rate&&(0,Wr.jsxs)("p",{className:"text-xs text-gray-500",children:["Admission Rate: ",(100*e.admission_rate).toFixed(1),"%"]})]}),(0,Wr.jsx)("div",{className:"text-right",children:i&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsxs)("p",{className:"text-lg font-semibold text-gray-600",children:[i.probability,"%"]}),(0,Wr.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("safety"===i.likelihood?"bg-green-100 text-green-600":"target"===i.likelihood?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"),children:i.likelihood})]})})]})})]},t)}):(0,Wr.jsxs)("div",{className:"text-center py-8",children:[(0,Wr.jsx)("p",{className:"text-gray-500 mb-4",children:"No college matches yet"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Complete your profile to get personalized college recommendations"}),(0,Wr.jsx)("button",{onClick:()=>e("/matching"),className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Find Matches"})]})})}),(0,Wr.jsx)(Vi,{isOpen:h,onClose:()=>f(!1),title:"All Scholarship Opportunities",children:(0,Wr.jsx)("div",{className:"space-y-4",children:v.opportunities&&v.opportunities.length>0?v.opportunities.map((e,t)=>{const n=ki(e.deadline);return(0,Wr.jsx)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsxs)("div",{className:"flex-grow",children:[(0,Wr.jsx)("p",{className:"font-bold text-lg text-gray-800",children:e.title||"Scholarship Opportunity"}),(0,Wr.jsx)("p",{className:"text-green-600 font-semibold",children:Si(e.amount||0)}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.description||"No description available"}),e.category&&(0,Wr.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full mt-2",children:e.category})]}),(0,Wr.jsx)("div",{className:"text-right ml-4",children:null!==n&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsx)("p",{className:"font-semibold",children:"Deadline"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.deadline).toLocaleDateString()}),(0,Wr.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-semibold mt-1 inline-block ".concat(ji(n)),children:[n," days left"]})]})})]})},t)}):(0,Wr.jsxs)("div",{className:"text-center py-8",children:[(0,Wr.jsx)("p",{className:"text-gray-500 mb-4",children:"No scholarship opportunities found"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Complete your profile to see personalized scholarship matches"}),(0,Wr.jsx)("button",{onClick:()=>e("/scholarships"),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Browse All Scholarships"})]})})})]}):(0,Wr.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("p",{className:"text-gray-600 text-lg",children:"No profile data found."}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Complete your profile to get personalized insights"}),(0,Wr.jsx)("button",{onClick:()=>e("/student-profile"),className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Complete Your Profile"})]})})}const $i=e=>{let{label:t,type:n="text",name:r,value:i,onChange:s,placeholder:a,error:o,readOnly:l=!1}=e;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,Wr.jsx)("input",{type:n,name:r,value:i,onChange:s,placeholder:a,readOnly:l,className:"w-full p-3 bg-gray-100 border rounded-lg focus:outline-none focus:ring-2 ".concat(o?"border-red-500 ring-red-500":"border-gray-200 focus:ring-blue-500"," ").concat(l?"cursor-not-allowed bg-gray-200":"")}),o&&(0,Wr.jsx)("p",{className:"text-xs text-red-600 mt-1",children:o})]})},qi=e=>{let{label:t,name:n,value:r,onChange:i,placeholder:s,rows:a=3}=e;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,Wr.jsx)("textarea",{name:n,value:r,onChange:i,placeholder:s,rows:a,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})},Ki=()=>{const[e,t]=(0,i.useState)({gradeLevel:"12",gpa:"3.8",satScore:"1450",actScore:"",apClasses:"AP Biology, AP Calculus AB, AP US History",extracurriculars:"Debate Club president, Varsity Soccer, Robotics Team"}),[n,r]=(0,i.useState)({}),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{a((()=>{if(!e.gradeLevel)return"";const t=(new Date).getFullYear(),n=(new Date).getMonth(),r=12-parseInt(e.gradeLevel,10);return"May ".concat(t+r+(n>4?1:0))})())},[e.gradeLevel]);const d=e=>{const{name:r,value:i}=e.target;t(e=>Dr(Dr({},e),{},{[r]:i})),n[r]&&h(r,i)},h=(e,t)=>{let n="";return"gpa"===e&&t&&(t<0||t>4)&&(n="GPA must be between 0.0 and 4.0."),"satScore"===e&&t&&(t<400||t>1600)&&(n="SAT score must be between 400 and 1600."),"actScore"===e&&t&&(t<1||t>36)&&(n="ACT score must be between 1 and 36."),r(t=>Dr(Dr({},t),{},{[e]:n})),!n};return(0,Wr.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Snapshot Readiness Assessment"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Enter your profile details to get an AI-powered analysis."})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Wr.jsxs)("div",{className:"space-y-6",children:[(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83c\udf93 Academic Basics"}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade Level"}),(0,Wr.jsxs)("select",{name:"gradeLevel",value:e.gradeLevel,onChange:d,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-lg",children:[(0,Wr.jsx)("option",{value:"9",children:"9th Grade"}),(0,Wr.jsx)("option",{value:"10",children:"10th Grade"}),(0,Wr.jsx)("option",{value:"11",children:"11th Grade"}),(0,Wr.jsx)("option",{value:"12",children:"12th Grade"})]})]}),(0,Wr.jsx)($i,{label:"Expected Graduation",name:"gradDate",value:s,readOnly:!0}),(0,Wr.jsx)($i,{label:"Cumulative GPA",type:"number",name:"gpa",value:e.gpa,onChange:d,placeholder:"e.g., 3.85",error:n.gpa}),(0,Wr.jsx)($i,{label:"SAT Score",type:"number",name:"satScore",value:e.satScore,onChange:d,placeholder:"e.g., 1450",error:n.satScore}),(0,Wr.jsx)($i,{label:"ACT Score",type:"number",name:"actScore",value:e.actScore,onChange:d,placeholder:"e.g., 32",error:n.actScore})]})]}),(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83c\udfc6 Activities & Coursework"}),(0,Wr.jsx)(qi,{label:"AP Classes",name:"apClasses",value:e.apClasses,onChange:d,placeholder:"e.g., AP Biology, AP Calculus AB"}),(0,Wr.jsx)("div",{className:"mt-4"}),(0,Wr.jsx)(qi,{label:"Extracurriculars & Leadership",name:"extracurriculars",value:e.extracurriculars,onChange:d,placeholder:"e.g., Debate Club President, Varsity Soccer"})]}),(0,Wr.jsx)("button",{onClick:async()=>{if(!["gpa","satScore","actScore"].every(t=>h(t,e[t])))return void alert("Please fix the errors before assessing.");u(!0),l("");const t=await(n=e,Fr("/profile/".concat(n,"/assessment"),{},!0));var n;l(t.assessmentText),u(!1)},disabled:c,className:"w-full bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 transition-all disabled:bg-gray-400",children:c?"Assessing...":"Assess My Readiness"})]}),(0,Wr.jsx)("div",{className:"space-y-6",children:(c||o)&&(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"AI Readiness Assessment"}),c?(0,Wr.jsx)("p",{className:"text-gray-500 animate-pulse",children:"Generating your assessment..."}):(0,Wr.jsx)("div",{className:"prose prose-sm max-w-none text-gray-700 whitespace-pre-wrap",children:o}),!c&&o&&(0,Wr.jsx)("div",{className:"flex justify-end mt-4",children:(0,Wr.jsx)("button",{onClick:()=>alert("This would generate and download a PDF report."),className:"bg-green-600 text-white font-semibold py-2 px-4 rounded-lg text-sm hover:bg-green-700",children:"Download Report"})})]})})]})]})},Gi=()=>{const e=ne(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)({minAmount:"",maxDeadline:"",sortBy:"deadline_asc"});(0,i.useEffect)(()=>{const e=async()=>{s(!0),o("");try{const e={query:l,minAmount:u.minAmount||0,maxDeadline:u.maxDeadline||null,sortBy:u.sortBy},t=await(e=>Fr("/scholarships/search",{method:"POST",body:JSON.stringify(e)}))(e);n(t.scholarships||[])}catch(e){console.error("Failed to load scholarships:",e),o("Could not load scholarships. Please try again later.")}finally{s(!1)}},t=setTimeout(()=>{e()},500);return()=>clearTimeout(t)},[l,u]);const h=e=>{const{name:t,value:n}=e.target;d(e=>Dr(Dr({},e),{},{[t]:n}))},f=(0,i.useMemo)(()=>t.reduce((e,t)=>e+(t.amount||0),0),[t]),p=(0,i.useMemo)(()=>[...t].sort((e,t)=>new Date(e.deadline||0)-new Date(t.deadline||0)),[t]),g=(0,i.useMemo)(()=>{let e=p;if(u.minAmount&&(e=e.filter(e=>(e.amount||0)>=parseInt(u.minAmount))),u.maxDeadline){const t=new Date(u.maxDeadline);e=e.filter(e=>new Date(e.deadline||0)<=t)}switch(u.sortBy){case"amount_desc":return e.sort((e,t)=>(t.amount||0)-(e.amount||0));case"amount_asc":return e.sort((e,t)=>(e.amount||0)-(t.amount||0));default:return e.sort((e,t)=>new Date(e.deadline||0)-new Date(t.deadline||0))}},[p,u]),m=e=>"number"!==typeof e?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,Wr.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Find Scholarships"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-1",children:"Search and filter thousands of opportunities."}),(0,Wr.jsx)("div",{className:"mt-4",children:(0,Wr.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search by keyword, major, or provider...",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,Wr.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex flex-wrap items-center gap-4",children:[(0,Wr.jsxs)("select",{name:"sortBy",value:u.sortBy,onChange:h,className:"p-2 border rounded-lg bg-gray-50",children:[(0,Wr.jsx)("option",{value:"deadline_asc",children:"Sort by Deadline (Soonest)"}),(0,Wr.jsx)("option",{value:"amount_desc",children:"Sort by Amount (High to Low)"}),(0,Wr.jsx)("option",{value:"amount_asc",children:"Sort by Amount (Low to High)"})]}),(0,Wr.jsx)("input",{type:"number",name:"minAmount",value:u.minAmount,onChange:h,placeholder:"Min Amount ($)",className:"p-2 border rounded-lg bg-gray-50"}),(0,Wr.jsx)("input",{type:"date",name:"maxDeadline",value:u.maxDeadline,onChange:h,className:"p-2 border rounded-lg bg-gray-50"})]}),!r&&!a&&t.length>0&&(0,Wr.jsx)("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsxs)("h3",{className:"text-lg font-semibold text-green-800",children:[g.length," Scholarships Found"]}),(0,Wr.jsxs)("p",{className:"text-sm text-green-600",children:["Total Eligible Amount: ",m(f)]})]}),(0,Wr.jsx)("div",{className:"text-right",children:(0,Wr.jsxs)("p",{className:"text-sm text-green-600",children:["Average Amount: ",m(f/g.length)]})})]})}),(0,Wr.jsx)("div",{children:r?(0,Wr.jsxs)("div",{className:"text-center py-10",children:[(0,Wr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Wr.jsx)("p",{className:"mt-4 text-gray-500",children:"Finding opportunities..."})]}):a?(0,Wr.jsx)("div",{className:"text-center py-10 bg-red-50 p-6 rounded-lg",children:(0,Wr.jsx)("p",{className:"text-red-600 font-semibold",children:a})}):0===g.length?(0,Wr.jsxs)("div",{className:"text-center py-10 bg-gray-50 p-6 rounded-lg",children:[(0,Wr.jsx)("p",{className:"text-gray-600 font-semibold",children:"No scholarships found."}),(0,Wr.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filters."})]}):(0,Wr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(t=>(0,Wr.jsxs)("div",{onClick:()=>e("/scholarship/".concat(t._id)),className:"bg-white p-5 rounded-xl border shadow-sm hover:shadow-lg hover:border-blue-500 cursor-pointer transition-all flex flex-col justify-between",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsx)("h3",{className:"font-bold text-lg text-blue-800",children:t.title}),(0,Wr.jsx)("span",{className:"text-sm font-semibold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:m(t.amount)})]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.provider})]}),(0,Wr.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100 text-xs text-gray-500",children:(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Deadline:"})," ",t.deadline?new Date(t.deadline).toLocaleDateString():"Varies"]})})]},t._id))})})]})},Yi=()=>{const{profile:e}=$r(),t=ne(),[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)("");return(0,Wr.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\ud83c\udfaf AI Scholarship Matcher"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Discover scholarships perfectly tailored to your profile."})]}),(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border text-center",children:[(0,Wr.jsx)("p",{className:"mb-4 text-gray-600",children:"Our AI will analyze your student profile to find the best scholarship opportunities for you."}),(0,Wr.jsx)("button",{onClick:async()=>{if(e){a(!0),l(""),r([]);try{const n=await(t=e,Fr("/matching/scholarships",{method:"POST",body:JSON.stringify({studentProfile:t})},!0));r(n.scholarships||n.data||[])}catch(n){l("Failed to fetch scholarship matches. Please try again later."),console.error(n)}finally{a(!1)}var t}else alert("Please complete your student profile first to get the best matches.")},disabled:s||!e,className:"bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all",children:s?"Finding Your Matches...":"\u2728 Find My Scholarships"}),!e&&(0,Wr.jsx)("p",{className:"text-xs text-red-500 mt-2",children:"Complete your profile to enable matching."})]}),o&&(0,Wr.jsx)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-center",children:o}),n.length>0&&(0,Wr.jsxs)("div",{className:"space-y-4",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Your Top Matches"}),n.map(e=>{var n,r,i,s;return(0,Wr.jsx)("div",{onClick:()=>t("/scholarship/".concat(e._id)),className:"bg-white p-4 rounded-lg border shadow-sm hover:shadow-md hover:border-blue-500 cursor-pointer transition-colors",children:(0,Wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h3",{className:"font-bold text-lg text-blue-800",children:e.title}),(0,Wr.jsx)("p",{className:"text-sm text-gray-600",children:e.provider})]}),(0,Wr.jsxs)("div",{className:"text-right flex-shrink-0 ml-4",children:[(0,Wr.jsxs)("p",{className:"font-bold text-xl text-green-600",children:["$",(null===(n=e.amount)||void 0===n?void 0:n.toLocaleString())||(null===(r=e.award_info)||void 0===r||null===(i=r.funds)||void 0===i||null===(s=i.amount)||void 0===s?void 0:s.toLocaleString())||"0"]}),(0,Wr.jsxs)("p",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat("High"===e.relevance?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:[e.relevance||"Good"," Match"]})]})]})},e._id)})]})]})},Ji=()=>{const{profile:e}=$r(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)({careerGoal:"",majorInterest:"",targetColleges:"",financialGoals:""});(0,i.useEffect)(()=>{e&&c(t=>Dr(Dr({},t),{},{careerGoal:e.career_goals||"",majorInterest:e.major||""}))},[e]);const u=e=>{const{name:t,value:n}=e.target;c(e=>Dr(Dr({},e),{},{[t]:n}))};return(0,Wr.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\ud83d\udd2e Career Forecaster"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Chart your future with AI-powered career and financial insights."})]}),(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Ambitions"}),(0,Wr.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,Wr.jsx)("input",{name:"careerGoal",value:l.careerGoal,onChange:u,placeholder:"Career Goal (e.g., Software Engineer)",className:"p-3 bg-gray-50 border rounded-lg"}),(0,Wr.jsx)("input",{name:"majorInterest",value:l.majorInterest,onChange:u,placeholder:"Major Interest (e.g., Computer Science)",className:"p-3 bg-gray-50 border rounded-lg"}),(0,Wr.jsx)("input",{name:"targetColleges",value:l.targetColleges,onChange:u,placeholder:"Target Colleges (comma-separated)",className:"p-3 bg-gray-50 border rounded-lg"}),(0,Wr.jsx)("input",{name:"financialGoals",value:l.financialGoals,onChange:u,placeholder:"Financial Goals (e.g., $100k salary)",className:"p-3 bg-gray-50 border rounded-lg"})]}),(0,Wr.jsx)("button",{onClick:async()=>{if(l.careerGoal&&l.majorInterest){s(!0),o(null),n(null);try{const e="Generate a career forecast for a student with the following details:\n        - Career Goal: ".concat(l.careerGoal,"\n        - Major Interest: ").concat(l.majorInterest,"\n        - Target Colleges: ").concat(l.targetColleges||"Not specified","\n        - Financial Goals: ").concat(l.financialGoals||"Not specified","\n        \n        Please provide:\n        1. Salary projections for different career stages\n        2. Recommended education path\n        3. Career development recommendations\n        4. Industry insights and trends"),t=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Fr("/rag/query",{method:"POST",body:JSON.stringify({query:e,context:t})})}(e,[]),r=t.answer||t.response||t.text||"";n({salaryProjections:{"Entry-Level (0-2 Years)":75e3,"Mid-Career (5-7 Years)":12e4,"Senior-Level (10+ Years)":18e4},educationPath:"A Bachelor's degree in Computer Science is typically required. Consider pursuing a Master's for specialized roles in AI or Machine Learning.",recommendations:"Focus on internships in software development. Build a strong portfolio of projects on platforms like GitHub. Network with professionals in the tech industry.",aiResponse:r})}catch(e){o(e.message||"Failed to generate career forecast. Please try again.")}finally{s(!1)}}else o("Please fill in your career goal and major interest to generate a forecast.")},disabled:r,className:"w-full bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 disabled:opacity-50",children:r?"Forecasting Your Future...":"Generate Forecast"})]}),a&&(0,Wr.jsx)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-center",children:a}),t&&(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border space-y-6",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Forecast Results"}),t.aiResponse&&(0,Wr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"\ud83e\udd16 AI Career Analysis"}),(0,Wr.jsx)("p",{className:"text-blue-700 whitespace-pre-wrap",children:t.aiResponse})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\ud83d\udcc8 Salary Projections"}),(0,Wr.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(t.salaryProjections).map(e=>{let[t,n]=e;return(0,Wr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,Wr.jsx)("p",{className:"text-sm text-green-800",children:t}),(0,Wr.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",n.toLocaleString()]})]},t)})})]}),(0,Wr.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Wr.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"\ud83c\udf93 Education Path"}),(0,Wr.jsx)("p",{className:"text-yellow-700",children:t.educationPath})]}),(0,Wr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Wr.jsx)("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"\ud83d\udca1 Recommendations"}),(0,Wr.jsx)("p",{className:"text-purple-700",children:t.recommendations})]})]})]})]})},Qi=()=>{const{user:e,isProfileComplete:t,loading:n}=$r(),r=ne(),[s,a]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(n)return;const i=new URLSearchParams(window.location.hash.substring(1)).get("error_description");i?a("Authentication error: ".concat(i)):e?r(t?"/dashboard":"/student-profile",{replace:!0}):n||a("Authentication failed after callback. Please try logging in again.")},[n,e,t,r]),s?(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,Wr.jsxs)("div",{className:"max-w-md w-full text-center p-8 bg-white shadow-lg rounded-lg",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"Authentication Error"}),(0,Wr.jsx)("p",{className:"mt-2 text-gray-600",children:s}),(0,Wr.jsx)("button",{onClick:()=>r("/login"),className:"mt-6 w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:"Return to Login"})]})}):(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,Wr.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Completing Authentication..."})]})})},Xi=()=>{var e,t,n;const{collegeId:r}=re(),s=ne(),{profile:a}=$r(),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{r&&(async()=>{u(!0);const e=await Br(r);l(e),u(!1)})()},[r]),c)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Generating Report..."});if(!o||!a)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Could not load data."});const d={name:(null===a||void 0===a?void 0:a.fullName)||(null===a||void 0===a?void 0:a.first_name)||"Student",gpa:(null===a||void 0===a?void 0:a.gpa)||"3.85",satScore:(null===a||void 0===a?void 0:a.satScore)||1450,extracurriculars:(null===a||void 0===a?void 0:a.extracurriculars)||"Debate Club, Varsity Soccer"};return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("button",{onClick:()=>s(-1),className:"mb-6 bg-white px-4 py-2 rounded-lg border shadow-sm",children:"\u2190 Back to Profile"}),(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-center mb-2",children:"Scholargy Report"}),(0,Wr.jsxs)("p",{className:"text-lg text-center text-gray-500 mb-8",children:["Comparing ",d.name,"'s Profile to ",o.general_info.name]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Wr.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[(0,Wr.jsxs)("h2",{className:"font-bold text-xl mb-3 text-blue-800",children:["Your Profile (",d.name,")"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"GPA:"})," ",d.gpa]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"SAT Score:"})," ",d.satScore]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Extracurriculars:"})," ",d.extracurriculars]})]}),(0,Wr.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[(0,Wr.jsx)("h2",{className:"font-bold text-xl mb-3 text-green-800",children:o.general_info.name}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Location:"})," ",o.general_info.city,", ",o.general_info.state]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Admission Rate:"})," ",null!==(e=o.admissions)&&void 0!==e&&e.admission_rate?"".concat((100*o.admissions.admission_rate).toFixed(1),"%"):"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Avg. SAT Score (75th percentile):"})," ",null!==(t=o.admissions)&&void 0!==t&&null!==(n=t.sat_scores)&&void 0!==n&&n.math_75th?o.admissions.sat_scores.math_75th+o.admissions.sat_scores.verbal_75th:"N/A"]})]})]}),(0,Wr.jsxs)("div",{className:"mt-8",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Advisor Insights"}),(0,Wr.jsxs)("div",{className:"prose prose-sm max-w-none bg-gray-50 p-4 rounded-md border",children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Overall Assessment:"})," ",d.name,"'s academic profile is strong and aligns well with ",o.general_info.name,"'s typical student body, particularly with a competitive SAT score."]}),(0,Wr.jsxs)("ul",{children:[(0,Wr.jsxs)("li",{children:[(0,Wr.jsx)("strong",{children:"Academic Fit:"})," Your GPA and SAT scores are within the competitive range for this institution."]}),(0,Wr.jsxs)("li",{children:[(0,Wr.jsx)("strong",{children:"Extracurricular Alignment:"})," Your activities demonstrate leadership and well-rounded interests."]}),(0,Wr.jsxs)("li",{children:[(0,Wr.jsx)("strong",{children:"Recommendations:"})," Consider highlighting specific achievements in your application essays."]})]})]})]})]})]})};function Zi(e){return e+.5|0}const es=(e,t,n)=>Math.max(Math.min(e,n),t);function ts(e){return es(Zi(2.55*e),0,255)}function ns(e){return es(Zi(255*e),0,255)}function rs(e){return es(Zi(e/2.55)/100,0,1)}function is(e){return es(Zi(100*e),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},as=[..."0123456789ABCDEF"],os=e=>as[15&e],ls=e=>as[(240&e)>>4]+as[15&e],cs=e=>(240&e)>>4===(15&e);function us(e){var t=(e=>cs(e.r)&&cs(e.g)&&cs(e.b)&&cs(e.a))(e)?os:ls;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const ds=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hs(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function fs(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function ps(e,t,n){const r=hs(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function gs(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=a>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,a]}function ms(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(ns)}function vs(e,t,n){return ms(hs,e,t,n)}function bs(e){return(e%360+360)%360}function ys(e){const t=ds.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?ts(+t[5]):ns(+t[5]));const i=bs(+t[2]),s=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return ms(ps,e,t,n)}(i,s,a):"hsv"===t[1]?function(e,t,n){return ms(fs,e,t,n)}(i,s,a):vs(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}const xs={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ws={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let _s;function Ss(e){_s||(_s=function(){const e={},t=Object.keys(ws),n=Object.keys(xs);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,xs[s]);s=parseInt(ws[a],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),_s.transparent=[0,0,0,0]);const t=_s[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const ks=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const js=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Cs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Es(e,t,n){if(e){let r=gs(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=vs(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ps(e,t){return e?Object.assign(t||{},e):e}function Ns(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ns(e[3]))):(t=Ps(e,{r:0,g:0,b:0,a:1})).a=ns(t.a),t}function Ts(e){return"r"===e.charAt(0)?function(e){const t=ks.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?ts(e):es(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?ts(n):es(n,0,255)),r=255&(t[4]?ts(r):es(r,0,255)),i=255&(t[6]?ts(i):es(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):ys(e)}class As{constructor(e){if(e instanceof As)return e;const t=typeof e;let n;"object"===t?n=Ns(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*ss[e[1]],g:255&17*ss[e[2]],b:255&17*ss[e[3]],a:5===n?17*ss[e[4]]:255}:7!==n&&9!==n||(t={r:ss[e[1]]<<4|ss[e[2]],g:ss[e[3]]<<4|ss[e[4]],b:ss[e[5]]<<4|ss[e[6]],a:9===n?ss[e[7]]<<4|ss[e[8]]:255})),t}(e)||Ss(e)||Ts(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ps(this._rgb);return e&&(e.a=rs(e.a)),e}set rgb(e){this._rgb=Ns(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(rs(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?us(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=gs(e),n=t[0],r=is(t[1]),i=is(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(rs(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,a=2*s-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Cs(rs(e.r)),i=Cs(rs(e.g)),s=Cs(rs(e.b));return{r:ns(js(r+n*(Cs(rs(t.r))-r))),g:ns(js(i+n*(Cs(rs(t.g))-i))),b:ns(js(s+n*(Cs(rs(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new As(this.rgb)}alpha(e){return this._rgb.a=ns(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Zi(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Es(this._rgb,2,e),this}darken(e){return Es(this._rgb,2,-e),this}saturate(e){return Es(this._rgb,1,e),this}desaturate(e){return Es(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=gs(e);n[0]=bs(n[0]+t),n=vs(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Os(){}const Ms=(()=>{let e=0;return()=>e++})();function Rs(e){return null===e||void 0===e}function Ls(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Is(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Ds(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function zs(e,t){return Ds(e)?e:t}function Fs(e,t){return"undefined"===typeof e?t:e}const Bs=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Us(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Ws(e,t,n,r){let i,s,a;if(Ls(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(Is(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function Vs(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Hs(e){if(Ls(e))return e.map(Hs);if(Is(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Hs(e[n[i]]);return t}return e}function $s(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function qs(e,t,n,r){if(!$s(e))return;const i=t[e],s=n[e];Is(i)&&Is(s)?Ks(i,s,r):t[e]=Hs(s)}function Ks(e,t,n){const r=Ls(t)?t:[t],i=r.length;if(!Is(e))return e;const s=(n=n||{}).merger||qs;let a;for(let o=0;o<i;++o){if(a=r[o],!Is(a))continue;const t=Object.keys(a);for(let r=0,i=t.length;r<i;++r)s(t[r],e,a,n)}return e}function Gs(e,t){return Ks(e,t,{merger:Ys})}function Ys(e,t,n){if(!$s(e))return;const r=t[e],i=n[e];Is(r)&&Is(i)?Gs(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Hs(i))}const Js={"":e=>e,x:e=>e.x,y:e=>e.y};function Qs(e,t){const n=Js[t]||(Js[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Xs(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Zs=e=>"undefined"!==typeof e,ea=e=>"function"===typeof e,ta=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const na=Math.PI,ra=2*na,ia=ra+na,sa=Number.POSITIVE_INFINITY,aa=na/180,oa=na/2,la=na/4,ca=2*na/3,ua=Math.log10,da=Math.sign;function ha(e,t,n){return Math.abs(e-t)<n}function fa(e){const t=Math.round(e);e=ha(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ua(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function pa(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function ga(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ma(e){return e*(na/180)}function va(e){return e*(180/na)}function ba(e){if(!Ds(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ya(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*na&&(s+=ra),{angle:s,distance:i}}function xa(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wa(e,t){return(e-t+ia)%ra-na}function _a(e){return(e%ra+ra)%ra}function Sa(e,t,n,r){const i=_a(e),s=_a(t),a=_a(n),o=_a(s-i),l=_a(a-i),c=_a(i-s),u=_a(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function ka(e,t,n){return Math.max(t,Math.min(n,e))}function ja(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Ca(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Ea=(e,t,n,r)=>Ca(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Pa=(e,t,n)=>Ca(e,n,r=>e[r][t]>=n);const Na=["push","pop","shift","splice","unshift"];function Ta(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Na.forEach(t=>{delete e[t]}),delete e._chartjs)}function Aa(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Oa="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ma(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n=s,r||(r=!0,Oa.call(window,()=>{r=!1,e.apply(t,n)}))}}const Ra=e=>"start"===e?"left":"end"===e?"right":"center",La=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Ia(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(i=Math.min(Ea(l,u,d).lo,n?r:Ea(t,u,a.getPixelForValue(d)).lo),c){const e=l.slice(0,i+1).reverse().findIndex(e=>!Rs(e[o.axis]));i-=Math.max(0,e)}i=ka(i,0,r-1)}if(p){let e=Math.max(Ea(l,a.axis,h,!0).hi+1,n?0:Ea(t,u,a.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!Rs(e[o.axis]));e+=Math.max(0,t)}s=ka(e,i,r)-i}else s=r-i}return{start:i,count:s}}function Da(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const za=e=>0===e||1===e,Fa=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ra/n),Ba=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ra/n)+1,Ua={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*oa),easeOutSine:e=>Math.sin(e*oa),easeInOutSine:e=>-.5*(Math.cos(na*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>za(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>za(e)?e:Fa(e,.075,.3),easeOutElastic:e=>za(e)?e:Ba(e,.075,.3),easeInOutElastic(e){const t=.1125;return za(e)?e:e<.5?.5*Fa(2*e,t,.45):.5+.5*Ba(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Ua.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Ua.easeInBounce(2*e):.5*Ua.easeOutBounce(2*e-1)+.5};function Wa(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Va(e){return Wa(e)?e:new As(e)}function Ha(e){return Wa(e)?e:new As(e).saturate(.5).darken(.1).hexString()}const $a=["x","y","borderWidth","radius","tension"],qa=["color","borderColor","backgroundColor"];const Ka=new Map;function Ga(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Ka.get(n);return r||(r=new Intl.NumberFormat(e,t),Ka.set(n,r)),r}(t,n).format(e)}const Ya={values:e=>Ls(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=ua(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Ga(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(ua(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Ya.numeric.call(this,e,t,n):""}};var Ja={formatters:Ya};const Qa=Object.create(null),Xa=Object.create(null);function Za(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function eo(e,t,n){return"string"===typeof t?Ks(Za(e,t),n):Ks(Za(e,""),t)}class to{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Ha(t.backgroundColor),this.hoverBorderColor=(e,t)=>Ha(t.borderColor),this.hoverColor=(e,t)=>Ha(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return eo(this,e,t)}get(e){return Za(this,e)}describe(e,t){return eo(Xa,e,t)}override(e,t){return eo(Qa,e,t)}route(e,t,n,r){const i=Za(this,e),s=Za(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=s[r];return Is(e)?Object.assign({},t,e):Fs(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach(e=>e(this))}}var no=new to({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:qa},numbers:{type:"number",properties:$a}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ja.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ro(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function io(e,t,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let l,c,u,d,h;for(l=0;l<o;l++)if(d=n[l],void 0===d||null===d||Ls(d)){if(Ls(d))for(c=0,u=d.length;c<u;c++)h=d[c],void 0===h||null===h||Ls(h)||(a=ro(e,i,s,a,h))}else a=ro(e,i,s,a,d);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function so(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function ao(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function oo(e,t,n,r){lo(e,t,n,r,null)}function lo(e,t,n,r,i){let s,a,o,l,c,u,d,h;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*aa;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,g,0,0,ra):e.arc(n,r,g,0,ra),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=ca,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=ca,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,a=Math.cos(m+la)*l,d=Math.cos(m+la)*(i?i/2-c:l),o=Math.sin(m+la)*l,h=Math.sin(m+la)*(i?i/2-c:l),e.arc(n-d,r-o,c,m-na,m-oa),e.arc(n+h,r-a,c,m-oa,m),e.arc(n+d,r+o,c,m,m+oa),e.arc(n-h,r+a,c,m+oa,m+na),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}m+=la;case"rectRot":d=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(n-d,r-o),e.lineTo(n+h,r-a),e.lineTo(n+d,r+o),e.lineTo(n-h,r+a),e.closePath();break;case"crossRot":m+=la;case"cross":d=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"star":d=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a),m+=la,d=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"line":a=i?i/2:Math.cos(m)*g,o=Math.sin(m)*g,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function co(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function uo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ho(e){e.restore()}function fo(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function po(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function go(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function mo(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function vo(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Ls(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Rs(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&mo(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Rs(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),go(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function bo(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*na,na,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,na,oa,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,oa,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-oa,!0),e.lineTo(n+a.topLeft,r)}const yo=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xo=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wo(e,t){const n=(""+e).match(yo);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const _o=e=>+e||0;function So(e,t){const n={},r=Is(t),i=r?Object.keys(t):t,s=Is(e)?r?n=>Fs(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of i)n[a]=_o(s(a));return n}function ko(e){return So(e,{top:"y",right:"x",bottom:"y",left:"x"})}function jo(e){return So(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Co(e){const t=ko(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Eo(e,t){e=e||{},t=t||no.font;let n=Fs(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=Fs(e.style,t.style);r&&!(""+r).match(xo)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Fs(e.family,t.family),lineHeight:wo(Fs(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Fs(e.weight,t.weight),string:""};return i.string=function(e){return!e||Rs(e.size)||Rs(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Po(e,t,n,r){let i,s,a,o=!0;for(i=0,s=e.length;i<s;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&Ls(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function No(e,t){return Object.assign(Object.create(e),t)}function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Uo("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>To([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>Lo(n,r,()=>function(e,t,n,r){let i;for(const s of t)if(i=Uo(Mo(s,e),n),"undefined"!==typeof i)return Ro(e,i)?Fo(n,r,e,i):i}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Wo(e).includes(t),ownKeys:e=>Wo(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Ao(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Oo(e,r),setContext:t=>Ao(e,t,n,r),override:i=>Ao(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Lo(e,t,()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];ea(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);o.delete(e),Ro(e,l)&&(l=Fo(i._scopes,i,e,l));return l}(t,o,e,n));Ls(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(Is(t[0])){const n=t,r=i._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=Fo(r,i,e,l);t.push(Ao(n,s,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));Ro(t,o)&&(o=Ao(o,i,s&&s[t],a));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Oo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ea(n)?n:()=>n,isIndexable:ea(r)?r:()=>r}}const Mo=(e,t)=>e?e+Xs(t):t,Ro=(e,t)=>Is(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Lo(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function Io(e,t,n){return ea(e)?e(t,n):e}const Do=(e,t)=>!0===e?t:"string"===typeof e?Qs(t,e):void 0;function zo(e,t,n,r,i){for(const s of t){const t=Do(n,s);if(t){e.add(t);const s=Io(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Fo(e,t,n,r){const i=t._rootScopes,s=Io(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=Bo(o,a,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=Bo(o,a,s,l,r),null!==l))&&To(Array.from(o),[""],i,s,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(Ls(i)&&Is(n))return n;return i||{}}(t,n,r)))}function Bo(e,t,n,r,i){for(;n;)n=zo(e,t,n,r,i);return n}function Uo(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Wo(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function Vo(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={r:i.parse(Qs(u,s),c)};return a}const Ho=Number.EPSILON||1e-14,$o=(e,t)=>t<e.length&&!e[t].skip&&e[t],qo=e=>"x"===e?"y":"x";function Ko(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=xa(s,i),l=xa(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function Go(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=qo(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=$o(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=$o(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}s[a]=o?c?da(i[a-1])!==da(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,s,a,o,l,c=$o(e,0);for(let u=0;u<r-1;++u)l=c,c=$o(e,u+1),l&&c&&(ha(t[u],0,Ho)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[u]=i*a*t[u],n[u+1]=s*a*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=qo(n),i=e.length;let s,a,o,l=$o(e,0);for(let c=0;c<i;++c){if(a=o,o=l,l=$o(e,c+1),!o)continue;const i=o[n],u=o[r];a&&(s=(i-a[n])/3,o["cp1".concat(n)]=i-s,o["cp1".concat(r)]=u-s*t[c]),l&&(s=(l[n]-i)/3,o["cp2".concat(n)]=i+s,o["cp2".concat(r)]=u+s*t[c])}}(e,s,t)}function Yo(e,t,n){return Math.max(Math.min(e,n),t)}function Jo(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)Go(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=Ko(n,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,s,a,o=co(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&co(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=Yo(i.cp1x,t.left,t.right),i.cp1y=Yo(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=Yo(i.cp2x,t.left,t.right),i.cp2y=Yo(i.cp2y,t.top,t.bottom)))}(e,n)}function Qo(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Xo(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Zo(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const el=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const tl=["top","right","bottom","left"];function nl(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=tl[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function rl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=el(n),s="border-box"===i.boxSizing,a=nl(i,"padding"),o=nl(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))a=i,o=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:p}=t;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/p*n.height/r)}}const il=e=>Math.round(10*e)/10;function sl(e,t,n,r){const i=el(e),s=nl(i,"margin"),a=Zo(i.maxWidth,e,"clientWidth")||sa,o=Zo(i.maxHeight,e,"clientHeight")||sa,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&Xo(e);if(s){const e=s.getBoundingClientRect(),a=el(s),o=nl(a,"border","width"),l=nl(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=Zo(a.maxWidth,s,"clientWidth"),i=Zo(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||sa,maxHeight:i||sa}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=nl(i,"border","width"),t=nl(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=il(Math.min(c,a,l.maxWidth)),u=il(Math.min(u,o,l.maxHeight)),c&&!u&&(u=il(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=il(Math.floor(u*r))),{width:c,height:u}}function al(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const ol=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qo()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Dp){}return e}();function ll(e,t){const n=function(e,t){return el(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function cl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function ul(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function dl(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=cl(e,i,n),o=cl(i,s,n),l=cl(s,t,n),c=cl(a,o,n),u=cl(o,l,n);return cl(c,u,n)}function hl(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function fl(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function pl(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function gl(e){return"angle"===e?{between:Sa,compare:wa,normalize:_a}:{between:ja,compare:(e,t)=>e-t,normalize:e=>e}}function ml(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function vl(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:c}=gl(r),{start:u,end:d,loop:h,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=gl(r),l=t.length;let c,u,{start:d,end:h,loop:f}=e;if(f){for(d+=l,h+=l,c=0,u=l;c<u&&a(o(t[d%l][r]),i,s);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:f,style:e.style}}(e,t,n),p=[];let g,m,v,b=!1,y=null;const x=()=>b||l(i,v,g)&&0!==o(i,v),w=()=>!b||0===o(s,g)||l(s,v,g);for(let _=u,S=u;_<=d;++_)m=t[_%a],m.skip||(g=c(m[r]),g!==v&&(b=l(g,i,s),null===y&&x()&&(y=0===o(g,i)?_:S),null!==y&&w()&&(p.push(ml({start:y,end:_,loop:h,count:a,style:f})),y=null),S=_,v=g));return null!==y&&p.push(ml({start:y,end:d,loop:h,count:a,style:f})),p}function bl(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=vl(r[i],e.points,t);s.length&&n.push(...s)}return n}function yl(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=xl(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let u=s,d=t[0].start,h=d;function f(e,t,r,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,d=t%l)}}for(const p of t){d=o?d:p.start;let e,t=n[d%l];for(h=d+1;h<=p.end;h++){const s=n[h%l];e=xl(r.setContext(No(i,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),wl(e,u)&&f(d,h-1,p.loop,u),t=s,u=e}d<h-1&&f(d,h-1,p.loop,u)}return c}(e,t,n,r):t}function xl(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function wl(e,t){if(!t)return!1;const n=[],r=function(e,t){return Wa(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function _l(e,t,n){return e.options.clip?e[n]:t[n]}function Sl(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:_l(n,t,"left"),right:_l(n,t,"right"),top:_l(r,t,"top"),bottom:_l(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class kl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach(r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Oa.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,a=i.length-1,o=!1;for(;a>=0;--a)s=i[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var jl=new kl;const Cl="transparent",El={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Va(e||Cl),i=r.valid&&Va(t||Cl);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Pl{constructor(e,t,n,r){const i=t[n];r=Po([e.to,r,i,e.from]);const s=Po([e.from,i,r]);this._active=!0,this._fn=e.fn||El[e.type||typeof s],this._easing=Ua[e.easing]||Ua.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Po([e.to,t,r,e.from]),this._from=Po([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,a=this._to;let o;if(this._active=i!==a&&(s||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Nl{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Is(e))return;const t=Object.keys(no.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Is(i))return;const s={};for(const e of t)s[e]=i[e];(Ls(i.properties)&&i.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,s)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,a);continue}u.cancel()}d&&d.duration?(i[l]=u=new Pl(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(jl.add(this._chart,n),!0):void 0}}function Tl(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function Al(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Ol(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let a,o,l,c;if(null===t)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=e.values[l],Ds(c)&&(s||0===t||da(t)===da(c))&&(t+=c)}return u||r.all?t:0}function Ml(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Rl(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Ll(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function Il(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,a,r),d=t.length;let h;for(let f=0;f<d;++f){const e=t[f],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=Rl(i,u,n),h[o]=s,h._top=Ll(h,a,!0,r.type),h._bottom=Ll(h,a,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=s}}function Dl(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function zl(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const Fl=e=>"reset"===e||"none"===e,Bl=(e,t)=>t?e:Object.assign({},e);class Ul{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ml(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=Fs(n.xAxisID,Dl(e,"x")),s=t.yAxisID=Fs(n.yAxisID,Dl(e,"y")),a=t.rAxisID=Fs(n.rAxisID,Dl(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,s,a),c=t.vAxisID=r(o,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ta(this._data,this),e._stacked&&zl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Is(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:e[u]};return o}(t,e)}else if(n!==t){if(n){Ta(n,this);const e=this._cachedMeta;zl(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Na.forEach(e=>{const t="_onData"+Xs(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const a=n.apply(this,i);return r._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...i)}),a}})}))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=Ml(t.vScale,t),t.stack!==n.stack&&(r=!0,zl(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(Il(this,t._parsed),t._stacked=Ml(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Ls(r[e])?this.parseArrayData(n,r,e,t):Is(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||d&&l[a]<d[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),d=l);n._sorted=u}s&&Il(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,a=i.axis,o=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let d,h,f;for(d=0,h=r;d<h;++d)f=d+n,u[d]={[a]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:i.parse(Qs(h,a),d),y:s.parse(Qs(h,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return Ol({keys:Al(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,s=Ol(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Al(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let d,h;function f(){h=r[d];const t=h[a.axis];return!Ds(h[e.axis])||c>t||u<t}for(d=0;d<s&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++d);if(i)for(d=s-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],Ds(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return Is(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(Fs(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=Tl(e,n),i=Tl(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return No(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return No(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],o=this.enableOptionSharing&&Zs(n);if(a)return Bl(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(no.elements[e]),f=l.resolveNamedOptions(d,h,()=>this.getContext(n,r,t),u);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(Bl(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s="animation-".concat(t),a=i[s];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(s,this.getContext(e,n,t))}const l=new Nl(r,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Fl(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){Fl(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Fl(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(o(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&zl(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Wl(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Aa(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,i,s,a,o=t._length;const l=()=>{32767!==s&&-32768!==s&&(Zs(a)&&(o=Math.min(o,Math.abs(s-a)||o)),a=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),l();return o}function Vl(e,t,n,r){return Ls(e)?function(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Hl(e,t,n,r){const i=e.iScale,s=e.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=t[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(Vl(h,d,s,c));return l}function $l(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ql(e,t,n,r){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[Kl(u,a,o,l)]=!0,i=c)),s[Kl(i,a,o,l)]=!0,e.borderSkipped=s}function Kl(e,t,n,r){return r?(e=function(e,t,n){return e===t?n:e===n?t:e}(e,t,n),e=Gl(e,n,t)):e=Gl(e,t,n),e}function Gl(e,t,n){return"start"===e?t:"end"===e?n:e}function Yl(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}Lr(Ul,"defaults",{}),Lr(Ul,"datasetElementType",null),Lr(Ul,"dataElementType",null);class Jl extends Ul{parsePrimitiveData(e,t,n,r){return Hl(e,t,n,r)}parseArrayData(e,t,n,r){return Hl(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?a:o,c="x"===s.axis?a:o,u=[];let d,h,f,p;for(d=n,h=n+r;d<h;++d)p=t[d],f={},f[i.axis]=i.parse(Qs(p,l),d),u.push(Vl(Qs(p,c),f,s,d));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),s=i._custom,a=$l(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=i||Rs(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[a.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||$l(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};d&&(g.options=u||this.resolveDataElementOptions(h,e[h].active?"active":r));const m=g.options||e[h].options;ql(g,m,p,s),Yl(g,m,c.ratio),this.updateElement(e[h],h,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),i=n.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===o),r=t&&t[e.vScale.axis];if(Rs(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===s.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Fs("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,s;for(i=0,s=t.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||Wl(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,a=i||0,o=this.getParsed(e),l=o._custom,c=$l(l);let u,d,h=o[t.axis],f=0,p=n?this.applyStack(t,o,n):h;p!==h&&(f=p-h,p=h),c&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&da(h)!==da(l.barEnd)&&(f=0),f+=h);const g=Rs(i)||c?f:i;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,d=u-m,Math.abs(d)<s){d=function(e,t,n){return 0!==e?da(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,a)*s,h===a&&(m-=d/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);m=Math.max(Math.min(m,f),l),u=m+d,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(a)){const e=da(d)*t.getLineWidthForValue(a)/2;m+=e,d-=e}return{size:d,base:m,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=Fs(r.maxBarThickness,1/0);let a,o;const l=this._getAxisCount();if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,s=i[e];let a=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===a&&(a=s-(null===o?t.end-t.start:o-s)),null===o&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const i=n.barThickness;let s,a;return Rs(i)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[e]-s/2}}(e,t,r,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(Fs(u,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+d;a=c.start+c.chunk*h+c.chunk/2,o=Math.min(s,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(s,t.min*t.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}Lr(Jl,"id","bar"),Lr(Jl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Lr(Jl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ql extends Ul{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=Fs(e[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=Fs(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=s.axis,u=a.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!i&&this.getParsed(d),h={},f=h[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=h[u]=i?a.getBasePixel():a.getPixelForValue(n[u]);h.skip=isNaN(f)||isNaN(p),l&&(h.options=o||this.resolveDataElementOptions(d,t.active?"active":r),i&&(h.options.radius=0)),this.updateElement(t,d,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=Fs(n&&n._custom,i),r}}Lr(Ql,"id","bubble"),Lr(Ql,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Lr(Ql,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Xl extends Ul{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,a=e=>+n[e];if(Is(n[e])){const{key:e="value"}=this._parsing;a=t=>+Qs(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=a(i)}}_getRotation(){return ma(this.options.rotation-90)}_getCircumference(){return ma(this.options.circumference)}_getRotationExtents(){let e=ra,t=-ra;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:f,offsetY:p}=function(e,t,n){let r=1,i=1,s=0,a=0;if(t<ra){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(e,t,r)=>Sa(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>Sa(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),g=f(0,c,d),m=f(oa,u,h),v=p(na,c,d),b=p(na+oa,u,h);r=(g-v)/2,i=(m-b)/2,s=-(g+v)/2,a=-(m+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}(u,c,o),g=(n.width-s)/d,m=(n.height-s)/h,v=Math.max(Math.min(g,m)/2,0),b=Bs(this.options.radius,v),y=(b-Math.max(b*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=p*b,r.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*l,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/ra)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.chartArea,o=s.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=i&&o.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:h,innerRadius:d};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=t,this.updateElement(n,g,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ra*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Ga(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,a,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,a=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Fs(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Lr(Xl,"id","doughnut"),Lr(Xl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Lr(Xl,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Lr(Xl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Zl extends Ul{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=Ia(t,r,s);this._drawStart=a,this._drawCount=o,Da(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),d=s.axis,h=a.axis,{spanGaps:f,segment:p}=this.options,g=pa(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,v=t+n,b=e.length;let y=t>0&&this.getParsed(t-1);for(let x=0;x<b;++x){const n=e[x],f=m?n:{};if(x<t||x>=v){f.skip=!0;continue}const b=this.getParsed(x),w=Rs(b[h]),_=f[d]=s.getPixelForValue(b[d],x),S=f[h]=i||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,b,o):b[h],x);f.skip=isNaN(_)||isNaN(S)||w,f.stop=x>0&&Math.abs(b[d]-y[d])>g,p&&(f.parsed=b,f.raw=l.data[x]),u&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":r)),m||this.updateElement(n,x,f,r),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Lr(Zl,"id","line"),Lr(Zl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Lr(Zl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ec extends Ul{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Ga(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return Vo.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,u=o.getIndexAngle(0)-.5*na;let d,h=u;const f=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,r,f);for(d=t;d<t+n;d++){const t=e[d];let n=h,p=h+this._computeAngle(d,r,f),g=s.getDataVisibility(d)?o.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=p,i&&(a.animateScale&&(g=0),a.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(d,t.active?"active":r)};this.updateElement(t,d,m,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?ma(this.resolveDataElementOptions(e,t).angle||n):0}}Lr(ec,"id","polarArea"),Lr(ec,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Lr(ec,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class tc extends Xl{}Lr(tc,"id","pie"),Lr(tc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class nc extends Ul{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return Vo.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),o=i.getPointPositionForValue(a,this.getParsed(a).r),l=s?i.xCenter:o.x,c=s?i.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,a,u,r)}}}Lr(nc,"id","radar"),Lr(nc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Lr(nc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class rc extends Ul{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y);return{label:n[e]||"",value:"("+a+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:s}=Ia(t,n,r);if(this._drawStart=i,this._drawCount=s,Da(t)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),d=this.includeOptions(r,u),h=s.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,m=pa(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+n;++y){const t=e[y],n=this.getParsed(y),c=v?t:{},p=Rs(n[f]),x=c[h]=s.getPixelForValue(n[h],y),w=c[f]=i||p?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,n,o):n[f],y);c.skip=isNaN(x)||isNaN(w)||p,c.stop=y>0&&Math.abs(n[h]-b[h])>m,g&&(c.parsed=n,c.raw=l.data[y]),d&&(c.options=u||this.resolveDataElementOptions(y,t.active?"active":r)),v||this.updateElement(t,y,c,r),b=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,s)/2}}Lr(rc,"id","scatter"),Lr(rc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Lr(rc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function ic(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sc{static override(e){Object.assign(sc.prototype,e)}constructor(e){Lr(this,"options",void 0),this.options=e||{}}init(){}formats(){return ic()}parse(){return ic()}format(){return ic()}add(){return ic()}diff(){return ic()}startOf(){return ic()}endOf(){return ic()}}var ac=sc;function oc(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&s.length){const a=o._reversePixels?Pa:Ea;if(!r){const r=a(s,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex(e=>!Rs(e[t.axis]));r.lo-=Math.max(0,s);const a=n.slice(r.hi).findIndex(e=>!Rs(e[t.axis]));r.hi+=Math.max(0,a)}return r}if(i._sharedOptions){const e=s[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(s,t,n-r),i=a(s,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function lc(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=oc(s[o],t,a,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function cc(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return lc(e,n,t,function(n,a,o){(i||co(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:o})},!0),s}function uc(e,t,n,r,i,s){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return lc(e,n,t,function(n,c,u){const d=n.inRange(t.x,t.y,i);if(r&&!d)return;const h=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(h))&&!d)return;const f=o(t,h);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})}),a}function dc(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?uc(e,t,n,r,i,s):function(e,t,n,r){let i=[];return lc(e,n,t,function(e,n,s){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=ya(e,{x:t.x,y:t.y});Sa(l,a,o)&&i.push({element:e,datasetIndex:n,index:s})}),i}(e,t,n,i):[]}function hc(e,t,n,r,i){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return lc(e,n,t,(e,r,l)=>{e[a]&&e[a](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))}),r&&!o?[]:s}var fc={evaluateInteractionItems:lc,modes:{index(e,t,n,r){const i=rl(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?cc(e,i,s,r,a):dc(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const i=rl(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?cc(e,i,s,r,a):dc(e,i,s,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>cc(e,rl(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=rl(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return dc(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>hc(e,rl(t,e),"x",n.intersect,r),y:(e,t,n,r)=>hc(e,rl(t,e),"y",n.intersect,r)}};const pc=["left","top","right","bottom"];function gc(e,t){return e.filter(e=>e.pos===t)}function mc(e,t){return e.filter(e=>-1===pc.indexOf(e.pos)&&e.box.axis===t)}function vc(e,t){return e.sort((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function bc(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!pc.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:a&&t.availableHeight)}return n}function yc(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function xc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function wc(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!Is(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&xc(a,s.getPadding());const o=Math.max(0,t.outerWidth-yc(a,e,"left","right")),l=Math.max(0,t.outerHeight-yc(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function _c(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function Sc(e,t,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=e.length,c=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,_c(o.horizontal,t));const{same:a,other:d}=wc(t,n,o,r);c|=a&&i.length,u=u||d,l.fullSize||i.push(o)}return c&&Sc(i,t,n,r)||u}function kc(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function jc(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;Zs(l.start)&&(a=l.start),e.fullSize?kc(e,i.left,a,n.outerWidth-i.right-i.left,s):kc(e,t.left+l.placed,a,r,s),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;Zs(l.start)&&(s=l.start),e.fullSize?kc(e,s,i.top,a,n.outerHeight-i.bottom-i.top):kc(e,s,t.top+l.placed,a,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=a}var Cc={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Co(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:a,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}(e),n=vc(t.filter(e=>e.box.fullSize),!0),r=vc(gc(t,"left"),!0),i=vc(gc(t,"right")),s=vc(gc(t,"top"),!0),a=vc(gc(t,"bottom")),o=mc(t,"x"),l=mc(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:gc(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;Ws(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const u=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);xc(h,Co(r));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),p=bc(l.concat(c),d);Sc(o.fullSize,f,d,p),Sc(l,f,d,p),Sc(c,f,d,p)&&Sc(l,f,d,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),jc(o.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,jc(o.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ws(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Ec{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Pc extends Ec{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Nc="$chartjs",Tc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ac=e=>null===e||""===e;const Oc=!!ol&&{passive:!0};function Mc(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Oc)}function Rc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Lc(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Rc(n.addedNodes,r),t=t&&!Rc(n.removedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ic(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Rc(n.removedNodes,r),t=t&&!Rc(n.addedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Dc=new Map;let zc=0;function Fc(){const e=window.devicePixelRatio;e!==zc&&(zc=e,Dc.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Bc(e,t,n){const r=e.canvas,i=r&&Xo(r);if(!i)return;const s=Ma((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()},window),a=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)});return a.observe(i),function(e,t){Dc.size||window.addEventListener("resize",Fc),Dc.set(e,t)}(e,s),a}function Uc(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Dc.delete(e),Dc.size||window.removeEventListener("resize",Fc)}(e)}function Wc(e,t,n){const r=e.canvas,i=Ma(t=>{null!==e.ctx&&n(function(e,t){const n=Tc[e.type]||e.type,{x:r,y:i}=rl(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,Oc)}(r,t,i),i}class Vc extends Ec{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Nc]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ac(i)){const t=ll(e,"width");void 0!==t&&(e.width=t)}if(Ac(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=ll(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Nc])return!1;const n=t[Nc].initial;["height","width"].forEach(e=>{const r=n[e];Rs(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[Nc],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:Lc,detach:Ic,resize:Bc}[t]||Wc;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Uc,detach:Uc,resize:Uc}[t]||Mc)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return sl(e,t,n,r)}isAttached(e){const t=e&&Xo(e);return!(!t||!t.isConnected)}}class Hc{constructor(){Lr(this,"x",void 0),Lr(this,"y",void 0),Lr(this,"active",!1),Lr(this,"options",void 0),Lr(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return pa(this.x)&&pa(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function $c(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return function(e,t,n,r){let i,s=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),s++,a=n[s*r])}(t,c,s,a/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let a=0,o=s.length-1;a<o;a++){const e=s[a];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(qc(t,c,u,Rs(r)?0:o-r,o),e=0,n=a-1;e<n;e++)qc(t,c,u,s[e],s[e+1]);return qc(t,c,u,l,Rs(r)?t.length:l+r),c}return qc(t,c,u),c}function qc(e,t,n,r,i){const s=Fs(r,0),a=Math.min(Fs(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}Lr(Hc,"defaults",{}),Lr(Hc,"defaultRoutes",void 0);const Kc=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Gc=(e,t)=>Math.min(t||e,e);function Yc(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function Jc(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>a+o)))return c}function Qc(e){return e.drawTicks?e.tickLength:0}function Xc(e,t){if(!e.display)return 0;const n=Eo(e.font,t),r=Co(e.padding);return(Ls(e.text)?e.text.length:1)*n.lineHeight+r.height}function Zc(e,t,n){let r=Ra(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class eu extends Hc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=zs(e,Number.POSITIVE_INFINITY),t=zs(t,Number.NEGATIVE_INFINITY),n=zs(n,Number.POSITIVE_INFINITY),r=zs(r,Number.NEGATIVE_INFINITY),{min:zs(e,n),max:zs(t,r),minDefined:Ds(e),maxDefined:Ds(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:zs(n,zs(r,n)),max:zs(r,zs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Us(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=Bs(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(s)),max:a(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?Yc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=$c(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Us(this.options.afterUpdate,[this])}beforeSetDimensions(){Us(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Us(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Us(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Us(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=Us(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Us(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Us(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Gc(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=ka(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),u+6>s&&(s=h/(n-(e.offset?.5:1)),a=this.maxHeight-Qc(e.grid)-t.padding-Xc(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=va(Math.min(Math.asin(ka((c.highest.height+6)/s,-1,1)),Math.asin(ka(a/o,-1,1))-Math.asin(ka(d/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Us(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Us(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=Xc(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=Qc(i)+s):(e.height=this.maxHeight,e.width=Qc(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=ma(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===i?d=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Us(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Rs(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Yc(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],o=Math.floor(t/Gc(t,n));let l,c,u,d,h,f,p,g,m,v,b,y=0,x=0;for(l=0;l<t;l+=o){if(d=e[l].label,h=this._resolveTickFontOptions(l),r.font=f=h.string,p=i[f]=i[f]||{data:{},gc:[]},g=h.lineHeight,m=v=0,Rs(d)||Ls(d)){if(Ls(d))for(c=0,u=d.length;c<u;++c)b=d[c],Rs(b)||Ls(b)||(m=ro(r,p.data,p.gc,m,b),v+=g)}else m=ro(r,p.data,p.gc,m,d),v=g;s.push(m),a.push(v),y=Math.max(m,y),x=Math.max(v,x)}!function(e,t){Ws(e,e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}})}(i,t);const w=s.indexOf(y),_=a.indexOf(x),S=e=>({width:s[e]||0,height:a[e]||0});return{first:S(0),last:S(t-1),widest:S(w),highest:S(_),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return ka(e,-32768,32767)}(this._alignToPixels?so(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return No(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=No(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=ma(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=Qc(i),d=[],h=a.setContext(this.getContext()),f=h.display?h.width:0,p=f/2,g=function(e){return so(n,e,f)};let m,v,b,y,x,w,_,S,k,j,C,E;if("top"===s)m=g(this.bottom),w=this.bottom-u,S=m-p,j=g(e.top)+p,E=e.bottom;else if("bottom"===s)m=g(this.top),j=e.top,E=g(e.bottom)-p,w=m+p,S=this.top+u;else if("left"===s)m=g(this.right),x=this.right-u,_=m-p,k=g(e.left)+p,C=e.right;else if("right"===s)m=g(this.left),k=e.left,C=g(e.right)-p,x=m+p,_=this.left+u;else if("x"===t){if("center"===s)m=g((e.top+e.bottom)/2+.5);else if(Is(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}j=e.top,E=e.bottom,w=m+p,S=w+u}else if("y"===t){if("center"===s)m=g((e.left+e.right)/2);else if(Is(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}x=m-p,_=x-u,k=e.left,C=e.right}const P=Fs(r.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/P));for(v=0;v<c;v+=N){const e=this.getContext(v),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],h=r.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;b=Jc(this,v,o),void 0!==b&&(y=so(n,b,s),l?x=_=k=C=y:w=S=j=E=y,d.push({tx1:x,ty1:w,tx2:_,ty2:S,x1:k,y1:j,x2:C,y2:E,width:s,color:c,borderDash:u,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,d=Qc(n.grid),h=d+c,f=u?-c:h,p=-ma(this.labelRotation),g=[];let m,v,b,y,x,w,_,S,k,j,C,E,P="middle";if("top"===r)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(Is(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-h;else if(Is(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?P="top":"end"===o&&(P="bottom"));const N=this._getLabelSizes();for(m=0,v=a.length;m<v;++m){b=a[m],y=b.label;const e=i.setContext(this.getContext(m));S=this.getPixelForTick(m)+i.labelOffset,k=this._resolveTickFontOptions(m),j=k.lineHeight,C=Ls(y)?y.length:1;const t=C/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(s?(x=S,"inner"===_&&(h=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),E="top"===r?"near"===l||0!==p?-C*j+j/2:"center"===l?-N.highest.height/2-t*j+j:-N.highest.height+j/2:"near"===l||0!==p?j/2:"center"===l?N.highest.height/2-t*j:N.highest.height-C*j,u&&(E*=-1),0===p||e.showLabelBackdrop||(x+=j/2*Math.sin(p))):(w=S,E=(1-C)*j/2),e.showLabelBackdrop){const t=Co(e.backdropPadding),n=N.heights[m],r=N.widths[m];let i=E-t.top,s=0-t.left;switch(P){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":m===v-1?s-=r:m>0&&(s-=r/2)}d={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:y,font:k,textOffset:E,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:P,translation:[x,w],backdrop:d}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ma(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=so(e,this.left,s)-s/2,c=so(e,this.right,a)+a/2,u=d=o):(u=so(e,this.top,s)-s/2,d=so(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&uo(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;vo(t,i.label,0,i.textOffset,n,e)}n&&ho(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Eo(n.font),s=Co(n.padding),a=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||Is(t)?(o+=s.bottom,Ls(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,f,p=0;const g=a-i,m=o-s;if(e.isHorizontal()){if(h=La(r,s,o),Is(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:Kc(e,n,t);d=o-s}else{if(Is(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-m+t}else h="center"===n?(c.left+c.right)/2-m+t:Kc(e,n,t);f=La(r,a,i),p="left"===n?-oa:oa}return{titleX:h,titleY:f,maxWidth:d,rotation:p}}(this,o,t,a);vo(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:Zc(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Fs(e.grid&&e.grid.z,-1),r=Fs(e.border&&e.border.z,0);return this._isVisible()&&this.draw===eu.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Eo(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class tu{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=Ks(Object.create(null),[n?no.get(n):{},no.get(t),e.defaults]);no.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");no.route(s,i,l,o)})}(t,e.defaultRoutes);e.descriptors&&no.describe(t,e.descriptors)}(e,s,n),this.override&&no.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in no[r]&&(delete no[r][n],this.override&&delete Qa[n])}}class nu{constructor(){this.controllers=new tu(Ul,"datasets",!0),this.elements=new tu(Hc,"elements"),this.plugins=new tu(Object,"plugins"),this.scales=new tu(eu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):Ws(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=Xs(e);Us(n["before"+r],[],n),t[e](n),Us(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var ru=new nu;class iu{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===Us(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){Rs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Fs(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(ru.plugins.items);for(let s=0;s<r.length;s++)n.push(ru.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const a=[],o=e.getContext();for(const l of i){const t=l.id,i=su(n[t],r);null!==i&&a.push({plugin:l,options:au(e.config,{plugin:l,local:s[t]},i,o)})}return a}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function su(e,t){return t||!1!==e?!0===e?{}:e:null}function au(e,t,n,r){let{plugin:i,local:s}=t;const a=e.pluginScopeKeys(i),o=e.getOptionScopes(n,a);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ou(e,t){const n=no.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function lu(e){if("x"===e||"y"===e||"r"===e)return e}function cu(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function uu(e){if(lu(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||cu(i.position)||e.length>1&&lu(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function du(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function hu(e,t){const n=Qa[e.type]||{scales:{}},r=t.scales||{},i=ou(e.type,t),s=Object.create(null);return Object.keys(r).forEach(t=>{const a=r[t];if(!Is(a))return console.error("Invalid scale configuration for scale: ".concat(t));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=uu(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return du(e,"x",n[0])||du(e,"y",n[0])}return{}}(t,e),no.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=Gs(Object.create(null),[{axis:o},a,c[o],c[l]])}),e.data.datasets.forEach(n=>{const i=n.type||e.type,a=n.indexAxis||ou(i,t),o=(Qa[i]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),Gs(s[i],[{axis:t},r[i],o[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];Gs(t,[no.scales[t.type],no.scale])}),s}function fu(e){const t=e.options||(e.options={});t.plugins=Fs(t.plugins,{}),t.scales=hu(e,t)}function pu(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const gu=new Map,mu=new Set;function vu(e,t){let n=gu.get(e);return n||(n=t(),gu.set(e,n),mu.add(n)),n}const bu=(e,t,n)=>{const r=Qs(t,n);void 0!==r&&e.add(r)};class yu{constructor(e){this._config=function(e){return(e=e||{}).data=pu(e.data),fu(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pu(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vu(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return vu("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return vu("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return vu("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>bu(o,e,t))),t.forEach(e=>bu(o,r,e)),t.forEach(e=>bu(o,Qa[i]||{},e)),t.forEach(e=>bu(o,no,e)),t.forEach(e=>bu(o,Xa,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),mu.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Qa[t]||{},no.datasets[t]||{},{type:t},no,Xa]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:a}=xu(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=Oo(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&(ea(a)||wu(a))||s&&Ls(a))return!0}return!1}(s,t)){i.$shared=!1;o=Ao(s,n=ea(n)?n():n,this.createResolver(e,n,a))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=xu(this._resolverCache,e,n);return Is(t)?Ao(i,t,void 0,r):i}}function xu(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:To(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(i,s)}return s}const wu=e=>Is(e)&&Object.getOwnPropertyNames(e).some(t=>ea(e[t]));const _u=["top","bottom","left","right","chartArea"];function Su(e,t){return"top"===e||"bottom"===e||-1===_u.indexOf(e)&&"x"===t}function ku(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function ju(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Us(n&&n.onComplete,[e],t)}function Cu(e){const t=e.chart,n=t.options.animation;Us(n&&n.onProgress,[e],t)}function Eu(e){return Qo()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Pu={},Nu=e=>{const t=Eu(e);return Object.values(Pu).filter(e=>e.canvas===t).pop()};function Tu(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}class Au{static register(){ru.add(...arguments),Ou()}static unregister(){ru.remove(...arguments),Ou()}constructor(e,t){const n=this.config=new yu(t),r=Eu(e),i=Nu(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!Qo()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Pc:Vc}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=Ms(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new iu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),s.resizeDelay||0),this._dataChanges=[],Pu[this.id]=this,a&&o?(jl.listen(this,"complete",ju),jl.listen(this,"progress",Cu),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return Rs(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ru}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():al(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ao(this.canvas,this.ctx),this}stop(){return jl.stop(this),this}resize(e,t){jl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,al(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),Us(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Ws(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const n=t[e],r=uu(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}}))),Ws(i,t=>{const i=t.options,s=i.id,a=uu(s,i),o=Fs(i.type,t.dtype);void 0!==i.position&&Su(i.position,a)===Su(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(ru.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)}),Ws(r,(e,t)=>{e||delete n[t]}),Ws(n,e=>{Cc.configure(this,e,e.options),Cc.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(ku("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||ou(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=ru.getController(s),{datasetElementType:r,dataElementType:a}=no.datasets[s];Object.assign(t,{dataElementType:ru.getElement(a),datasetElementType:r&&ru.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){Ws(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||Ws(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ku("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ws(this.scales,e=>{Cc.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);ta(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){Tu(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let i=1;i<t;i++)if(!ta(r,n(i)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Cc.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ws(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ea(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(jl.has(this)?this.attached&&!jl.running(this)&&jl.start(this):(this.draw(),ju({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=Sl(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&uo(t,r),e.controller.draw(),r&&ho(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return co(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=fc.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=No(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);Zs(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),jl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ao(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Pu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Ws(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){Ws(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ws(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,a,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){s=e[a];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}});!Vs(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),s=i(t,e),a=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,Us(i.onHover,[e,a,this],this),o&&Us(i.onClick,[e,a,this],this));const c=!Vs(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function Ou(){return Ws(Au.instances,e=>e._plugins.invalidate())}function Mu(e,t,n,r){const i=function(e){return So(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(n-t)/2,a=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return ka(e,0,Math.min(s,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:ka(i.innerStart,0,a),innerEnd:ka(i.innerEnd,0,a)}}function Ru(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Lu(e,t,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(d>0?d-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const g=(p-Math.max(.001,p*d-n/na)/d)/2,m=l+g+f,v=i-g-f,{outerStart:b,outerEnd:y,innerStart:x,innerEnd:w}=Mu(t,h,d,v-m),_=d-b,S=d-y,k=m+b/_,j=v-y/S,C=h+x,E=h+w,P=m+x/C,N=v-w/E;if(e.beginPath(),s){const t=(k+j)/2;if(e.arc(a,o,d,k,t),e.arc(a,o,d,t,j),y>0){const t=Ru(S,j,a,o);e.arc(t.x,t.y,y,j,v+oa)}const n=Ru(E,v,a,o);if(e.lineTo(n.x,n.y),w>0){const t=Ru(E,N,a,o);e.arc(t.x,t.y,w,v+oa,N+Math.PI)}const r=(v-w/h+(m+x/h))/2;if(e.arc(a,o,h,v-w/h,r,!0),e.arc(a,o,h,r,m+x/h,!0),x>0){const t=Ru(C,P,a,o);e.arc(t.x,t.y,x,P+Math.PI,m-oa)}const i=Ru(_,m,a,o);if(e.lineTo(i.x,i.y),b>0){const t=Ru(_,k,a,o);e.arc(t.x,t.y,b,m-oa,k)}}else{e.moveTo(a,o);const t=Math.cos(k)*d+a,n=Math.sin(k)*d+o;e.lineTo(t,n);const r=Math.cos(j)*d+a,i=Math.sin(j)*d+o;e.lineTo(r,i)}e.closePath()}function Iu(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(s){Lu(e,t,n,r,g,i);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(g=a+(o%ra||ra))}p&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(s,a,o,r-c,n+c),l>i?(c=i/l,e.arc(s,a,l,n+c,r-c,!0)):e.arc(s,a,i,n+oa,r-oa),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-a>=na&&0===f&&"miter"!==u&&function(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/a,_a(r-n));if(e.beginPath(),e.arc(i,s,a-c/2,r+d/2,n-d/2),o>0){const t=Math.min(c/o,_a(r-n));e.arc(i,s,o+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,a*_a(r-n));if("round"===u)e.arc(i,s,t,n-na/2,r+na/2,!0);else if("bevel"===u){const a=2*t*t,o=-a*Math.cos(n+na/2)+i,l=-a*Math.sin(n+na/2)+s,c=a*Math.cos(r+na/2)+i,u=a*Math.sin(r+na/2)+s;e.lineTo(o,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),s||(Lu(e,t,n,r,g,i),e.stroke())}Lr(Au,"defaults",no),Lr(Au,"instances",Pu),Lr(Au,"overrides",Qa),Lr(Au,"registry",ru),Lr(Au,"version","4.5.0"),Lr(Au,"getChart",Nu);class Du extends Hc{constructor(e){super(),Lr(this,"circumference",void 0),Lr(this,"endAngle",void 0),Lr(this,"fullCircles",void 0),Lr(this,"innerRadius",void 0),Lr(this,"outerRadius",void 0),Lr(this,"pixelMargin",void 0),Lr(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=ya(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=Fs(u,o-a),f=Sa(i,a,o)&&a!==o,p=h>=ra||f,g=ja(s,l+d,c+d);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,u=(s+a+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>ra?Math.floor(n/ra):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(na,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let l=t.endAngle;if(s){Lu(e,t,n,r,l,i);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=a+(o%ra||ra))}Lu(e,t,n,r,l,i),e.fill()}(e,this,o,i,s),Iu(e,this,o,i,s),e.restore()}}function zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Fs(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Fs(n.borderDash,t.borderDash)),e.lineDashOffset=Fs(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Fs(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Fs(n.borderWidth,t.borderWidth),e.strokeStyle=Fs(n.borderColor,t.borderColor)}function Fu(e,t,n){e.lineTo(n.x,n.y)}function Bu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function Uu(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=Bu(i,n,r),u=function(e){return e.stepped?fo:e.tension||"monotone"===e.cubicInterpolationMode?po:Fu}(s);let d,h,f,{move:p=!0,reverse:g}=r||{};for(d=0;d<=c;++d)h=i[(o+(g?c-d:d))%a],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):u(e,f,h,g,s.stepped),f=h);return l&&(h=i[(o+(g?c:0))%a],u(e,f,h,g,s.stepped)),!!l}function Wu(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=Bu(i,n,r),{move:l=!0,reverse:c}=r||{};let u,d,h,f,p,g,m=0,v=0;const b=e=>(a+(c?o-e:e))%s,y=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(d=i[b(0)],e.moveTo(d.x,d.y)),u=0;u<=o;++u){if(d=i[b(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<f?f=n:n>p&&(p=n),m=(v*m+t)/++v):(y(),e.lineTo(t,n),h=r,v=0,f=p=n),g=n}y()}function Vu(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Wu:Uu}Lr(Du,"id","arc"),Lr(Du,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Lr(Du,"defaultRoutes",{backgroundColor:"backgroundColor"}),Lr(Du,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Hu="function"===typeof Path2D;function $u(e,t,n,r){Hu&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),zu(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,a=Vu(t);for(const o of i)zu(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class qu extends Hc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Jo(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return yl(e,!0===r?[{start:a,end:o,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(a-1)%i,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:r}),s}(n,a,o<a?o+i:o,!!e._fullLoop&&0===a&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=bl(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],o=function(e){return e.stepped?ul:e.tension||"monotone"===e.cubicInterpolationMode?dl:cl}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],d=i[c],h=i[u];if(d===h){a.push(d);continue}const f=o(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return Vu(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=Vu(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)s&=i(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),$u(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ku(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}Lr(qu,"id","line"),Lr(qu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Lr(qu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Lr(qu,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Gu extends Hc{constructor(e){super(),Lr(this,"parsed",void 0),Lr(this,"skip",void 0),Lr(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Ku(this,e,"x",t)}inYRange(e,t){return Ku(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!co(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,oo(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Yu(e,t){const{x:n,y:r,base:i,width:s,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,d;return e.horizontal?(d=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=s/2,o=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function Ju(e,t,n,r){return e?0:ka(t,n,r)}function Qu(e){const t=Yu(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=ko(r);return{t:Ju(i.top,s.top,0,n),r:Ju(i.right,s.right,0,t),b:Ju(i.bottom,s.bottom,0,n),l:Ju(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=jo(i),a=Math.min(t,n),o=e.borderSkipped,l=r||Is(i);return{topLeft:Ju(!l||o.top||o.left,s.topLeft,0,a),topRight:Ju(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Ju(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Ju(!l||o.bottom||o.right,s.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Xu(e,t,n,r){const i=null===t,s=null===n,a=e&&!(i&&s)&&Yu(e,r);return a&&(i||ja(t,a.left,a.right))&&(s||ja(n,a.top,a.bottom))}function Zu(e,t){e.rect(t.x,t.y,t.w,t.h)}function ed(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+a,radius:e.radius}}Lr(Gu,"id","point"),Lr(Gu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Lr(Gu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class td extends Hc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=Qu(this),a=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?bo:Zu;var o;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),a(e,ed(s,t,i)),e.clip(),a(e,ed(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,ed(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Xu(this,e,t,n)}inXRange(e,t){return Xu(this,e,null,t)}inYRange(e,t){return Xu(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Lr(td,"id","bar"),Lr(td,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Lr(td,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const nd=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class rd extends Hc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Us(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Eo(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=nd(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;i.textAlign="left",i.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,h+=c,d++),o[f]={left:0,top:h,row:d,width:p,height:r},l[l.length-1]+=p+a}),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=a,d=0,h=0,f=0,p=0;return this.legendItems.forEach((e,s)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=id(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}(n,t,i,e,r);s>0&&h+m+2*a>c&&(u+=d+a,l.push({width:d,height:h}),f+=d+a,p++,d=h=0),o[s]={left:f,top:h,col:p,width:g,height:m},d=Math.max(d,g),h+=m+a}),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=hl(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=La(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,a=La(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+r}else{let i=0,a=La(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,a=La(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=a,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;uo(e,this),this._draw(),ho(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=no.color,o=hl(e.rtl,this.left,this.width),l=Eo(s.font),{padding:c}=s,u=l.size,d=u/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=nd(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();h=m?{x:La(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:La(i,this.top+v+c,this.bottom-t[0].height),line:0},fl(this.ctx,e.textDirection);const b=g+c;this.legendItems.forEach((y,x)=>{r.strokeStyle=y.fontColor,r.fillStyle=y.fontColor;const w=r.measureText(y.text).width,_=o.textAlign(y.textAlign||(y.textAlign=s.textAlign)),S=f+d+w;let k=h.x,j=h.y;o.setWidth(this.width),m?x>0&&k+S+c>this.right&&(j=h.y+=b,h.line++,k=h.x=La(i,this.left+c,this.right-n[h.line])):x>0&&j+b>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,j=h.y=La(i,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=Fs(n.lineWidth,1);if(r.fillStyle=Fs(n.fillStyle,a),r.lineCap=Fs(n.lineCap,"butt"),r.lineDashOffset=Fs(n.lineDashOffset,0),r.lineJoin=Fs(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Fs(n.strokeStyle,a),r.setLineDash(Fs(n.lineDash,[])),s.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);lo(r,a,l,t+d,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),a=o.leftForLtr(e,f),l=jo(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?bo(r,{x:a,y:s,w:f,h:p,radius:l}):r.rect(a,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(k),j,y),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,k+f+d,m?k+S:this.right,e.rtl),function(e,t,n){vo(r,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(k),j,y),m)h.x+=S+c;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=id(y,e)+c}else h.y+=b}),pl(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Eo(t.font),r=Co(t.padding);if(!t.display)return;const i=hl(e.rtl,this.left,this.width),s=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=La(e.align,u,this.right-d);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+La(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=La(a,u,u+d);s.textAlign=i.textAlign(Ra(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,vo(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Eo(e.font),n=Co(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(ja(e,this.left,this.right)&&ja(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],ja(e,r.left,r.left+r.width)&&ja(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&Us(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&Us(t.onHover,[e,n,this],this)}else n&&Us(t.onClick,[e,n,this],this)}}function id(e,t){return t*(e.text?e.text.length:0)}var sd={id:"legend",_element:rd,start(e,t,n){const r=e.legend=new rd({ctx:e.ctx,options:n,chart:e});Cc.configure(e,r,n),Cc.addBox(e,r)},stop(e){Cc.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Cc.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=Co(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ad extends Hc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Ls(n.text)?n.text.length:1;this._padding=Co(n.padding);const i=r*Eo(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let o,l,c,u=0;return this.isHorizontal()?(l=La(a,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=La(a,r,t),u=-.5*na):(l=i-e,c=La(a,t,r),u=.5*na),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Eo(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:o}=this._drawArgs(r);vo(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:Ra(t.align),textBaseline:"middle",translation:[i,s]})}}var od={id:"title",_element:ad,start(e,t,n){!function(e,t){const n=new ad({ctx:e.ctx,options:t,chart:e});Cc.configure(e,n,t),Cc.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Cc.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Cc.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ld={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;const a=[...r].reduce((e,t)=>e+t)/r.size;return{x:a,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=xa(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function cd(e,t){return t&&(Ls(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ud(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function dd(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function hd(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=Eo(t.bodyFont),c=Eo(t.titleFont),u=Eo(t.footerFont),d=s.length,h=i.length,f=r.length,p=Co(t.padding);let g=p.height,m=0,v=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){g+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let b=0;const y=function(e){m=Math.max(m,n.measureText(e).width+b)};return n.save(),n.font=c.string,Ws(e.title,y),n.font=l.string,Ws(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?a+2+t.boxPadding:0,Ws(r,e=>{Ws(e.before,y),Ws(e.lines,y),Ws(e.after,y)}),b=0,n.font=u.string,Ws(e.footer,y),n.restore(),m+=p.width,{width:m,height:g}}function fd(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+s+a>t.width||"right"===e&&i-s-a<0||void 0}(c,e,t,n)&&(c="center"),c}function pd(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||fd(e,t,n,r),yAlign:r}}function gd(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=jo(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const g=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,h)+i:"right"===o&&(p+=Math.max(d,f)+i),{x:ka(p,0,r.width-t.width),y:ka(g,0,r.height-t.height)}}function md(e,t,n){const r=Co(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function vd(e){return cd([],ud(e))}function bd(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const yd={beforeTitle:Os,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Os,beforeBody:Os,beforeLabel:Os,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Rs(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Os,afterBody:Os,beforeFooter:Os,footer:Os,afterFooter:Os};function xd(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?yd[t].call(n,r):i}class wd extends Hc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Nl(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,No(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=xd(n,"beforeTitle",this,e),i=xd(n,"title",this,e),s=xd(n,"afterTitle",this,e);let a=[];return a=cd(a,ud(r)),a=cd(a,ud(i)),a=cd(a,ud(s)),a}getBeforeBody(e,t){return vd(xd(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return Ws(e,e=>{const t={before:[],lines:[],after:[]},i=bd(n,e);cd(t.before,ud(xd(i,"beforeLabel",this,e))),cd(t.lines,xd(i,"label",this,e)),cd(t.after,ud(xd(i,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return vd(xd(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=xd(n,"beforeFooter",this,e),i=xd(n,"footer",this,e),s=xd(n,"afterFooter",this,e);let a=[];return a=cd(a,ud(r)),a=cd(a,ud(i)),a=cd(a,ud(s)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(dd(this.chart,t[a]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),Ws(l,t=>{const n=bd(e.callbacks,t);r.push(xd(n,"labelColor",this,t)),i.push(xd(n,"labelPointStyle",this,t)),s.push(xd(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=ld[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=hd(this,n),a=Object.assign({},e,t),o=pd(this.chart,n,a),l=gd(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=jo(a),{x:d,y:h}=e,{width:f,height:p}=t;let g,m,v,b,y,x;return"center"===i?(y=h+p/2,"left"===r?(g=d,m=g-s,b=y+s,x=y-s):(g=d+f,m=g+s,b=y-s,x=y+s),v=g):(m="left"===r?d+Math.max(o,c)+s:"right"===r?d+f-Math.max(l,u)-s:this.caretX,"top"===i?(b=h,y=b-s,g=m-s,v=m+s):(b=h+p,y=b+s,g=m+s,v=m-s),x=b),{x1:g,x2:m,x3:v,y1:b,y2:y,y3:x}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,o;if(i){const l=hl(n.rtl,this.x,this.width);for(e.x=md(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Eo(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=Eo(i.bodyFont),u=md(this,"left",i),d=r.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,oo(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,oo(e,t,n,c)}else{e.lineWidth=Is(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(d,l),n=r.leftForLtr(r.xPlus(d,1),l-2),a=jo(s.borderRadius);Object.values(a).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,bo(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),bo(e,{x:n,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=Eo(n.bodyFont);let d=u.lineHeight,h=0;const f=hl(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+h),e.y+d/2),e.y+=d+i},g=f.textAlign(s);let m,v,b,y,x,w,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=md(this,g,n),t.fillStyle=n.bodyColor,Ws(this.beforeBody,p),h=a&&"right"!==g?"center"===s?l/2+c:l+2+c:0,y=0,w=r.length;y<w;++y){for(m=r[y],v=this.labelTextColors[y],t.fillStyle=v,Ws(m.before,p),b=m.lines,a&&b.length&&(this._drawColorBox(t,e,y,f,n),d=Math.max(u.lineHeight,o)),x=0,_=b.length;x<_;++x)p(b[x]),d=u.lineHeight;Ws(m.after,p)}h=0,d=u.lineHeight,Ws(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const o=hl(n.rtl,this.x,this.width);for(e.x=md(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=Eo(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=jo(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l-d,o),t.quadraticCurveTo(a+l,o,a+l,o+d),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-f),t.quadraticCurveTo(a+l,o+c,a+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+h,o+c),t.quadraticCurveTo(a,o+c,a,o+c-h),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,o+u),t.quadraticCurveTo(a,o,a+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=ld[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=hd(this,e),a=Object.assign({},n,this._size),o=pd(t,e,a),l=gd(e,a,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Co(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),fl(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),pl(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),i=!Vs(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),o=t||!Vs(s,i)||a;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=ld[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}Lr(wd,"positioners",ld);var _d={id:"tooltip",_element:wd,positioners:ld,afterInit(e,t,n){n&&(e.tooltip=new wd({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Dr(Dr({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Sd(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function kd(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class jd extends eu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Rs(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:ka(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Sd(n,e,Fs(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return kd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Cd(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=i||1,f=c-1,{min:p,max:g}=t,m=!Rs(s),v=!Rs(a),b=!Rs(l),y=(g-p)/(u+1);let x,w,_,S,k=fa((g-p)/f/h)*h;if(k<1e-14&&!m&&!v)return[{value:p},{value:g}];S=Math.ceil(g/k)-Math.floor(p/k),S>f&&(k=fa(S*k/f/h)*h),Rs(o)||(x=Math.pow(10,o),k=Math.ceil(k*x)/x),"ticks"===r?(w=Math.floor(p/k)*k,_=Math.ceil(g/k)*k):(w=p,_=g),m&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-s)/i,k/1e3)?(S=Math.round(Math.min((a-s)/k,c)),k=(a-s)/S,w=s,_=a):b?(w=m?s:w,_=v?a:_,S=l-1,k=(_-w)/S):(S=(_-w)/k,S=ha(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const j=Math.max(ba(k),ba(w));x=Math.pow(10,Rs(o)?j:o),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let C=0;for(m&&(d&&w!==s?(n.push({value:s}),w<s&&C++,ha(Math.round((w+C*k)*x)/x,s,Ed(s,y,e))&&C++):w<s&&C++);C<S;++C){const e=Math.round((w+C*k)*x)/x;if(v&&e>a)break;n.push({value:e})}return v&&d&&_!==a?n.length&&ha(n[n.length-1].value,a,Ed(a,y,e))?n[n.length-1].value=a:n.push({value:a}):v&&_!==a||n.push({value:_}),n}function Ed(e,t,n){let{horizontal:r,minRotation:i}=n;const s=ma(i),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}Lr(jd,"id","category"),Lr(jd,"defaults",{ticks:{callback:kd}});class Pd extends eu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Rs(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=da(r),t=da(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Cd({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ga(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Ga(e,this.chart.options.locale,this.options.ticks.format)}}class Nd extends Pd{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ds(e)?e:0,this.max=Ds(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=ma(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Lr(Nd,"id","linear"),Lr(Nd,"defaults",{ticks:{callback:Ja.formatters.numeric}});const Td=e=>Math.floor(ua(e)),Ad=(e,t)=>Math.pow(10,Td(e)+t);function Od(e){return 1===e/Math.pow(10,Td(e))}function Md(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function Rd(e,t){let{min:n,max:r}=t;n=zs(e.min,n);const i=[],s=Td(n);let a=function(e,t){let n=Td(t-e);for(;Md(e,t,n)>10;)n++;for(;Md(e,t,n)<10;)n--;return Math.min(n,Td(e))}(n,r),o=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=s>a?Math.pow(10,s):0,u=Math.round((n-c)*o)/o,d=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((u-d)/Math.pow(10,a)),f=zs(e.min,Math.round((c+d+h*Math.pow(10,a))*o)/o);for(;f<r;)i.push({value:f,major:Od(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,o=a>=0?1:o),f=Math.round((c+d+h*Math.pow(10,a))*o)/o;const p=zs(e.max,f);return i.push({value:p,major:Od(p),significand:h}),i}class Ld extends eu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Pd.prototype.parse.apply(this,[e,t]);if(0!==n)return Ds(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ds(e)?Math.max(0,e):null,this.max=Ds(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ds(this._userMin)&&(this.min=e===Ad(this.min,0)?Ad(this.min,-1):Ad(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,s=e=>r=t?r:e;n===r&&(n<=0?(i(1),s(10)):(i(Ad(n,-1)),s(Ad(r,1)))),n<=0&&i(Ad(r,-1)),r<=0&&s(Ad(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=Rd({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&ga(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Ga(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ua(e),this._valueRange=ua(this.max)-ua(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ua(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Id(e){const t=e.ticks;if(t.display&&e.display){const e=Co(t.backdropPadding);return Fs(t.font&&t.font.size,no.font.size)+e.height}return 0}function Dd(e,t,n){return n=Ls(n)?n:[n],{w:io(e,t.string,n),h:n.length*t.lineHeight}}function zd(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Fd(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?na/s:0;for(let l=0;l<s;l++){const s=a.setContext(e.getPointLabelContext(l));i[l]=s.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],o),u=Eo(s.font),d=Dd(e.ctx,u,e._pointLabels[l]);r[l]=d;const h=_a(e.getIndexAngle(l)+o),f=Math.round(va(h));Bd(n,t,h,zd(f,c.x,d.w,0,180),zd(f,c.y,d.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:Id(s)/2,additionalAngle:a?na/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=Ud(e,u,l);r.push(i),"auto"===o&&(i.visible=Wd(i,c),i.visible&&(c=i))}return r}(e,r,i)}function Bd(e,t,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function Ud(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=e.getPointPosition(t,r+i+a,s),c=Math.round(va(_a(l.angle+oa))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+o.w,bottom:u+o.h}}function Wd(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(co({x:n,y:r},t)||co({x:n,y:s},t)||co({x:i,y:r},t)||co({x:i,y:s},t))}function Vd(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=t;if(!Rs(o)){const n=jo(t.borderRadius),l=Co(t.backdropPadding);e.fillStyle=o;const c=r-l.left,u=i-l.top,d=s-r+l.width,h=a-i+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),bo(e,{x:c,y:u,w:d,h:h,radius:n}),e.fill()):e.fillRect(c,u,d,h)}}function Hd(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,ra);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}Lr(Ld,"id","logarithmic"),Lr(Ld,"defaults",{ticks:{callback:Ja.formatters.logarithmic,major:{enabled:!0}}});class $d extends Pd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Co(Id(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ds(e)&&!isNaN(e)?e:0,this.max=Ds(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Id(this.options))}generateTickLabels(e){Pd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=Us(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?Fd(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return _a(e*(ra/(this._pointLabels.length||1))+ma(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Rs(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Rs(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return No(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-oa+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Hd(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let a,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));Vd(n,s,t);const a=Eo(s.font),{x:o,y:l,textAlign:c}=t;vo(n,e._pointLabels[i],o,l+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const s=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),Hd(e,n,a,r),s.closePath(),s.stroke(),s.restore())}(this,a,o,s,l)}}),n.display){for(e.save(),a=s-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:s}=r;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(a)),l=Eo(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){e.font=l.string,s=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=Co(o.backdropPadding);e.fillRect(-s/2-t.left,-i-l.size/2-t.top,s+t.width,l.size+t.height)}vo(e,r.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}Lr($d,"id","radialLinear"),Lr($d,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ja.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Lr($d,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Lr($d,"descriptors",{angleLines:{_fallback:"grid"}});const qd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kd=Object.keys(qd);function Gd(e,t){return e-t}function Yd(e,t){if(Rs(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),Ds(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!pa(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function Jd(e,t,n,r){const i=Kd.length;for(let s=Kd.indexOf(e);s<i-1;++s){const e=qd[Kd[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return Kd[s]}return Kd[i-1]}function Qd(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Ca(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function Xd(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class Zd extends eu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new ac(e.adapters.date);r.init(t),Gs(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Yd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function o(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=Ds(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=Ds(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?Jd(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=Kd.length-1;s>=Kd.indexOf(n);s--){const n=Kd[s];if(qd[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return Kd[n?Kd.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Kd.indexOf(e)+1,n=Kd.length;t<n;++t)if(qd[Kd[t]].common)return Kd[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),Xd(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=ka(r,0,s),i=ka(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||Jd(i.minUnit,t,n,this._getLabelCapacity(t)),a=Fs(r.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=pa(o)||!0===o,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,a,s),d++)Qd(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==d||Qd(c,u,f),Object.keys(c).sort(Gd).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return Us(s,[e,t,n],this);const a=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=ma(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Xd(this,[e],this._majorUnit),r),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(Yd(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Aa(e.sort(Gd))}}function eh(e,t,n){let r,i,s,a,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Ea(e,"pos",t)),({pos:r,time:s}=e[o]),({pos:i,time:a}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Ea(e,"time",t)),({time:r,pos:s}=e[o]),({time:i,pos:a}=e[l]));const c=i-r;return c?s+(a-s)*(t-r)/c:s}Lr(Zd,"id","time"),Lr(Zd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class th extends Zd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=eh(t,this.min),this._tableRange=eh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;++s)l=e[s],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)c=r[s+1],o=r[s-1],l=r[s],Math.round((c+o)/2)!==l&&i.push({time:l,pos:s/(a-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(eh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return eh(this._table,n*this._tableRange+this._minPos,!0)}}Lr(th,"id","timeseries"),Lr(th,"defaults",Zd.defaults);const nh=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],rh="label";function ih(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function sh(e,t){e.labels=t}function ah(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rh;const r=[];e.datasets=t.map(t=>{const i=e.datasets.find(e=>e[n]===t[n]);return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):Dr({},t)})}function oh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rh;const n={labels:[],datasets:[]};return sh(n,e.labels),ah(n,e.datasets,t),n}function lh(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h}=e,f=Zr(e,nh),p=(0,i.useRef)(null),g=(0,i.useRef)(null),m=()=>{p.current&&(g.current=new Au(p.current,{type:o,data:oh(l,a),options:c&&Dr({},c),plugins:u}),ih(t,g.current))},v=()=>{ih(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,i.useEffect)(()=>{!s&&g.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,c)},[s,c]),(0,i.useEffect)(()=>{!s&&g.current&&sh(g.current.config.data,l.labels)},[s,l.labels]),(0,i.useEffect)(()=>{!s&&g.current&&l.datasets&&ah(g.current.config.data,l.datasets,a)},[s,l.datasets]),(0,i.useEffect)(()=>{g.current&&(s?(v(),setTimeout(m)):g.current.update(h))},[s,c,l.labels,l.datasets,h]),(0,i.useEffect)(()=>{g.current&&(v(),setTimeout(m))},[o]),(0,i.useEffect)(()=>(m(),()=>v()),[]),i.createElement("canvas",Dr({ref:p,role:"img",height:n,width:r},f),d)}const ch=(0,i.forwardRef)(lh);function uh(e,t){return Au.register(t),(0,i.forwardRef)((t,n)=>i.createElement(ch,Dr(Dr({},t),{},{ref:n,type:e})))}const dh=uh("line",Zl);Au.register(jd,Nd,Gu,qu,od,_d,sd);const hh=e=>{var t;let{course:n}=e;if(null===n||void 0===n||null===(t=n.Assignments)||void 0===t||!t.Assignment)return null;const r=n.Assignments.Assignment.map(e=>e["@Measure"]),i=n.Assignments.Assignment.map(e=>{const t=e["@Score"].split("/");if(2!==t.length)return null;const n=parseFloat(t[0]),r=parseFloat(t[1]);return isNaN(n)||isNaN(r)||0===r?null:n/r*100}).filter(e=>null!==e),s={labels:r,datasets:[{label:"Assignment Score (%)",data:i,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.5)",tension:.1}]},a={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Grade Trajectory for ".concat(n["@Title"])}},scales:{y:{min:0,max:100}}};return(0,Wr.jsx)(dh,{options:a,data:s})},fh=()=>{var e,t,n;const[r,s]=(0,i.useState)({districtUrl:"",username:"",password:""}),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(null),p=e=>{s(Dr(Dr({},r),{},{[e.target.name]:e.target.value}))};return(0,Wr.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"StudentVue Connect"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Monitor your student's academic progress in real-time."})]}),(0,Wr.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:(0,Wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),d(""),o(null),f(null);try{var t,n,i;const e=await fetch("/studentvue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await e.json();if(!e.ok||!s.success)throw new Error(s.message||"Failed to fetch data.");o(s.data),f((null===(t=s.data.gradebook)||void 0===t||null===(n=t.Courses)||void 0===n||null===(i=n.Course)||void 0===i?void 0:i[0])||null)}catch(s){console.error("StudentVue fetch error:",s.message),d(s.message||"Something went wrong.")}c(!1)},className:"space-y-4",children:[(0,Wr.jsx)("input",{name:"districtUrl",value:r.districtUrl,onChange:p,placeholder:"District URL (e.g., https://portal.yourschool.edu)",className:"w-full p-3 bg-gray-100 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Wr.jsx)("input",{name:"username",value:r.username,onChange:p,placeholder:"Username",className:"w-full p-3 bg-gray-100 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Wr.jsx)("input",{name:"password",type:"password",value:r.password,onChange:p,placeholder:"Password",className:"w-full p-3 bg-gray-100 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u&&(0,Wr.jsx)("p",{className:"text-red-500 text-sm",children:u}),(0,Wr.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 transition-all disabled:bg-gray-400",children:l?"Connecting...":"Fetch Student Data"})]})}),a&&(0,Wr.jsxs)("div",{className:"space-y-6",children:[h&&(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Grade Point Trajectory"}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Visualize assignment performance over time for a selected course."}),(0,Wr.jsx)(hh,{course:h})]}),(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Course Details & Progress"}),(0,Wr.jsx)("ul",{className:"space-y-4",children:null===(e=a.gradebook)||void 0===e||null===(t=e.Courses)||void 0===t||null===(n=t.Course)||void 0===n?void 0:n.map(e=>{var t,n,r,i;const s=(null===(t=e.Assignments)||void 0===t||null===(n=t.Assignment)||void 0===n?void 0:n.length)||0,a=s>0?s/s*100:0;return(0,Wr.jsxs)("li",{className:"p-4 bg-gray-50 rounded-lg border",children:[(0,Wr.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("p",{className:"font-semibold text-lg",children:e["@Title"]}),(0,Wr.jsx)("p",{className:"text-sm text-gray-500",children:e["@Teacher"]})]}),(0,Wr.jsxs)("div",{className:"text-right",children:[(0,Wr.jsx)("span",{className:"font-bold text-2xl text-green-600",children:e["@Grade"]}),(0,Wr.jsx)("button",{onClick:()=>f(e),className:"text-xs text-blue-500 hover:underline ml-2",children:"Show Trend"})]})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsxs)("div",{className:"flex justify-between mb-1 text-xs text-gray-500",children:[(0,Wr.jsx)("span",{children:"Course Progress"}),(0,Wr.jsxs)("span",{children:[a.toFixed(0),"%"]})]}),(0,Wr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,Wr.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(a,"%")}})})]}),(0,Wr.jsxs)("div",{className:"mt-4",children:[(0,Wr.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Recent Assignments:"}),(0,Wr.jsx)("ul",{className:"space-y-2 text-sm",children:null===(r=e.Assignments)||void 0===r||null===(i=r.Assignment)||void 0===i?void 0:i.map(e=>(0,Wr.jsxs)("li",{className:"border-t pt-2",children:[(0,Wr.jsxs)("div",{className:"flex justify-between",children:[(0,Wr.jsx)("span",{children:e["@Measure"]}),(0,Wr.jsx)("span",{className:"font-medium",children:e["@Score"]})]}),e["@Notes"]&&(0,Wr.jsxs)("p",{className:"text-xs text-gray-500 mt-1 italic",children:['Teacher Comment: "',e["@Notes"],'"']})]},e["@Measure"]))})]})]},e["@Title"])})})]})]})]})},ph=e=>{let{onCollegeSelect:t,selectedCollegeId:n}=e;const[r,s]=(0,i.useState)(""),[a,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1);return(0,Wr.jsxs)("div",{className:"space-y-2",children:[(0,Wr.jsxs)("div",{className:"flex gap-2",children:[(0,Wr.jsx)("input",{value:r,onChange:e=>s(e.target.value),placeholder:"Search for a college...",className:"w-full p-2 border rounded-lg bg-gray-50"}),(0,Wr.jsx)("button",{onClick:async()=>{if(!r.trim())return;c(!0);const e=await(t={filters:{"general_info.name":{$regex:r,$options:"i"}},pagination:{limit:5}},Fr("/institutions/search",{method:"POST",body:JSON.stringify(t)}));var t;o(e.data||[]),c(!1)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg",disabled:l,children:l?"...":"Search"})]}),(0,Wr.jsx)("div",{className:"space-y-1",children:a.map(e=>(0,Wr.jsx)("div",{onClick:()=>t(e.unitid),className:"p-2 border rounded-lg cursor-pointer ".concat(n===e.unitid?"bg-blue-100 border-blue-400":"hover:bg-gray-100"),children:e.general_info.name},e.unitid))})]})},gh=e=>{var t,n;let{college:r}=e;return r?(0,Wr.jsxs)("div",{className:"space-y-3",children:[(0,Wr.jsx)("h2",{className:"text-xl font-bold text-blue-800",children:r.general_info.name}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Location:"})," ",r.general_info.city,", ",r.general_info.state]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Admission Rate:"})," ",r.admissions.admission_rate?"".concat((100*r.admissions.admission_rate).toFixed(1),"%"):"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"In-State Tuition:"})," $",(null===(t=r.cost_and_aid.tuition_in_state)||void 0===t?void 0:t.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Out-of-State Tuition:"})," $",(null===(n=r.cost_and_aid.tuition_out_of_state)||void 0===n?void 0:n.toLocaleString())||"N/A"]})]}):(0,Wr.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg text-center text-gray-500",children:"Select a college to see details."})},mh=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)({col1:!1,col2:!1}),o=async(e,n)=>{a(e=>Dr(Dr({},e),{},{[n]:!0}));const i=await Br(e);"col1"===n&&t(i),"col2"===n&&r(i),a(e=>Dr(Dr({},e),{},{[n]:!1}))};return(0,Wr.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\u2696\ufe0f College Comparator"}),(0,Wr.jsx)("p",{className:"text-gray-500 mt-2",children:"Compare two institutions side-by-side."})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Wr.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border space-y-4",children:[(0,Wr.jsx)("h2",{className:"font-bold text-lg",children:"Select College 1"}),(0,Wr.jsx)(ph,{onCollegeSelect:e=>o(e,"col1"),selectedCollegeId:null===e||void 0===e?void 0:e.unitid})]}),(0,Wr.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border space-y-4",children:[(0,Wr.jsx)("h2",{className:"font-bold text-lg",children:"Select College 2"}),(0,Wr.jsx)(ph,{onCollegeSelect:e=>o(e,"col2"),selectedCollegeId:null===n||void 0===n?void 0:n.unitid})]})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Wr.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:s.col1?(0,Wr.jsx)("p",{children:"Loading..."}):(0,Wr.jsx)(gh,{college:e})}),(0,Wr.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:s.col2?(0,Wr.jsx)("p",{children:"Loading..."}):(0,Wr.jsx)(gh,{college:n})})]})]})},vh=e=>{let{title:t,children:n,icon:r}=e;return(0,Wr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:[(0,Wr.jsxs)("div",{className:"flex items-center mb-4",children:[r,(0,Wr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:t})]}),(0,Wr.jsx)("div",{className:"space-y-3 text-gray-600",children:n})]})},bh=e=>{let{min:t,max:n,label:r,range:i=1600}=e;if("number"!==typeof t||"number"!==typeof n)return null;const s=t/i*100,a=(n-t)/i*100;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,Wr.jsx)("span",{children:t}),(0,Wr.jsx)("span",{children:n})]}),(0,Wr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,Wr.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{marginLeft:"".concat(s,"%"),width:"".concat(a,"%")}})}),(0,Wr.jsx)("p",{className:"text-sm text-center mt-1 font-medium",children:r})]})},yh=()=>{var e,t,n,r,s,a,o,l,c,u,d,h,f;const{collegeId:p}=re(),g=ne(),[m,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{p&&(async()=>{y(!0);const e=await Br(p);v(e),y(!1)})()},[p]),b)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Loading College Profile..."});if(!m)return(0,Wr.jsx)("div",{className:"text-center p-10",children:"Could not find college data."});const{general_info:x,cost_and_aid:w,admissions:_,outcomes:S,derivedData:k}=m;return(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("button",{onClick:()=>g(-1),className:"mb-6 bg-white text-gray-800 px-4 py-2 rounded-lg border shadow-sm hover:bg-gray-100 transition-colors",children:"\u2190 Back"}),(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border mb-8",children:[(0,Wr.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900",children:x.name}),(0,Wr.jsxs)("p",{className:"text-xl text-gray-500 mt-1",children:[x.city,", ",x.state]})]}),(0,Wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Wr.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Wr.jsxs)(vh,{title:"Admissions",icon:(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Admission Rate:"})," ",(0,Wr.jsx)("span",{className:"font-bold text-blue-600",children:_.admission_rate?"".concat((100*_.admission_rate).toFixed(1),"%"):"N/A"})]}),(0,Wr.jsx)(bh,{min:null===(e=_.sat_scores)||void 0===e?void 0:e.verbal_25th,max:null===(t=_.sat_scores)||void 0===t?void 0:t.verbal_75th,label:"SAT Evidence-Based Reading and Writing",range:800}),(0,Wr.jsx)(bh,{min:null===(n=_.sat_scores)||void 0===n?void 0:n.math_25th,max:null===(r=_.sat_scores)||void 0===r?void 0:r.math_75th,label:"SAT Math",range:800}),(0,Wr.jsx)(bh,{min:null===(s=_.act_scores)||void 0===s?void 0:s.composite_25th,max:null===(a=_.act_scores)||void 0===a?void 0:a.composite_75th,label:"ACT Composite",range:36})]}),k&&(0,Wr.jsxs)(vh,{title:"Finance & Staffing",icon:(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Total Revenue:"})," $",(null===(o=k.total_revenue)||void 0===o?void 0:o.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Total Expenses:"})," $",(null===(l=k.total_expenses)||void 0===l?void 0:l.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Average Faculty Salary:"})," $",(null===(c=k.avg_faculty_salary)||void 0===c?void 0:c.toLocaleString())||"N/A"]})]})]}),(0,Wr.jsxs)("div",{className:"space-y-6",children:[(0,Wr.jsxs)(vh,{title:"Student Charges",icon:(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"In-State Tuition:"})," $",(null===(u=w.tuition_in_state)||void 0===u?void 0:u.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Out-of-State Tuition:"})," $",(null===(d=w.tuition_out_of_state)||void 0===d?void 0:d.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"% Receiving Pell Grant:"})," ",w.percent_pell_grant||"N/A","%"]})]}),(0,Wr.jsxs)(vh,{title:"Outcomes",icon:(0,Wr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Wr.jsx)("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),(0,Wr.jsx)("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14z"}),(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20"})]}),children:[(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Total Enrollment:"})," ",(null===(h=m.enrollment)||void 0===h||null===(f=h.total)||void 0===f?void 0:f.toLocaleString())||"N/A"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Graduation Rate:"})," ",S.grad_rate_total||"N/A","%"]}),(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)("strong",{children:"Derived Grad Rate (150%):"})," ",(null===k||void 0===k?void 0:k.grad_rate_150_percent_total)||"N/A","%"]})]}),(0,Wr.jsx)("button",{onClick:()=>g("/report/".concat(p)),className:"w-full bg-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-green-700 transition-all transform hover:scale-105",children:"Generate Scholargy Report"})]})]})]})},xh=()=>{const{resetPasswordForEmail:e}=$r(),t=ne(),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-extrabold text-blue-600 mb-2",children:"Reset Password"}),(0,Wr.jsx)("p",{className:"text-gray-500 mb-8",children:"Enter your email to receive a reset link."}),(0,Wr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(""),a(""),u(!0);try{const{error:t}=await e(n);if(t)throw t;a("Password reset link has been sent to your email.")}catch(r){l(r.message||"Failed to send reset link.")}finally{u(!1)}},className:"space-y-4",children:[(0,Wr.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:e=>r(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),o&&(0,Wr.jsx)("p",{className:"text-red-500 text-sm text-left",children:o}),s&&(0,Wr.jsx)("p",{className:"text-green-500 text-sm text-left",children:s}),(0,Wr.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:c?"Sending...":"Send Reset Link"})]}),(0,Wr.jsx)("div",{className:"mt-6 text-sm",children:(0,Wr.jsx)("button",{onClick:()=>t("/login"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to Login"})})]})})})},wh=e=>{let{closed:t}=e;return(0,Wr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-500",children:t?(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"}):(0,Wr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"})})},_h=()=>{const{updatePassword:e}=$r(),t=ne(),n=ee(),[r,s]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[m,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=new URLSearchParams(n.search),t=e.get("access_token"),r=e.get("refresh_token"),i=e.get("type");t&&r&&"recovery"===i||f("Invalid password reset link. Please request a new password reset.")},[n]);return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-3xl font-extrabold text-blue-600 mb-2",children:"Reset Password"}),(0,Wr.jsx)("p",{className:"text-gray-500 mb-8",children:"Enter your new password below"}),h&&(0,Wr.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:h}),p&&(0,Wr.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:p}),(0,Wr.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),f(""),g("");const i=(e=>e.length<6?"Password must be at least 6 characters long.":/(?=.*[a-z])/.test(e)?/(?=.*[A-Z])/.test(e)?/(?=.*\d)/.test(e)?null:"Password must contain at least one number.":"Password must contain at least one uppercase letter.":"Password must contain at least one lowercase letter.")(r);if(i)f(i);else if(r===a){v(!0);try{const{error:n}=await e(r);if(n)throw n;g("Password updated successfully! Redirecting to login..."),setTimeout(()=>{t("/login")},2e3)}catch(s){f(s.message||"Failed to update password.")}finally{v(!1)}}else f("Passwords do not match.")},className:"space-y-4",children:[(0,Wr.jsxs)("div",{className:"relative",children:[(0,Wr.jsx)("input",{type:l?"text":"password",placeholder:"New Password",value:r,onChange:e=>s(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0,disabled:m}),(0,Wr.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 px-3 flex items-center",disabled:m,children:(0,Wr.jsx)(wh,{closed:!l})})]}),(0,Wr.jsxs)("div",{className:"relative",children:[(0,Wr.jsx)("input",{type:u?"text":"password",placeholder:"Confirm New Password",value:a,onChange:e=>o(e.target.value),className:"w-full p-4 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",required:!0,disabled:m}),(0,Wr.jsx)("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 px-3 flex items-center",disabled:m,children:(0,Wr.jsx)(wh,{closed:!u})})]}),(0,Wr.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 disabled:opacity-50",children:m?"Updating Password...":"Update Password"})]}),(0,Wr.jsx)("div",{className:"mt-6 text-sm",children:(0,Wr.jsx)("button",{onClick:()=>t("/login"),className:"font-medium text-blue-600 hover:text-blue-500",disabled:m,children:"Back to Login"})})]})})})},Sh=["variants","compoundVariants","defaultVariants"],kh=["css"],jh=["css"];var Ch,Eh="colors",Ph="sizes",Nh="space",Th={gap:Nh,gridGap:Nh,columnGap:Nh,gridColumnGap:Nh,rowGap:Nh,gridRowGap:Nh,inset:Nh,insetBlock:Nh,insetBlockEnd:Nh,insetBlockStart:Nh,insetInline:Nh,insetInlineEnd:Nh,insetInlineStart:Nh,margin:Nh,marginTop:Nh,marginRight:Nh,marginBottom:Nh,marginLeft:Nh,marginBlock:Nh,marginBlockEnd:Nh,marginBlockStart:Nh,marginInline:Nh,marginInlineEnd:Nh,marginInlineStart:Nh,padding:Nh,paddingTop:Nh,paddingRight:Nh,paddingBottom:Nh,paddingLeft:Nh,paddingBlock:Nh,paddingBlockEnd:Nh,paddingBlockStart:Nh,paddingInline:Nh,paddingInlineEnd:Nh,paddingInlineStart:Nh,top:Nh,right:Nh,bottom:Nh,left:Nh,scrollMargin:Nh,scrollMarginTop:Nh,scrollMarginRight:Nh,scrollMarginBottom:Nh,scrollMarginLeft:Nh,scrollMarginX:Nh,scrollMarginY:Nh,scrollMarginBlock:Nh,scrollMarginBlockEnd:Nh,scrollMarginBlockStart:Nh,scrollMarginInline:Nh,scrollMarginInlineEnd:Nh,scrollMarginInlineStart:Nh,scrollPadding:Nh,scrollPaddingTop:Nh,scrollPaddingRight:Nh,scrollPaddingBottom:Nh,scrollPaddingLeft:Nh,scrollPaddingX:Nh,scrollPaddingY:Nh,scrollPaddingBlock:Nh,scrollPaddingBlockEnd:Nh,scrollPaddingBlockStart:Nh,scrollPaddingInline:Nh,scrollPaddingInlineEnd:Nh,scrollPaddingInlineStart:Nh,fontSize:"fontSizes",background:Eh,backgroundColor:Eh,backgroundImage:Eh,borderImage:Eh,border:Eh,borderBlock:Eh,borderBlockEnd:Eh,borderBlockStart:Eh,borderBottom:Eh,borderBottomColor:Eh,borderColor:Eh,borderInline:Eh,borderInlineEnd:Eh,borderInlineStart:Eh,borderLeft:Eh,borderLeftColor:Eh,borderRight:Eh,borderRightColor:Eh,borderTop:Eh,borderTopColor:Eh,caretColor:Eh,color:Eh,columnRuleColor:Eh,fill:Eh,outline:Eh,outlineColor:Eh,stroke:Eh,textDecorationColor:Eh,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Ph,minBlockSize:Ph,maxBlockSize:Ph,inlineSize:Ph,minInlineSize:Ph,maxInlineSize:Ph,width:Ph,minWidth:Ph,maxWidth:Ph,height:Ph,minHeight:Ph,maxHeight:Ph,flexBasis:Ph,gridTemplateColumns:Ph,gridTemplateRows:Ph,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Ah=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,Oh=()=>{const e=Object.create(null);return function(t,n){const r=(e=>JSON.stringify(e,Ah))(t);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return r in e?e[r]:e[r]=n(t,...s)}},Mh=Symbol.for("sxs.internal"),Rh=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),Lh=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:Ih}=Object.prototype,Dh=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),zh=/\s+(?![^()]*\))/,Fh=e=>t=>e(..."string"==typeof t?String(t).split(zh):[t]),Bh={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Fh((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:Fh((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:Fh((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:Fh((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:Fh((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:Fh((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},Uh=/([\d.]+)([^]*)/,Wh=(e,t)=>e.length?e.reduce((e,n)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?":is(".concat(n,")"):n):n+" "+e)),e),[]):t,Vh=(e,t)=>e in Hh&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,n,r,i)=>n+("stretch"===r?"-moz-available".concat(i,";").concat(Dh(e),":").concat(n,"-webkit-fill-available"):"-moz-fit-content".concat(i,";").concat(Dh(e),":").concat(n,"fit-content"))+i):String(t),Hh={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},$h=e=>e?e+"-":"",qh=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,r,i,s,a)=>"$"==s==!!i?e:(r||"--"==s?"calc(":"")+"var(--"+("$"===s?$h(t)+(a.includes("$")?"":$h(n))+a.replace(/\$/g,"-"):a)+")"+(r||"--"==s?"*"+(r||"")+(i||"1")+")":"")),Kh=/\s*,\s*(?![^()]*\))/,Gh=Object.prototype.toString,Yh=(e,t,n,r,i)=>{let s,a,o;const l=(e,t,n)=>{let c,u;const d=e=>{for(c in e){const p=64===c.charCodeAt(0),g=p&&Array.isArray(e[c])?e[c]:[e[c]];for(u of g){const e=/[A-Z]/.test(f=c)?f:f.replace(/-[^]/g,e=>e[1].toUpperCase()),g="object"==typeof u&&u&&u.toString===Gh&&(!r.utils[e]||!t.length);if(e in r.utils&&!g){const t=r.utils[e];if(t!==a){a=t,d(t(u)),a=null;continue}}else if(e in Bh){const t=Bh[e];if(t!==o){o=t,d(t(u)),o=null;continue}}if(p&&(h=c.slice(1)in r.media?"@media "+r.media[c.slice(1)]:c,c=h.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,n,r,i,s)=>{const a=Uh.test(t),o=.0625*(a?-1:1),[l,c]=a?[r,t]:[t,r];return"("+("="===n[0]?"":">"===n[0]===a?"max-":"min-")+l+":"+("="!==n[0]&&1===n.length?c.replace(Uh,(e,t,r)=>Number(t)+o*(">"===n?1:-1)+r):c)+(i?") and ("+(">"===i[0]?"min-":"max-")+l+":"+(1===i.length?s.replace(Uh,(e,t,n)=>Number(t)+o*(">"===i?-1:1)+n):s):"")+")"})),g){const e=p?n.concat(c):[...n],r=p?[...t]:Wh(t,c.split(Kh));void 0!==s&&i(Jh(...s)),s=void 0,l(u,r,e)}else void 0===s&&(s=[[],t,n]),c=p||36!==c.charCodeAt(0)?c:"--".concat($h(r.prefix)).concat(c.slice(1).replace(/\$/g,"-")),u=g?u:"number"==typeof u?u&&e in Qh?String(u)+"px":String(u):qh(Vh(e,null==u?"":u),r.prefix,r.themeMap[e]),s[0].push("".concat(p?"".concat(c," "):"".concat(Dh(c),":")).concat(u))}}var h,f};d(e),void 0!==s&&i(Jh(...s)),s=void 0};l(e,t,n)},Jh=(e,t,n)=>"".concat(n.map(e=>"".concat(e,"{")).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(n.length?n.length+1:0).join("}")),Qh={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Xh=e=>String.fromCharCode(e+(e>25?39:97)),Zh=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Xh(t%52)+n;return Xh(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),ef=["themed","global","styled","onevar","resonevar","allvar","inline"],tf=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},nf=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,(n,r)=>{const{cssText:i}=n;let s="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(s=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return"--sxs{--sxs:".concat([...t.rules[e].cache].join(" "),"}").concat(i);return n.cssRules.length?"".concat(s).concat(i):""}return i}).join("")},r=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const i=Object(e).styleSheets||[];for(const e of i)if(tf(e)){for(let i=0,s=e.cssRules;s[i];++i){const a=Object(s[i]);if(1!==a.type)continue;const o=Object(s[i+1]);if(4!==o.type)continue;++i;const{cssText:l}=a;if(!l.startsWith("--sxs"))continue;const c=l.slice(14,-3).trim().split(/\s+/),u=ef[c[0]];u&&(t||(t={sheet:e,reset:r,rules:{},toString:n}),t.rules[u]={group:o,index:i,cache:new Set(c)})}if(t)break}if(!t){const i=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,i(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?"@media{".concat([].map.call(this.cssRules,e=>e.cssText).join(""),"}"):e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:i("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:a}=t;for(let e=ef.length-1;e>=0;--e){const t=ef[e];if(!a[t]){const n=ef[e+1],r=a[n]?a[n].index:s.cssRules.length;s.insertRule("@media{}",r),s.insertRule("--sxs{--sxs:".concat(e,"}"),r),a[t]={group:s.cssRules[r+1],index:r,cache:new Set([e])}}rf(a[t])}};return r(),t},rf=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},sf=Symbol(),af=Oh(),of=(e,t)=>af(e,()=>function(){let n={type:null,composers:new Set};for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(const t of i)if(null!=t)if(t[Mh]){null==n.type&&(n.type=t[Mh].type);for(const e of t[Mh].composers)n.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==n.type&&(n.type=t):n.composers.add(lf(t,e));return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),cf(e,n,t)}),lf=(e,t)=>{let{variants:n,compoundVariants:r,defaultVariants:i}=e,s=Zr(e,Sh);const a="".concat($h(t.prefix),"c-").concat(Zh(s)),o=[],l=[],c=Object.create(null),u=[];for(const f in i)c[f]=String(i[f]);if("object"==typeof n&&n)for(const f in n){d=c,h=f,Ih.call(d,h)||(c[f]="undefined");const e=n[f];for(const t in e){const n={[f]:String(t)};"undefined"===String(t)&&u.push(f);const r=e[t],i=[n,r,!Lh(r)];o.push(i)}}var d,h;if("object"==typeof r&&r)for(const f of r){let{css:e}=f,t=Zr(f,kh);e="object"==typeof e&&e||{};for(const r in t)t[r]=String(t[r]);const n=[t,e,!Lh(e)];l.push(n)}return[a,s,o,l,c,u]},cf=(e,t,n)=>{const[r,i,s,a]=uf(t.composers),o="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[sf].length;n++){const[r,i]=t[sf][n];e.rules[r].apply(i)}return t[sf]=[],null}return t[sf]=[],t.rules={},ef.forEach(e=>t.rules[e]={apply:n=>t[sf].push([e,n])}),t})(n):null,l=(o||n).rules,c=".".concat(r).concat(i.length>1?":where(.".concat(i.slice(1).join("."),")"):""),u=u=>{u="object"==typeof u&&u||hf;const{css:d}=u,h=Zr(u,jh),f={};for(const e in s)if(delete h[e],e in u){let t=u[e];"object"==typeof t&&t?f[e]=Dr({"@initial":s[e]},t):(t=String(t),f[e]="undefined"!==t||a.has(e)?t:s[e])}else f[e]=s[e];const p=new Set([...i]);for(const[r,i,s,a]of t.composers){n.rules.styled.cache.has(r)||(n.rules.styled.cache.add(r),Yh(i,[".".concat(r)],[],e,e=>{l.styled.apply(e)}));const t=df(s,f,e.media),o=df(a,f,e.media,!0);for(const i of t)if(void 0!==i)for(const[t,s,a]of i){const i="".concat(r,"-").concat(Zh(s),"-").concat(t);p.add(i);const o=(a?n.rules.resonevar:n.rules.onevar).cache,c=a?l.resonevar:l.onevar;o.has(i)||(o.add(i),Yh(s,[".".concat(i)],[],e,e=>{c.apply(e)}))}for(const i of o)if(void 0!==i)for(const[t,s]of i){const i="".concat(r,"-").concat(Zh(s),"-").concat(t);p.add(i),n.rules.allvar.cache.has(i)||(n.rules.allvar.cache.add(i),Yh(s,[".".concat(i)],[],e,e=>{l.allvar.apply(e)}))}}if("object"==typeof d&&d){const t="".concat(r,"-i").concat(Zh(d),"-css");p.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),Yh(d,[".".concat(t)],[],e,e=>{l.inline.apply(e)}))}for(const e of String(u.className||"").trim().split(/\s+/))e&&p.add(e);const g=h.className=[...p].join(" ");return{type:t.type,className:g,selector:c,props:h,toString:()=>g,deferredInjector:o}};return Rh(u,{className:r,selector:c,[Mh]:t,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},uf=e=>{let t="";const n=[],r={},i=[];for(const[s,,,,a,o]of e){""===t&&(t=s),n.push(s),i.push(...o);for(const e in a){const t=a[e];(void 0===r[e]||"undefined"!==t||o.includes(t))&&(r[e]=t)}}return[t,n,r,new Set(i)]},df=(e,t,n,r)=>{const i=[];e:for(let[s,a,o]of e){if(o)continue;let e,l=0,c=!1;for(e in s){const r=s[e];let i=t[e];if(i!==r){if("object"!=typeof i||!i)continue e;{let e,t,s=0;for(const a in i){if(r===String(i[a])){if("@initial"!==a){const e=a.slice(1);(t=t||[]).push(e in n?n[e]:a.replace(/^@media ?/,"")),c=!0}l+=s,e=!0}++s}if(t&&t.length&&(a={["@media "+t.join(", ")]:a}),!e)continue e}}}(i[l]=i[l]||[]).push([r?"cv":"".concat(e,"-").concat(s[e]),a,c])}return i},hf={},ff=Oh(),pf=(e,t)=>ff(e,()=>function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=()=>{for(let n of r){n="object"==typeof n&&n||{};let r=Zh(n);if(!t.rules.global.cache.has(r)){if(t.rules.global.cache.add(r),"@import"in n){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let r of[].concat(n["@import"]))r=r.includes('"')||r.includes("'")?r:'"'.concat(r,'"'),t.sheet.insertRule("@import ".concat(r,";"),e++);delete n["@import"]}Yh(n,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return Rh(s,{toString:s})}),gf=Oh(),mf=(e,t)=>gf(e,()=>n=>{const r="".concat($h(e.prefix),"k-").concat(Zh(n)),i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const i=[];Yh(n,[],[],e,e=>i.push(e));const s="@keyframes ".concat(r,"{").concat(i.join(""),"}");t.rules.global.apply(s)}return r};return Rh(i,{get name(){return i()},toString:i})}),vf=class{constructor(e,t,n,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+$h(this.prefix)+$h(this.scale)+this.token}toString(){return this.computedValue}},bf=Oh(),yf=(e,t)=>bf(e,()=>(n,r)=>{r="object"==typeof n&&n||Object(r);const i=".".concat(n=(n="string"==typeof n?n:"")||"".concat($h(e.prefix),"t-").concat(Zh(r))),s={},a=[];for(const t in r){s[t]={};for(const n in r[t]){const i="--".concat($h(e.prefix)).concat(t,"-").concat(n),o=qh(String(r[t][n]),e.prefix,t);s[t][n]=new vf(n,o,t,e.prefix),a.push("".concat(i,":").concat(o))}}const o=()=>{if(a.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const i="".concat(r===e.theme?":root,":"",".").concat(n,"{").concat(a.join(";"),"}");t.rules.themed.apply(i)}return n};return Dr(Dr({},s),{},{get className(){return o()},selector:i,toString:o})}),xf=Oh(),wf=e=>{let t=!1;const n=xf(e,e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,s="object"==typeof e.theme&&e.theme||{},a={prefix:n,media:r,theme:s,themeMap:"object"==typeof e.themeMap&&e.themeMap||Dr({},Th),utils:"object"==typeof e.utils&&e.utils||{}},o=nf(i),l={css:of(a,o),globalCss:pf(a,o),keyframes:mf(a,o),createTheme:yf(a,o),reset(){o.reset(),l.theme.toString()},theme:{},sheet:o,config:a,prefix:n,getCssText:o.toString,toString:o.toString};return String(l.theme=l.createTheme(s)),l});return t||n.reset(),n},_f=()=>Ch||(Ch=wf()),Sf=function(){return _f().createTheme(...arguments)},kf=function(){return _f().css(...arguments)},jf={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},Cf="sign_in",Ef="sign_up",Pf="forgotten_password",Nf="magic_link",Tf="update_password",Af="verify_otp",Of={ROOT:"root",SIGN_IN:Cf,SIGN_UP:Ef,FORGOTTEN_PASSWORD:Pf,MAGIC_LINK:Nf,UPDATE_PASSWORD:Tf,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Mf(e,t,n){var r,i;const s=[],a=Of[e];return s.push((null==n?void 0:n.prependedClassName)?(null==n?void 0:n.prependedClassName)+"_"+a:"supabase-auth-ui_"+a),(null==(r=null==n?void 0:n.className)?void 0:r[e])&&s.push(null==(i=null==n?void 0:n.className)?void 0:i[e]),void 0!==(null==n?void 0:n.extend)&&!0!==(null==n?void 0:n.extend)||s.push(t),s}function Rf(e,t){let n;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)e[n]=Rf(e[n],t[n]);else for(n in t)e[n]=Rf(e[n],t[n]);return e}return t}function Lf(e){let t=arguments.length<=1?0:arguments.length-1;for(let n=0;n<t;n++)e=Rf(e,n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return e}var If={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const Df=["children","appearance"],zf=["children","color","appearance","icon","loading"],Ff=["children","appearance"],Bf=["children","appearance"],Uf=["children","appearance"],Wf=["children","appearance"],Vf=["children","appearance"],Hf=kf({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),$f=e=>{let{children:t,appearance:n}=e,r=Zr(e,Df);var s;const a=Mf("anchor",Hf(),n);return i.createElement("a",Dr(Dr({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.anchor,className:a.join(" ")}),t)},qf=kf({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Kf=e=>{let{children:t,color:n="default",appearance:r,icon:s,loading:a=!1}=e,o=Zr(e,zf);var l;const c=Mf("button",qf({color:n}),r);return i.createElement("button",Dr(Dr({},o),{},{style:null==(l=null==r?void 0:r.style)?void 0:l.button,className:c.join(" "),disabled:a}),s,t)},Gf=kf({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Yf=e=>{let{children:t,appearance:n}=e,r=Zr(e,Ff);var s;const a=Mf("container",Gf({direction:r.direction,gap:r.gap}),n);return i.createElement("div",Dr(Dr({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.container,className:a.join(" ")}),t)},Jf=kf({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),Qf=e=>{let{children:t,appearance:n}=e,r=Zr(e,Bf);var s;const a=Mf("divider",Jf(),n);return i.createElement("div",Dr(Dr({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.divider,className:a.join(" ")}))},Xf=kf({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Zf=e=>{let{children:t,appearance:n}=e,r=Zr(e,Uf);var s;const a=Mf("input",Xf({type:"password"===r.type?"password":"default"}),n);return i.createElement("input",Dr(Dr({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.input,className:a.join(" ")}),t)},ep=kf({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),tp=e=>{let{children:t,appearance:n}=e,r=Zr(e,Wf);var s;const a=Mf("label",ep(),n);return i.createElement("label",Dr(Dr({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.label,className:a.join(" ")}),t)},np=kf({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),rp=e=>{let{children:t,appearance:n}=e,r=Zr(e,Vf);var s;const a=Mf("message",np({color:r.color}),n);return i.createElement("span",Dr(Dr({},r),{},{style:null==(s=null==n?void 0:n.style)?void 0:s.message,className:a.join(" ")}),t)};function ip(e){let{setAuthView:t=()=>{},supabaseClient:n,redirectTo:r,i18n:s,appearance:a,showLinks:o=!1}=e;var l;const[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(!1),v=null==s?void 0:s.magic_link;return i.createElement("form",{id:"auth-magic-link",onSubmit:async e=>{var t,i;if(e.preventDefault(),h(""),p(""),m(!0),0===c.length)return h(null==(t=null==s?void 0:s.magic_link)?void 0:t.empty_email_address),void m(!1);const{error:a}=await n.auth.signInWithOtp({email:c,options:{emailRedirectTo:r}});a?h(a.message):p(null==(i=null==s?void 0:s.magic_link)?void 0:i.confirmation_text),m(!1)}},i.createElement(Yf,{gap:"large",direction:"vertical",appearance:a},i.createElement("div",null,i.createElement(tp,{htmlFor:"email",appearance:a},null==v?void 0:v.email_input_label),i.createElement(Zf,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:null==v?void 0:v.email_input_placeholder,onChange:e=>{h&&h(""),u(e.target.value)},appearance:a})),i.createElement(Kf,{color:"primary",type:"submit",loading:g,appearance:a},g?null==v?void 0:v.loading_button_label:null==v?void 0:v.button_label),o&&i.createElement($f,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),t(Cf)},appearance:a},null==(l=null==s?void 0:s.sign_in)?void 0:l.link_text),f&&i.createElement(rp,{appearance:a},f),d&&i.createElement(rp,{color:"danger",appearance:a},d)))}const sp=kf({width:"21px",height:"21px"}),ap=e=>{let{provider:t}=e;return"google"==t?op():"facebook"==t?lp():"twitter"==t?cp():"apple"==t?up():"github"==t?dp():"gitlab"==t?hp():"bitbucket"==t?fp():"discord"==t?pp():"azure"==t?gp():"keycloak"==t?mp():"linkedin"==t?vp():"notion"==t?bp():"slack"==t?yp():"spotify"==t?xp():"twitch"==t?wp():"workos"==t?_p():"kakao"==t?Sp():null},op=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),i.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),i.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),i.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),lp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),i.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),cp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),up=()=>i.createElement("svg",{className:sp(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",i.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),dp=()=>i.createElement("svg",{className:sp(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",i.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),hp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),i.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),i.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),i.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),i.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),i.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),i.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),fp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},i.createElement("defs",null,i.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),i.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),i.createElement("title",null,"Bitbucket-blue"),i.createElement("g",{id:"Layer_2","data-name":"Layer 2"},i.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},i.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),i.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),pp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068\tc-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291\tc-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051\tc-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554\tc0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194\tc-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534\tc0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017\tc0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634\tc-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052\tc3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044\tC39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435\tc2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435\ts1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),gp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:"0",stopColor:"#114a8b"}),i.createElement("stop",{offset:"1",stopColor:"#0669bc"})),i.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),i.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),i.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:"0",stopOpacity:".3"}),i.createElement("stop",{offset:".071",stopOpacity:".2"}),i.createElement("stop",{offset:".321",stopOpacity:".1"}),i.createElement("stop",{offset:".623",stopOpacity:".05"}),i.createElement("stop",{offset:"1",stopOpacity:"0"})),i.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),i.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),i.createElement("stop",{offset:"1",stopColor:"#2892df"})),i.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),mp=()=>i.createElement("svg",{className:sp(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),vp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),i.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),bp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},i.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),i.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),i.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),yp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},i.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4\tC33,17.741,33,9.254,33,8z"}),i.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),i.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4\tC17.741,14,9.254,14,8,14z"}),i.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),i.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984\tc0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),i.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994\tS4,30.228,4,28.022z"}),i.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4\tC29.258,33,37.746,33,39,33z"}),i.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),xp=()=>i.createElement("svg",{className:sp(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),wp=()=>i.createElement("svg",{className:sp(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),i.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),i.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),i.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),_p=()=>i.createElement("svg",{className:sp(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),i.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),Sp=()=>i.createElement("svg",{className:sp(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},i.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),i.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),i.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function kp(e){let{supabaseClient:t,socialLayout:n="vertical",providers:r=["github","google","azure"],providerScopes:s,queryParams:a,redirectTo:o,onlyThirdPartyProviders:l=!0,view:c="sign_in",i18n:u,appearance:d}=e;const[h,f]=(0,i.useState)(!1),[p,g]=(0,i.useState)(""),m="vertical"===n,v="magic_link"===c?"sign_in":c;function b(e){const t=e.toLowerCase();return e.charAt(0).toUpperCase()+t.slice(1)}return i.createElement(i.Fragment,null,r&&r.length>0&&i.createElement(i.Fragment,null,i.createElement(Yf,{gap:"large",direction:"vertical",appearance:d},i.createElement(Yf,{direction:m?"vertical":"horizontal",gap:m?"small":"medium",appearance:d},r.map(e=>{var n;return i.createElement(Kf,{key:e,color:"default",loading:h,onClick:()=>(async e=>{f(!0);const{error:n}=await t.auth.signInWithOAuth({provider:e,options:{redirectTo:o,scopes:null==s?void 0:s[e],queryParams:a}});n&&g(n.message),f(!1)})(e),appearance:d},i.createElement(ap,{provider:e}),m&&function(e,t){return e.replace(/{{(\w+)}}/g,(e,n)=>t.hasOwnProperty(n)?t[n]:e)}(null==(n=null==u?void 0:u[v])?void 0:n.social_provider_text,{provider:b(e)}))}))),!l&&i.createElement(Qf,{appearance:d})))}function jp(e){let{authView:t="sign_in",defaultEmail:n="",defaultPassword:r="",setAuthView:s=()=>{},setDefaultEmail:a=e=>{},setDefaultPassword:o=e=>{},supabaseClient:l,showLinks:c=!1,redirectTo:u,additionalData:d,magicLink:h,i18n:f,appearance:p,children:g}=e;var m,v,b,y;const x=(0,i.useRef)(!0),[w,_]=(0,i.useState)(n),[S,k]=(0,i.useState)(r),[j,C]=(0,i.useState)(""),[E,P]=(0,i.useState)(!1),[N,T]=(0,i.useState)("");(0,i.useEffect)(()=>(x.current=!0,_(n),k(r),()=>{x.current=!1}),[t]);const A=e=>{a(w),o(S),s(e)},O=null==f?void 0:f[t];return i.createElement("form",{id:"sign_in"===t?"auth-sign-in":"auth-sign-up",onSubmit:async e=>{var n;switch(e.preventDefault(),C(""),P(!0),t){case"sign_in":const{error:e}=await l.auth.signInWithPassword({email:w,password:S});e&&C(e.message);break;case"sign_up":let t={emailRedirectTo:u};d&&(t.data=d);const{data:{user:r,session:i},error:s}=await l.auth.signUp({email:w,password:S,options:t});s?C(s.message):r&&!i&&T(null==(n=null==f?void 0:f.sign_up)?void 0:n.confirmation_text)}x.current&&P(!1)},autoComplete:"on",style:{width:"100%"}},i.createElement(Yf,{direction:"vertical",gap:"large",appearance:p},i.createElement(Yf,{direction:"vertical",gap:"large",appearance:p},i.createElement("div",null,i.createElement(tp,{htmlFor:"email",appearance:p},null==O?void 0:O.email_label),i.createElement(Zf,{id:"email",type:"email",name:"email",placeholder:null==O?void 0:O.email_input_placeholder,defaultValue:w,onChange:e=>_(e.target.value),autoComplete:"email",appearance:p})),i.createElement("div",null,i.createElement(tp,{htmlFor:"password",appearance:p},null==O?void 0:O.password_label),i.createElement(Zf,{id:"password",type:"password",name:"password",placeholder:null==O?void 0:O.password_input_placeholder,defaultValue:S,onChange:e=>k(e.target.value),autoComplete:"sign_in"===t?"current-password":"new-password",appearance:p})),g),i.createElement(Kf,{type:"submit",color:"primary",loading:E,appearance:p},E?null==O?void 0:O.loading_button_label:null==O?void 0:O.button_label),c&&i.createElement(Yf,{direction:"vertical",gap:"small",appearance:p},t===Cf&&h&&i.createElement($f,{href:"#auth-magic-link",onClick:e=>{e.preventDefault(),s(Nf)},appearance:p},null==(m=null==f?void 0:f.magic_link)?void 0:m.link_text),t===Cf&&i.createElement($f,{href:"#auth-forgot-password",onClick:e=>{e.preventDefault(),s(Pf)},appearance:p},null==(v=null==f?void 0:f.forgotten_password)?void 0:v.link_text),t===Cf?i.createElement($f,{href:"#auth-sign-up",onClick:e=>{e.preventDefault(),A(Ef)},appearance:p},null==(b=null==f?void 0:f.sign_up)?void 0:b.link_text):i.createElement($f,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),A(Cf)},appearance:p},null==(y=null==f?void 0:f.sign_in)?void 0:y.link_text))),N&&i.createElement(rp,{appearance:p},N),j&&i.createElement(rp,{color:"danger",appearance:p},j))}function Cp(e){let{setAuthView:t=()=>{},supabaseClient:n,redirectTo:r,i18n:s,appearance:a,showLinks:o=!1}=e;var l;const[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(!1),v=null==s?void 0:s.forgotten_password;return i.createElement("form",{id:"auth-forgot-password",onSubmit:async e=>{var t;e.preventDefault(),h(""),p(""),m(!0);const{error:i}=await n.auth.resetPasswordForEmail(c,{redirectTo:r});i?h(i.message):p(null==(t=null==s?void 0:s.forgotten_password)?void 0:t.confirmation_text),m(!1)}},i.createElement(Yf,{direction:"vertical",gap:"large",appearance:a},i.createElement(Yf,{gap:"large",direction:"vertical",appearance:a},i.createElement("div",null,i.createElement(tp,{htmlFor:"email",appearance:a},null==v?void 0:v.email_label),i.createElement(Zf,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:null==v?void 0:v.email_input_placeholder,onChange:e=>u(e.target.value),appearance:a})),i.createElement(Kf,{type:"submit",color:"primary",loading:g,appearance:a},g?null==v?void 0:v.loading_button_label:null==v?void 0:v.button_label),o&&i.createElement($f,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),t(Cf)},appearance:a},null==(l=null==s?void 0:s.sign_in)?void 0:l.link_text),f&&i.createElement(rp,{appearance:a},f),d&&i.createElement(rp,{color:"danger",appearance:a},d))))}function Ep(e){let{supabaseClient:t,i18n:n,appearance:r}=e;const[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),f=null==n?void 0:n.update_password;return i.createElement("form",{id:"auth-update-password",onSubmit:async e=>{var r;e.preventDefault(),l(""),u(""),h(!0);const{error:i}=await t.auth.updateUser({password:s});i?l(i.message):u(null==(r=null==n?void 0:n.update_password)?void 0:r.confirmation_text),h(!1)}},i.createElement(Yf,{gap:"large",direction:"vertical",appearance:r},i.createElement("div",null,i.createElement(tp,{htmlFor:"password",appearance:r},null==f?void 0:f.password_label),i.createElement(Zf,{id:"password",name:"password",placeholder:null==f?void 0:f.password_input_placeholder,type:"password",autoFocus:!0,onChange:e=>a(e.target.value),appearance:r})),i.createElement(Kf,{type:"submit",color:"primary",loading:d,appearance:r},d?null==f?void 0:f.loading_button_label:null==f?void 0:f.button_label),c&&i.createElement(rp,{appearance:r},c),o&&i.createElement(rp,{color:"danger",appearance:r},o)))}function Pp(e){let{setAuthView:t=()=>{},supabaseClient:n,otpType:r="email",i18n:s,appearance:a,showLinks:o=!1}=e;var l;const[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[y,x]=(0,i.useState)(!1),w=null==s?void 0:s.verify_otp;return i.createElement("form",{id:"auth-magic-link",onSubmit:async e=>{e.preventDefault(),m(""),b(""),x(!0);let t={email:c,token:f,type:r};["sms","phone_change"].includes(r)&&(t={phone:d,token:f,type:r});const{error:i}=await n.auth.verifyOtp(t);i&&m(i.message),x(!1)}},i.createElement(Yf,{gap:"large",direction:"vertical",appearance:a},["sms","phone_change"].includes(r)?i.createElement("div",null,i.createElement(tp,{htmlFor:"phone",appearance:a},null==w?void 0:w.phone_input_label),i.createElement(Zf,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:null==w?void 0:w.phone_input_placeholder,onChange:e=>h(e.target.value),appearance:a})):i.createElement("div",null,i.createElement(tp,{htmlFor:"email",appearance:a},null==w?void 0:w.email_input_label),i.createElement(Zf,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:null==w?void 0:w.email_input_placeholder,onChange:e=>u(e.target.value),appearance:a})),i.createElement("div",null,i.createElement(tp,{htmlFor:"token",appearance:a},null==w?void 0:w.token_input_label),i.createElement(Zf,{id:"token",name:"token",type:"text",placeholder:null==w?void 0:w.token_input_placeholder,onChange:e=>p(e.target.value),appearance:a})),i.createElement(Kf,{color:"primary",type:"submit",loading:y,appearance:a},y?null==w?void 0:w.loading_button_label:null==w?void 0:w.button_label),o&&i.createElement($f,{href:"#auth-sign-in",onClick:e=>{e.preventDefault(),t(Cf)},appearance:a},null==(l=null==s?void 0:s.sign_in)?void 0:l.link_text),v&&i.createElement(rp,{appearance:a},v),g&&i.createElement(rp,{color:"danger",appearance:a},g)))}const Np=(0,i.createContext)({user:null,session:null});function Tp(e){var t;let{supabaseClient:n,socialLayout:r="vertical",providers:s,providerScopes:a,queryParams:o,view:l="sign_in",redirectTo:c,onlyThirdPartyProviders:u=!1,magicLink:d=!1,showLinks:h=!0,appearance:f,theme:p="default",localization:g={variables:{}},otpType:m="email",additionalData:v,children:b}=e;const y=Lf(If,null!==(t=g.variables)&&void 0!==t?t:{}),[x,w]=(0,i.useState)(l),[_,S]=(0,i.useState)(""),[k,j]=(0,i.useState)(""),C="sign_in"===x||"sign_up"===x||"magic_link"===x;(0,i.useEffect)(()=>{var e,t,n,r;wf({theme:Lf(null!==(e=null==(n=null==f?void 0:f.theme)?void 0:n.default)&&void 0!==e?e:{},null!==(t=null==(r=null==f?void 0:f.variables)?void 0:r.default)&&void 0!==t?t:{})})},[f]);const E=e=>{var t;let{children:l}=e;var d;return i.createElement("div",{className:"default"!==p?Sf(Lf(null==f?void 0:f.theme[p],null!==(t=null==(d=null==f?void 0:f.variables)?void 0:d[p])&&void 0!==t?t:{})):""},C&&i.createElement(kp,{appearance:f,supabaseClient:n,providers:s,providerScopes:a,queryParams:o,socialLayout:r,redirectTo:c,onlyThirdPartyProviders:u,i18n:y,view:x}),!u&&l)};(0,i.useEffect)(()=>{const{data:e}=n.auth.onAuthStateChange(e=>{"PASSWORD_RECOVERY"===e?w("update_password"):"USER_UPDATED"===e&&w("sign_in")});return w(l),()=>e.subscription.unsubscribe()},[l]);const P={supabaseClient:n,setAuthView:w,defaultEmail:_,defaultPassword:k,setDefaultEmail:S,setDefaultPassword:j,redirectTo:c,magicLink:d,showLinks:h,i18n:y,appearance:f};switch(x){case Cf:return i.createElement(E,null,i.createElement(jp,Dr(Dr({},P),{},{authView:"sign_in"})));case Ef:return i.createElement(E,null,i.createElement(jp,{appearance:f,supabaseClient:n,authView:"sign_up",setAuthView:w,defaultEmail:_,defaultPassword:k,setDefaultEmail:S,setDefaultPassword:j,redirectTo:c,magicLink:d,showLinks:h,i18n:y,additionalData:v,children:b}));case Pf:return i.createElement(E,null,i.createElement(Cp,{appearance:f,supabaseClient:n,setAuthView:w,redirectTo:c,showLinks:h,i18n:y}));case Nf:return i.createElement(E,null,i.createElement(ip,{appearance:f,supabaseClient:n,setAuthView:w,redirectTo:c,showLinks:h,i18n:y}));case Tf:return i.createElement(Ep,{appearance:f,supabaseClient:n,i18n:y});case Af:return i.createElement(Pp,{appearance:f,supabaseClient:n,otpType:m,i18n:y});default:return null}}Tp.ForgottenPassword=Cp,Tp.UpdatePassword=Ep,Tp.MagicLink=ip,Tp.UserContextProvider=e=>{var t;const{supabaseClient:n}=e,[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null);(0,i.useEffect)(()=>{(async e=>{var t;const{data:r}=await n.auth.getSession();s(r.session),o(null!==(e=null==(t=r.session)?void 0:t.user)&&void 0!==e?e:null)})();const{data:e}=n.auth.onAuthStateChange(async(e,t)=>{var n;s(t),o(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null)});return()=>{null==e||e.subscription.unsubscribe()}},[]);const l={session:r,user:a};return i.createElement(Np.Provider,Dr({value:l},e))},Tp.useUser=()=>{const e=(0,i.useContext)(Np);if(void 0===e)throw new Error("useUser must be used within a UserContextProvider.");return e};kf({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const Ap=e=>{let{onAuthSuccess:t}=e;return(0,Wr.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,Wr.jsx)(Tp,{supabaseClient:Or,appearance:{theme:jf,variables:{default:{colors:{brand:"#2563eb",brandAccent:"#1d4ed8",brandButtonText:"white",defaultButtonBackground:"#f3f4f6",defaultButtonBackgroundHover:"#e5e7eb",defaultButtonBorder:"#d1d5db",defaultButtonText:"#374151",dividerBackground:"#e5e7eb",inputBackground:"#f9fafb",inputBorder:"#d1d5db",inputBorderHover:"#9ca3af",inputBorderFocus:"#2563eb",inputText:"#374151",inputLabelText:"#6b7280",inputPlaceholder:"#9ca3af",messageText:"#dc2626",messageTextDanger:"#dc2626",anchorTextColor:"#2563eb",anchorTextHoverColor:"#1d4ed8"},space:{inputPadding:"16px",buttonPadding:"12px 24px",borderRadius:"8px"},fontSizes:{baseBodySize:"14px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"}}}},providers:["google"],redirectTo:"".concat(window.location.origin,"/auth/callback"),options:{scopes:"email profile openid https://www.googleapis.com/auth/calendar.readonly"},onAuthStateChange:(e,n)=>{"SIGNED_IN"===e&&t&&t(n)},localization:{variables:{sign_in:{email_label:"Email",password_label:"Password",button_label:"Sign In",loading_button_label:"Signing In...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},sign_up:{email_label:"Email",password_label:"Password",button_label:"Sign Up",loading_button_label:"Signing Up...",social_provider_text:"Sign up with {{provider}}",link_text:"Don't have an account? Sign up"},forgotten_password:{email_label:"Email",button_label:"Send Reset Instructions",loading_button_label:"Sending...",link_text:"Forgot your password?"},magic_link:{email_input_label:"Email",button_label:"Send Magic Link",loading_button_label:"Sending...",link_text:"Send a magic link email"}}}})})},Op=()=>{const{setUser:e}=$r();return(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 font-sans p-4",children:(0,Wr.jsx)("div",{className:"w-full max-w-md",children:(0,Wr.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center",children:[(0,Wr.jsx)("h1",{className:"text-4xl font-extrabold text-blue-600 mb-2",children:"Scholargy"}),(0,Wr.jsx)("p",{className:"text-gray-500 mb-8",children:"Your Personal College & Career Advisor"}),(0,Wr.jsx)(Ap,{onAuthSuccess:t=>{null!==t&&void 0!==t&&t.user&&(e(t.user),console.log("Authentication successful:",t.user))}}),(0,Wr.jsx)("div",{className:"mt-6 text-sm text-gray-500",children:(0,Wr.jsx)("p",{children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})})})};class Mp{static async getUserProfile(e){try{const t=await Fr("/profile/".concat(e),{},!0);return t.data||t}catch(zp){return console.error("Error fetching user profile:",zp),null}}static async createOrUpdateProfile(e,t){try{const n=await Fr("/profile/".concat(e),{method:"POST",body:JSON.stringify({profileData:t})},!0);return n.data||n}catch(zp){return console.error("Error creating/updating user profile:",zp),null}}static async getUserAssessment(e){try{const t=await Fr("/profile/".concat(e,"/assessment"),{},!0);return t.data||t}catch(zp){return console.error("Error fetching user assessment:",zp),null}}static async initializeProfile(e){var t,n,r,i,s,a,o;const l={email:e.email,fullName:(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||e.email,avatarUrl:null===(n=e.user_metadata)||void 0===n?void 0:n.avatar_url,provider:(null===(r=e.app_metadata)||void 0===r?void 0:r.provider)||"email",profile:{personal:{firstName:(null===(i=e.user_metadata)||void 0===i||null===(s=i.full_name)||void 0===s?void 0:s.split(" ")[0])||"",lastName:(null===(a=e.user_metadata)||void 0===a||null===(o=a.full_name)||void 0===o?void 0:o.split(" ").slice(1).join(" "))||"",email:e.email},academic:{gpa:null,major:null,graduationYear:null,currentSchool:null},extracurriculars:[],essays:[],recommendations:[],financial:{familyIncome:null,financialAidNeeded:null,scholarships:[]}},preferences:{collegeType:null,location:null,maxTuition:null,desiredMajors:[]},created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return await this.createOrUpdateProfile(e.id,l)}static isProfileComplete(e){var t;if(!e)return!1;const n=null===(t=e.profile)||void 0===t?void 0:t.academic;return!!n&&!!(n.gpa&&n.major&&n.graduationYear&&n.currentSchool)}static getProfileCompletionPercentage(e){if(!e)return 0;const t=["personal","academic","extracurriculars","essays","recommendations","financial","preferences"];let n=0;return t.forEach(t=>{var r;const i=(null===(r=e.profile)||void 0===r?void 0:r[t])||e[t];i&&Object.keys(i).length>0&&n++}),Math.round(n/t.length*100)}static getIncompleteSections(e){if(!e)return["personal","academic","extracurriculars","essays","recommendations","financial","preferences"];const t=[];return["personal","academic","extracurriculars","essays","recommendations","financial","preferences"].forEach(n=>{var r;const i=(null===(r=e.profile)||void 0===r?void 0:r[n])||e[n];i&&0!==Object.keys(i).length||t.push(n)}),t}static async updateProfileSection(e,t,n){try{var r;const i=await this.getUserProfile(e);if(!i)throw new Error("Profile not found");const s=Dr(Dr({},i),{},{profile:Dr(Dr({},i.profile),{},{[t]:Dr(Dr({},null===(r=i.profile)||void 0===r?void 0:r[t]),n)}),updated_at:(new Date).toISOString()});return await this.createOrUpdateProfile(e,s)}catch(zp){return console.error("Error updating profile section ".concat(t,":"),zp),null}}}const Rp=()=>{const{user:e,profile:t,signIn:n,signInWithGoogle:r,signOut:s,getUserData:a}=$r(),[o,l]=(0,i.useState)({}),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)([]),f=(e,t)=>{t||(t="info");const n=(new Date).toLocaleTimeString();h(r=>[...r,{timestamp:n,message:e,type:t}])},p=()=>{h([]),l({})},g=()=>{f("Testing environment variables...","info");const e={};let t=!0;return["REACT_APP_SUPABASE_URL","REACT_APP_SUPABASE_ANON_KEY","REACT_APP_API_URL","REACT_APP_GOOGLE_CLIENT_ID"].forEach(n=>{const r=!!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n];e[n]=r,r?f("\u2705 ".concat(n,": Set"),"success"):(f("\u274c ".concat(n,": Missing"),"error"),t=!1)}),l(e=>Object.assign({},e,{environment:t})),t},m=()=>{f("Testing localStorage...","info");try{localStorage.setItem("test_key","test_value");const e=localStorage.getItem("test_key");if(localStorage.removeItem("test_key"),"test_value"===e){f("\u2705 localStorage basic operations work","success");const e={email:"test@example.com",name:"Test User",provider:"google",created_at:(new Date).toISOString()};localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("user"));return localStorage.removeItem("user"),t.email===e.email?(f("\u2705 User data storage works","success"),l(e=>Object.assign({},e,{localStorage:!0})),!0):(f("\u274c User data storage failed","error"),l(e=>Object.assign({},e,{localStorage:!1})),!1)}return f("\u274c localStorage basic operations failed","error"),l(e=>Object.assign({},e,{localStorage:!1})),!1}catch(zp){return f("\u274c localStorage test error: ".concat(zp.message),"error"),l(e=>Object.assign({},e,{localStorage:!1})),!1}},v=async()=>{f("Testing API connectivity...","info");try{const e=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/health"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const t=await e.json();return f("\u2705 API connectivity successful","success"),f("   Response: ".concat(JSON.stringify(t)),"info"),l(e=>Object.assign({},e,{api:!0})),!0}catch(zp){return f("\u274c API connectivity failed: ".concat(zp.message),"error"),l(e=>Object.assign({},e,{api:!1})),!1}},b=async()=>{f("Testing OAuth flow...","info");try{const{data:e,error:t}=await r();return t?(f("\u274c OAuth test failed: ".concat(t.message),"error"),l(e=>Object.assign({},e,{oauth:!1})),!1):(f("\u2705 OAuth flow initiated successfully","success"),null!==e&&void 0!==e&&e.url&&f("   Redirect URL: ".concat(e.url),"info"),l(e=>Object.assign({},e,{oauth:!0})),!0)}catch(zp){return f("\u274c OAuth test error: ".concat(zp.message),"error"),l(e=>Object.assign({},e,{oauth:!1})),!1}},y=async()=>{if(f("Testing profile management...","info"),!e)return f("\u26a0\ufe0f No user logged in, skipping profile test","warning"),l(e=>Object.assign({},e,{profile:!1})),!1;try{const t=await Mp.initializeProfile(e);if(t){f("\u2705 Profile initialization successful","success"),f("   Profile structure: ".concat(Object.keys(t).join(", ")),"info");const e=Mp.isProfileComplete(t),n=Mp.getProfileCompletionPercentage(t);return f("   Profile complete: ".concat(e),"info"),f("   Completion percentage: ".concat(n,"%"),"info"),l(e=>Object.assign({},e,{profile:!0})),!0}return f("\u26a0\ufe0f Profile initialization returned null (backend may not be running)","warning"),l(e=>Object.assign({},e,{profile:!1})),!1}catch(zp){return f("\u274c Profile management test failed: ".concat(zp.message),"error"),l(e=>Object.assign({},e,{profile:!1})),!1}},x=()=>{f("Testing session management...","info");const t=a();return e?(f("\u2705 User session exists","success"),f("   User ID: ".concat(e.id),"info"),f("   Email: ".concat(e.email),"info"),f("   Provider: ".concat(e.app_metadata&&e.app_metadata.provider||"email"),"info"),t?(f("\u2705 User data in localStorage","success"),f("   Stored name: ".concat(t.name),"info")):f("\u26a0\ufe0f No user data in localStorage","warning"),l(e=>Object.assign({},e,{session:!0})),!0):(f("\u2139\ufe0f No active user session","info"),l(e=>Object.assign({},e,{session:!1})),!1)};return(0,Wr.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,Wr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"OAuth Flow Tester"}),(0,Wr.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,Wr.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Wr.jsx)("button",{onClick:async()=>{u(!0),p(),f("\ud83d\ude80 Starting OAuth Flow Tests...","info");const e={environment:g(),localStorage:m(),api:await v(),oauth:await b(),profile:await y(),session:x()};f("","info"),f("\ud83d\udcca Test Results Summary:","info"),f("========================","info"),Object.entries(e).forEach(e=>{let[t,n]=e;const r=n?"\u2705 PASSED":"\u274c FAILED";f("".concat(t,": ").concat(r),n?"success":"error")});Object.values(e).every(e=>e)?(f("","info"),f("\ud83c\udf89 All tests passed! Your OAuth system is working correctly.","success")):(f("","info"),f("\u26a0\ufe0f Some tests failed. Check the logs above for details.","error")),u(!1)},disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?"Running Tests...":"Run All Tests"}),(0,Wr.jsx)("button",{onClick:p,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Clear Logs"}),e&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsx)("button",{onClick:async()=>{f("Testing email/password sign in...","info");try{const{error:e}=await n({email:"test@example.com",password:"testpassword123"});return e?(f("\u274c Email sign in failed: ".concat(e.message),"error"),!1):(f("\u2705 Email sign in successful","success"),!0)}catch(zp){return f("\u274c Email sign in error: ".concat(zp.message),"error"),!1}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Test Email Sign In"}),(0,Wr.jsx)("button",{onClick:async()=>{f("Testing sign out...","info");try{return await s(),f("\u2705 Sign out successful","success"),!0}catch(zp){return f("\u274c Sign out error: ".concat(zp.message),"error"),!1}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Test Sign Out"})]})]}),(0,Wr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Wr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Current Status:"}),(0,Wr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[(0,Wr.jsxs)("div",{children:["User: ",e?"\u2705 Logged In":"\u274c Not Logged In"]}),(0,Wr.jsxs)("div",{children:["Profile: ",t?"\u2705 Loaded":"\u274c Not Loaded"]}),(0,Wr.jsxs)("div",{children:["Session: ",e?"\u2705 Active":"\u274c Inactive"]})]})]})]}),Object.keys(o).length>0&&(0,Wr.jsxs)("div",{className:"mb-6",children:[(0,Wr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Test Results:"}),(0,Wr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(o).map(e=>{let[t,n]=e;return(0,Wr.jsxs)("div",{className:"p-2 rounded text-sm font-medium ".concat(n?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[t,": ",n?"PASSED":"FAILED"]},t)})})]}),(0,Wr.jsxs)("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm",children:[(0,Wr.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Wr.jsx)("h3",{className:"font-semibold",children:"Test Logs:"}),(0,Wr.jsxs)("span",{className:"text-gray-400",children:[d.length," entries"]})]}),(0,Wr.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-1",children:0===d.length?(0,Wr.jsx)("div",{className:"text-gray-500",children:"No logs yet. Run tests to see results."}):d.map((e,t)=>(0,Wr.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Wr.jsx)("span",{className:"text-gray-500 text-xs w-16 flex-shrink-0",children:e.timestamp}),(0,Wr.jsx)("span",{className:"".concat("error"===e.type?"text-red-400":"success"===e.type?"text-green-400":"warning"===e.type?"text-yellow-400":"text-gray-300"),children:e.message})]},t))})]}),(0,Wr.jsxs)("div",{className:"mt-6",children:[(0,Wr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Manual Testing Checklist:"}),(0,Wr.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Login Flow:"}),(0,Wr.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,Wr.jsx)("li",{children:"\u2022 Login page loads correctly"}),(0,Wr.jsx)("li",{children:"\u2022 Email/password form works"}),(0,Wr.jsx)("li",{children:"\u2022 Google OAuth button appears"}),(0,Wr.jsx)("li",{children:"\u2022 Password reset link works"})]})]}),(0,Wr.jsxs)("div",{children:[(0,Wr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"OAuth Flow:"}),(0,Wr.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,Wr.jsx)("li",{children:"\u2022 Google OAuth redirects to Google"}),(0,Wr.jsx)("li",{children:"\u2022 User can select Google account"}),(0,Wr.jsx)("li",{children:"\u2022 OAuth callback returns to app"}),(0,Wr.jsx)("li",{children:"\u2022 User session is established"})]})]})]})]})]})};const Lp=()=>{const{user:e,isProfileComplete:t,loading:n}=$r();return n?(0,Wr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Wr.jsxs)("div",{className:"text-center",children:[(0,Wr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,Wr.jsx)("p",{className:"text-gray-600",children:"Loading Scholargy..."})]})}):e?t?(0,Wr.jsx)(Gr,{children:(0,Wr.jsxs)(we,{children:[(0,Wr.jsx)(ye,{path:"/dashboard",element:(0,Wr.jsx)(Hi,{})}),(0,Wr.jsx)(ye,{path:"/student-profile",element:(0,Wr.jsx)(Ki,{})}),(0,Wr.jsx)(ye,{path:"/scholarships",element:(0,Wr.jsx)(Gi,{})}),(0,Wr.jsx)(ye,{path:"/matching",element:(0,Wr.jsx)(Yi,{})}),(0,Wr.jsx)(ye,{path:"/forecaster",element:(0,Wr.jsx)(Ji,{})}),(0,Wr.jsx)(ye,{path:"/compare",element:(0,Wr.jsx)(mh,{})}),(0,Wr.jsx)(ye,{path:"/studentvue",element:(0,Wr.jsx)(fh,{})}),(0,Wr.jsx)(ye,{path:"/report/:collegeId",element:(0,Wr.jsx)(Xi,{})}),(0,Wr.jsx)(ye,{path:"/profile/:collegeId",element:(0,Wr.jsx)(yh,{})}),(0,Wr.jsx)(ye,{path:"/test-oauth",element:(0,Wr.jsx)(Rp,{})}),(0,Wr.jsx)(ye,{path:"*",element:(0,Wr.jsx)(be,{to:"/dashboard",replace:!0})})]})}):(0,Wr.jsx)(Gr,{children:(0,Wr.jsxs)(we,{children:[(0,Wr.jsx)(ye,{path:"/student-profile",element:(0,Wr.jsx)(Ki,{})}),(0,Wr.jsx)(ye,{path:"*",element:(0,Wr.jsx)(be,{to:"/student-profile",replace:!0})})]})}):(0,Wr.jsxs)(we,{children:[(0,Wr.jsx)(ye,{path:"/auth/callback",element:(0,Wr.jsx)(Qi,{})}),(0,Wr.jsx)(ye,{path:"/login",element:(0,Wr.jsx)(Xr,{})}),(0,Wr.jsx)(ye,{path:"/login-v2",element:(0,Wr.jsx)(Op,{})}),(0,Wr.jsx)(ye,{path:"/reset-password",element:(0,Wr.jsx)(xh,{})}),(0,Wr.jsx)(ye,{path:"/reset-password/confirm",element:(0,Wr.jsx)(_h,{})}),(0,Wr.jsx)(ye,{path:"*",element:(0,Wr.jsx)(be,{to:"/login",replace:!0})})]})},Ip=function(){return console.log("App component rendering"),console.log("=== Environment Variables ==="),console.log("NODE_ENV:","production"),console.log("REACT_APP_SUPABASE_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL||"NOT SET"),console.log("REACT_APP_SUPABASE_ANON_KEY:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY?"***":"NOT SET"),console.log("REACT_APP_API_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"NOT SET"),console.log("REACT_APP_GOOGLE_CLIENT_ID:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_CLIENT_ID||"NOT SET"),console.log("=============================="),(0,Wr.jsx)(Jr,{children:(0,Wr.jsx)(Hr,{children:(0,Wr.jsx)(Lp,{})})})};a.createRoot(document.getElementById("root")).render((0,Wr.jsx)(i.StrictMode,{children:(0,Wr.jsx)(Ee,{children:(0,Wr.jsx)(Ip,{})})}))})();
//# sourceMappingURL=main.e1cf8485.js.map